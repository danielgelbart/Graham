2015-Feb-02 17:42:50Logger up
17:42:50 DMMM SELECT stocks.id,stocks.name,stocks.ticker,stocks.created_at,stocks.updated_at,stocks.ttm_eps,stocks.book_value_per_share,stocks.dividends_per_year,stocks.latest_price,stocks.market_cap,stocks.ttm_div,stocks.yield,stocks.listed,stocks.has_currant_ratio,stocks.mark,stocks.cik,stocks.fiscal_year_end FROM stocks WHERE stocks.ticker = 'CVX'

2015-Feb-02 17:42:50 INFO 6MB PID  40 Test.cpp:getReportsTest() --- 
 --- Testing retreval of reports forCVX  ---
17:42:50 DMMM SELECT DATABASE()

2015-Feb-02 17:42:50 INFO 6MB PID  40 HttpClient.cpp:HttpClient() --- Initialized HttpClient with user agent Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)
2015-Feb-02 17:42:50 INFO 6MB PID  40 HttpClient.cpp:HttpClient() --- Got curl handle 0x9d4d40
2015-Feb-02 17:42:50 INFO 6MB PID  40 HttpClient.cpp:HttpClient() --- Using default interface
2015-Feb-02 17:42:50 INFO 7MB PID  40 HttpClient.cpp:httpGet() --- GETing http://www.sec.gov/cgi-bin/browse-edgar?action=getcompany&CIK=93410&type=10-k&dateb=&owner=exclude&count=40
2015-Feb-02 17:42:50 INFO 7MB PID  40 HttpClient.cpp:escapeUrl() --- actual get string: http://www.sec.gov/cgi-bin/browse-edgar?action=getcompany&CIK=93410&type=10-k&dateb=&owner=exclude&count=40
2015-Feb-02 17:42:51 INFO 7MB PID  40 Financials.cpp:getLastYear10KAcn() --- Got search results for CVX

2015-Feb-02 17:42:51 INFO 7MB PID  40 Parser.cpp:buildXmlTree() --- 
 going to build xml tree
2015-Feb-02 17:42:51 INFO 7MB PID  40 Parser.cpp:buildXmlTree() --- Completed construction of tree
2015-Feb-02 17:42:51 INFO 7MB PID  40 Parser.cpp:trToAcn() --- 
 Could not extract acn from tr with text:  : Filings : Format : Description : Filing Date : File/Film Number
2015-Feb-02 17:42:51 INFO 7MB PID  40 Parser.cpp:trToAcn() --- Extracted ACN: 0000093410-14-000011 filed on date2014-Feb-21
2015-Feb-02 17:42:51 INFO 7MB PID  40 Parser.cpp:trToAcn() --- Extracted ACN: 0000093410-13-000003 filed on date2013-Feb-22
2015-Feb-02 17:42:51 INFO 7MB PID  40 Financials.cpp:getLastYear10KAcn() --- Got acn 0000093410-14-000011
2015-Feb-02 17:42:51 INFO 7MB PID  40 Financials.cpp:getEdgarFiling() --- Called getEdgarFiling()

2015-Feb-02 17:42:51 INFO 7MB PID  40 Financials.cpp:getEdgarFiling() --- Created url string

2015-Feb-02 17:42:51 INFO 7MB PID  40 HttpClient.cpp:httpGet() --- GETing http://www.sec.gov/Archives/edgar/data/93410/0000093410-14-000011.txt
2015-Feb-02 17:42:51 INFO 7MB PID  40 HttpClient.cpp:escapeUrl() --- actual get string: http://www.sec.gov/Archives/edgar/data/93410/0000093410-14-000011.txt
2015-Feb-02 17:42:57 INFO 45MB PID  40 HttpClient.cpp:httpGet() --- Content type differs: Content-Type: text/plain rather than text/html
2015-Feb-02 17:42:57 INFO 45MB PID  40 Financials.cpp:getEdgarFiling() --- downloaded page

2015-Feb-02 17:42:57 INFO 45MB PID  40 HttpClient.cpp:httpGet() --- GETing http://www.sec.gov/cgi-bin/browse-edgar?action=getcompany&CIK=93410&type=10-k&dateb=&owner=exclude&count=40
2015-Feb-02 17:42:57 INFO 45MB PID  40 HttpClient.cpp:escapeUrl() --- actual get string: http://www.sec.gov/cgi-bin/browse-edgar?action=getcompany&CIK=93410&type=10-k&dateb=&owner=exclude&count=40
2015-Feb-02 17:42:57 INFO 45MB PID  40 Parser.cpp:buildXmlTree() --- 
 going to build xml tree
2015-Feb-02 17:42:57 INFO 45MB PID  40 Parser.cpp:buildXmlTree() --- Completed construction of tree
2015-Feb-02 17:42:57 INFO 45MB PID  40 Parser.cpp:trToAcn() --- 
 Could not extract acn from tr with text:  : Filings : Format : Description : Filing Date : File/Film Number
2015-Feb-02 17:42:57 INFO 45MB PID  40 Parser.cpp:trToAcn() --- Extracted ACN: 0000093410-14-000011 filed on date2014-Feb-21
2015-Feb-02 17:42:57 INFO 45MB PID  40 Parser.cpp:trToAcn() --- Extracted ACN: 0000093410-13-000003 filed on date2013-Feb-22
2015-Feb-02 17:42:57 INFO 45MB PID  40 Parser.cpp:trToAcn() --- Extracted ACN: 0000950123-12-002976 filed on date2012-Feb-23
2015-Feb-02 17:42:57 INFO 45MB PID  40 Parser.cpp:trToAcn() --- Extracted ACN: 0000950123-11-017688 filed on date2011-Feb-24
2015-Feb-02 17:42:57 INFO 45MB PID  40 Parser.cpp:trToAcn() --- Extracted ACN: 0000950123-10-016846 filed on date2010-Feb-25
2015-Feb-02 17:42:57 INFO 45MB PID  40 Parser.cpp:trToAcn() --- Extracted ACN: 0000891618-09-000054 filed on date2009-Feb-26
2015-Feb-02 17:42:57 INFO 45MB PID  40 Parser.cpp:trToAcn() --- 
 This is an AMEND to a previous statement:  : 10-K/A : &nbsp;Documents : Annual report [Section 13 and 15(d), not S-K Item 405]Acc-no: 0000950134-08-005470&nbsp;(34 Act)&nbsp; Size: 3 MB             : [Amend] : 2008-03-27 : 08713525          : 001-00368
2015-Feb-02 17:42:57 INFO 45MB PID  40 Parser.cpp:trToAcn() --- Extracted ACN: 0000950134-08-003672 filed on date2008-Feb-28
2015-Feb-02 17:42:57 INFO 45MB PID  40 Parser.cpp:trToAcn() --- Extracted ACN: 0000950149-07-000074 filed on date2007-Feb-28
2015-Feb-02 17:42:57 INFO 45MB PID  40 Parser.cpp:trToAcn() --- Extracted ACN: 0000950149-06-000076 filed on date2006-Mar-01
2015-Feb-02 17:42:57 INFO 45MB PID  40 Parser.cpp:trToAcn() --- Extracted ACN: 0000950134-05-004137 filed on date2005-Mar-03
2015-Feb-02 17:42:57 INFO 45MB PID  40 Parser.cpp:trToAcn() --- Extracted ACN: 0000950134-04-003128 filed on date2004-Mar-09
2015-Feb-02 17:42:57 INFO 45MB PID  40 Financials.cpp:getSingleYear() --- 
 Got Acn: 0000093410-14-000011 date: 2014-Feb-21 quartr: 017:42:57 DMMM SELECT eps.id,eps.year,eps.source,eps.eps,eps.stock_id,eps.created_at,eps.updated_at,eps.revenue,eps.net_income,eps.quarter,eps.report_date,eps.shares FROM eps WHERE eps.stock_id = '20'

2015-Feb-02 17:42:57 INFO 45MB PID  40 Financials.cpp:reportWithin3Months() --- 
 Report date is 2014-Feb-21
2015-Feb-02 17:42:57 INFO 45MB PID  40 Financials.cpp:reportWithin3Months() --- 
 report is for year ended 2013-Dec-31
2015-Feb-02 17:42:57 INFO 45MB PID  40 Financials.cpp:getSingleYear() --- Got ACN for specific year 2013
2015-Feb-02 17:42:57 INFO 45MB PID  40 Financials.cpp:getEdgarFiling() --- Called getEdgarFiling()

2015-Feb-02 17:42:57 INFO 45MB PID  40 Financials.cpp:getEdgarFiling() --- Created url string

2015-Feb-02 17:42:57 INFO 45MB PID  40 HttpClient.cpp:httpGet() --- GETing http://www.sec.gov/Archives/edgar/data/93410/0000093410-14-000011.txt
2015-Feb-02 17:42:57 INFO 45MB PID  40 HttpClient.cpp:escapeUrl() --- actual get string: http://www.sec.gov/Archives/edgar/data/93410/0000093410-14-000011.txt
2015-Feb-02 17:43:03 INFO 82MB PID  40 HttpClient.cpp:httpGet() --- Content type differs: Content-Type: text/plain rather than text/html
2015-Feb-02 17:43:03 INFO 82MB PID  40 Financials.cpp:getEdgarFiling() --- downloaded page

2015-Feb-02 17:43:03 INFO 82MB PID  40 Tokenizer.cpp:getReportDocNames() --- Tokenizer::getReportDocNames() called

2015-Feb-02 17:43:03 INFO 82MB PID  40 Tokenizer.cpp:getReportDocNames() --- 
 Handling report named: 

2015-Feb-02 17:43:03 INFO 82MB PID  40 Tokenizer.cpp:getReportDocNames() --- 
 Handling report named: Document and Entity Information

2015-Feb-02 17:43:03 INFO 82MB PID  40 Tokenizer.cpp:getReportDocNames() --- FOUND COVER REPORT
Document and Entity Information

2015-Feb-02 17:43:03 INFO 82MB PID  40 Tokenizer.cpp:getReportDocNames() --- 
 Handling report named: Consolidated Statement of Income

2015-Feb-02 17:43:03 INFO 82MB PID  40 Tokenizer.cpp:getReportDocNames() --- FOUND INCOME REPORT MATCH!
Consolidated Statement of Income

2015-Feb-02 17:43:03 INFO 82MB PID  40 Tokenizer.cpp:getReportDocNames() --- 
 Handling report named: Consolidated Statement of Income (Parenthetical)

2015-Feb-02 17:43:03 INFO 82MB PID  40 Tokenizer.cpp:getReportDocNames() --- 
 Handling report named: Consolidated Statement of Comprehensive Income

2015-Feb-02 17:43:03 INFO 82MB PID  40 Tokenizer.cpp:getReportDocNames() --- 
 Handling report named: Consolidated Balance Sheet

2015-Feb-02 17:43:03 INFO 82MB PID  40 Tokenizer.cpp:getReportDocNames() --- FOUND BALANCE REPORT MATCH!
Consolidated Balance Sheet

2015-Feb-02 17:43:03 INFO 82MB PID  40 Parser.cpp:buildXmlTree() --- 
 going to build xml tree
2015-Feb-02 17:43:03 INFO 82MB PID  40 Parser.cpp:buildXmlTree() --- Completed construction of tree
2015-Feb-02 17:43:03 INFO 82MB PID  40 Parser.cpp:getUnitsAndCurrency() --- 
 Title text is :  : Consolidated Statement of Income (USD $)In Millions, except Per Share data, unless otherwise specified : 12 Months Ended : Dec. 31, 2013 : Dec. 31, 2012 : Dec. 31, 2011
2015-Feb-02 17:43:03 INFO 82MB PID  40 Parser.cpp:getUnitsAndCurrency() --- Title text May contain multiple units. Spliting it
2015-Feb-02 17:43:03 INFO 82MB PID  40 Parser.cpp:getUnitsAndCurrency() --- (general) Units are being set to 000000 Currency is being set to USD
2015-Feb-02 17:43:03 INFO 82MB PID  40 Parser.cpp:checkForShareUnitsInTitle() --- Checking for share units in title text 
2015-Feb-02 17:43:03 INFO 82MB PID  40 Parser.cpp:get_units_from_text() --- Could not extract units from text: 
 except Per Share data, unless otherwise specified : 12 Months Ended : Dec. 31, 2013 : Dec. 31, 2012 : Dec. 31, 2011
2015-Feb-02 17:43:03 INFO 82MB PID  40 Parser.cpp:checkTrPattern() --- 
 regex match in text:  : Revenues and Other Income : &#xA0; : &#xA0; : &#xA0;
2015-Feb-02 17:43:03 INFO 82MB PID  40 Parser.cpp:checkTrPattern() --- 
 regex match in text:  : Sales and other operating revenues : $ 220,156 : [1] : $ 230,590 : [1] : $ 244,371 : [1]
2015-Feb-02 17:43:03 INFO 82MB PID  40 Parser.cpp:checkTrPattern() --- 
 extracted val is220,156
2015-Feb-02 17:43:03 INFO 82MB PID  40 Parser.cpp:checkTrPattern() --- 
 regex match in text:  : Net Income : 21,597 : 26,336 : 27,008
2015-Feb-02 17:43:03 INFO 82MB PID  40 Parser.cpp:checkTrPattern() --- 
 extracted val is21,597
2015-Feb-02 17:43:03 INFO 82MB PID  40 Parser.cpp:checkTrPattern() --- 
 regex match in text:  : Net Income Attributable to Chevron Corporation - Diluted : $ 11.09 : $ 13.32 : $ 13.44
2015-Feb-02 17:43:03 INFO 82MB PID  40 Parser.cpp:checkTrPattern() --- 
 extracted val is11.09
2015-Feb-02 17:43:03 INFO 82MB PID  40 Parser.cpp:writeEpsToEarnings() --- Writing eps of 11.09
17:43:03 DMMM SELECT stocks.id,stocks.name,stocks.ticker,stocks.created_at,stocks.updated_at,stocks.ttm_eps,stocks.book_value_per_share,stocks.dividends_per_year,stocks.latest_price,stocks.market_cap,stocks.ttm_div,stocks.yield,stocks.listed,stocks.has_currant_ratio,stocks.mark,stocks.cik,stocks.fiscal_year_end FROM stocks WHERE stocks.id = '20' limit 1
17:43:03 DMMM SELECT eps.id,eps.year,eps.source,eps.eps,eps.stock_id,eps.created_at,eps.updated_at,eps.revenue,eps.net_income,eps.quarter,eps.report_date,eps.shares FROM eps WHERE eps.stock_id = '20'
17:43:03 DMMM INSERT INTO eps (created_at,eps,net_income,quarter,revenue,shares,source,stock_id,year)VALUES(NOW(),11.09,'21597000000',0,'220156000000','','edgar.com',20,2013)

2015-Feb-02 17:43:03 INFO 82MB PID  40 Financials.cpp:addEarningsRecordToDB() --- 
Entered NEW Earnings Record to DB for CVX. YEAR: 2013 Q: 0 REV: 220156000000 INC: 21597000000 SHARES:  EPS: 11.09

2015-Feb-02 17:43:03 INFO 45MB PID  40 Test.cpp:getReportsTest() --- Got 3 reports
17:43:03 DMMM SELECT eps.id,eps.year,eps.source,eps.eps,eps.stock_id,eps.created_at,eps.updated_at,eps.revenue,eps.net_income,eps.quarter,eps.report_date,eps.shares FROM eps WHERE (eps.stock_id = '20') AND (eps.year = '2013')
17:43:03 DMMM SELECT eps.id,eps.year,eps.source,eps.eps,eps.stock_id,eps.created_at,eps.updated_at,eps.revenue,eps.net_income,eps.quarter,eps.report_date,eps.shares FROM eps WHERE (eps.stock_id = '20') AND (eps.year = '2013')

2015-Feb-02 17:43:03 INFO 45MB PID  40 Test.cpp:getReportsTest() --- 
 Testing values extracted for eps record with id: 84, stock_id is: 20 year 2013, revenue: 220156000000, income: 21597000000, and eps: 11.090000
17:43:03 DMMM DELETE FROM eps WHERE eps.id = '84'

2015-Feb-02 17:43:03 INFO 45MB PID  40 Test.cpp:getReportsTest() --- 
Testing shows 1 failures as follows:
1. CVX: No Share data exracted from Income Statement

2015-Feb-02 17:43:03 INFO 8MB PID  40 HttpClient.cpp:~HttpClient() --- shutting down httpclient
