2015-Feb-07 14:49:27Logger up
14:49:27 DMMM SELECT stocks.id,stocks.name,stocks.ticker,stocks.created_at,stocks.updated_at,stocks.ttm_eps,stocks.book_value_per_share,stocks.dividends_per_year,stocks.latest_price,stocks.market_cap,stocks.ttm_div,stocks.yield,stocks.listed,stocks.has_currant_ratio,stocks.mark,stocks.cik,stocks.fiscal_year_end FROM stocks WHERE stocks.ticker = 'DE'

2015-Feb-07 14:49:27 INFO 6MB PID  32 Test.cpp:getReportsTest() --- 
 --- Testing retreval of reports forDE  ---
14:49:27 DMMM SELECT DATABASE()

2015-Feb-07 14:49:27 INFO 6MB PID  32 HttpClient.cpp:HttpClient() --- Initialized HttpClient with user agent Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)
2015-Feb-07 14:49:27 INFO 6MB PID  32 HttpClient.cpp:HttpClient() --- Got curl handle 0x1031d80
2015-Feb-07 14:49:27 INFO 6MB PID  32 HttpClient.cpp:HttpClient() --- Using default interface
2015-Feb-07 14:49:27 INFO 7MB PID  32 HttpClient.cpp:httpGet() --- GETing http://www.sec.gov/cgi-bin/browse-edgar?action=getcompany&CIK=315189&type=10-k&dateb=&owner=exclude&count=40
2015-Feb-07 14:49:27 INFO 7MB PID  32 HttpClient.cpp:escapeUrl() --- actual get string: http://www.sec.gov/cgi-bin/browse-edgar?action=getcompany&CIK=315189&type=10-k&dateb=&owner=exclude&count=40
2015-Feb-07 14:49:29 INFO 7MB PID  32 Financials.cpp:getLastYear10KAcn() --- Got search results for DE

2015-Feb-07 14:49:29 INFO 7MB PID  32 Parser.cpp:buildXmlTree() --- 
 going to build xml tree
2015-Feb-07 14:49:29 INFO 7MB PID  32 Parser.cpp:buildXmlTree() --- Completed construction of tree
2015-Feb-07 14:49:29 INFO 7MB PID  32 Parser.cpp:trToAcn() --- 
 Could not extract acn from tr with text:  : Filings : Format : Description : Filing Date : File/Film Number
2015-Feb-07 14:49:29 INFO 7MB PID  32 Parser.cpp:trToAcn() --- Extracted ACN: 0001104659-14-087794 filed on date2014-Dec-19
2015-Feb-07 14:49:29 INFO 7MB PID  32 Parser.cpp:trToAcn() --- Extracted ACN: 0001104659-13-090354 filed on date2013-Dec-16
2015-Feb-07 14:49:29 INFO 7MB PID  32 Financials.cpp:getLastYear10KAcn() --- Got acn 0001104659-14-087794
2015-Feb-07 14:49:29 INFO 7MB PID  32 Financials.cpp:getEdgarFiling() --- Called getEdgarFiling()

2015-Feb-07 14:49:29 INFO 7MB PID  32 Financials.cpp:getEdgarFiling() --- Created url string

2015-Feb-07 14:49:29 INFO 7MB PID  32 HttpClient.cpp:httpGet() --- GETing http://www.sec.gov/Archives/edgar/data/315189/0001104659-14-087794.txt
2015-Feb-07 14:49:29 INFO 7MB PID  32 HttpClient.cpp:escapeUrl() --- actual get string: http://www.sec.gov/Archives/edgar/data/315189/0001104659-14-087794.txt
2015-Feb-07 14:49:56 INFO 56MB PID  32 HttpClient.cpp:httpGet() --- Content type differs: Content-Type: text/plain rather than text/html
2015-Feb-07 14:49:56 INFO 56MB PID  32 Financials.cpp:getEdgarFiling() --- downloaded page

2015-Feb-07 14:49:56 INFO 56MB PID  32 HttpClient.cpp:httpGet() --- GETing http://www.sec.gov/cgi-bin/browse-edgar?action=getcompany&CIK=315189&type=10-k&dateb=&owner=exclude&count=40
2015-Feb-07 14:49:56 INFO 56MB PID  32 HttpClient.cpp:escapeUrl() --- actual get string: http://www.sec.gov/cgi-bin/browse-edgar?action=getcompany&CIK=315189&type=10-k&dateb=&owner=exclude&count=40
2015-Feb-07 14:49:57 INFO 56MB PID  32 Parser.cpp:buildXmlTree() --- 
 going to build xml tree
2015-Feb-07 14:49:57 INFO 56MB PID  32 Parser.cpp:buildXmlTree() --- Completed construction of tree
2015-Feb-07 14:49:57 INFO 56MB PID  32 Parser.cpp:trToAcn() --- 
 Could not extract acn from tr with text:  : Filings : Format : Description : Filing Date : File/Film Number
2015-Feb-07 14:49:57 INFO 56MB PID  32 Parser.cpp:trToAcn() --- Extracted ACN: 0001104659-14-087794 filed on date2014-Dec-19
2015-Feb-07 14:49:57 INFO 56MB PID  32 Parser.cpp:trToAcn() --- Extracted ACN: 0001104659-13-090354 filed on date2013-Dec-16
2015-Feb-07 14:49:57 INFO 56MB PID  32 Parser.cpp:trToAcn() --- Extracted ACN: 0001104659-12-084558 filed on date2012-Dec-17
2015-Feb-07 14:49:57 INFO 56MB PID  32 Parser.cpp:trToAcn() --- Extracted ACN: 0001104659-11-070023 filed on date2011-Dec-19
2015-Feb-07 14:49:57 INFO 56MB PID  32 Parser.cpp:trToAcn() --- Extracted ACN: 0001104659-10-063219 filed on date2010-Dec-17
2015-Feb-07 14:49:57 INFO 56MB PID  32 Parser.cpp:trToAcn() --- Extracted ACN: 0001104659-09-070344 filed on date2009-Dec-17
2015-Feb-07 14:49:57 INFO 56MB PID  32 Parser.cpp:trToAcn() --- Extracted ACN: 0001104659-08-077324 filed on date2008-Dec-18
2015-Feb-07 14:49:57 INFO 56MB PID  32 Parser.cpp:trToAcn() --- Extracted ACN: 0001104659-07-090067 filed on date2007-Dec-20
2015-Feb-07 14:49:57 INFO 56MB PID  32 Parser.cpp:trToAcn() --- Extracted ACN: 0001104659-06-082456 filed on date2006-Dec-19
2015-Feb-07 14:49:57 INFO 56MB PID  32 Parser.cpp:trToAcn() --- Extracted ACN: 0001104659-05-061732 filed on date2005-Dec-20
2015-Feb-07 14:49:57 INFO 56MB PID  32 Parser.cpp:trToAcn() --- Extracted ACN: 0001104659-04-040625 filed on date2004-Dec-21
2015-Feb-07 14:49:57 INFO 56MB PID  32 Financials.cpp:getSingleYear() --- 
 Got Acn: 0001104659-14-087794 date: 2014-Dec-19 quartr: 014:49:57 DMMM SELECT eps.id,eps.year,eps.source,eps.eps,eps.stock_id,eps.created_at,eps.updated_at,eps.revenue,eps.net_income,eps.quarter,eps.report_date,eps.shares FROM eps WHERE eps.stock_id = '23'

2015-Feb-07 14:49:57 INFO 56MB PID  32 Financials.cpp:reportWithin3Months() --- 
 Report date is 2014-Dec-19
2015-Feb-07 14:49:57 INFO 56MB PID  32 Financials.cpp:reportWithin3Months() --- 
 report is for year ended 2014-Oct-31
2015-Feb-07 14:49:57 INFO 56MB PID  32 Financials.cpp:getSingleYear() --- 
 Got Acn: 0001104659-13-090354 date: 2013-Dec-16 quartr: 014:49:57 DMMM SELECT eps.id,eps.year,eps.source,eps.eps,eps.stock_id,eps.created_at,eps.updated_at,eps.revenue,eps.net_income,eps.quarter,eps.report_date,eps.shares FROM eps WHERE eps.stock_id = '23'

2015-Feb-07 14:49:57 INFO 56MB PID  32 Financials.cpp:reportWithin3Months() --- 
 Report date is 2013-Dec-16
2015-Feb-07 14:49:57 INFO 56MB PID  32 Financials.cpp:reportWithin3Months() --- 
 report is for year ended 2013-Oct-31
2015-Feb-07 14:49:57 INFO 56MB PID  32 Financials.cpp:getSingleYear() --- Got ACN for specific year 2013
2015-Feb-07 14:49:57 INFO 56MB PID  32 Financials.cpp:getEdgarFiling() --- Called getEdgarFiling()

2015-Feb-07 14:49:57 INFO 56MB PID  32 Financials.cpp:getEdgarFiling() --- Created url string

2015-Feb-07 14:49:57 INFO 56MB PID  32 HttpClient.cpp:httpGet() --- GETing http://www.sec.gov/Archives/edgar/data/315189/0001104659-13-090354.txt
2015-Feb-07 14:49:57 INFO 56MB PID  32 HttpClient.cpp:escapeUrl() --- actual get string: http://www.sec.gov/Archives/edgar/data/315189/0001104659-13-090354.txt
2015-Feb-07 14:50:18 INFO 97MB PID  32 HttpClient.cpp:httpGet() --- Content type differs: Content-Type: text/plain rather than text/html
2015-Feb-07 14:50:18 INFO 97MB PID  32 Financials.cpp:getEdgarFiling() --- downloaded page

2015-Feb-07 14:50:19 INFO 97MB PID  32 Tokenizer.cpp:getReportDocNames() --- Tokenizer::getReportDocNames() called

2015-Feb-07 14:50:19 INFO 97MB PID  32 Tokenizer.cpp:getReportDocNames() --- 
 Handling report named: 

2015-Feb-07 14:50:19 INFO 97MB PID  32 Tokenizer.cpp:getReportDocNames() --- 
 Handling report named: Document and Entity Information

2015-Feb-07 14:50:19 INFO 97MB PID  32 Tokenizer.cpp:getReportDocNames() --- FOUND COVER REPORT
Document and Entity Information

2015-Feb-07 14:50:19 INFO 97MB PID  32 Tokenizer.cpp:getReportDocNames() --- 
 Handling report named: STATEMENT OF CONSOLIDATED INCOME

2015-Feb-07 14:50:19 INFO 97MB PID  32 Tokenizer.cpp:getReportDocNames() --- FOUND INCOME REPORT MATCH!
STATEMENT OF CONSOLIDATED INCOME

2015-Feb-07 14:50:19 INFO 97MB PID  32 Tokenizer.cpp:getReportDocNames() --- 
 Handling report named: STATEMENT OF CONSOLIDATED COMPREHENSIVE INCOME

2015-Feb-07 14:50:19 INFO 97MB PID  32 Tokenizer.cpp:getReportDocNames() --- 
 Handling report named: CONSOLIDATED BALANCE SHEET

2015-Feb-07 14:50:19 INFO 97MB PID  32 Tokenizer.cpp:getReportDocNames() --- FOUND BALANCE REPORT MATCH!
CONSOLIDATED BALANCE SHEET

2015-Feb-07 14:50:19 INFO 97MB PID  32 Parser.cpp:buildXmlTree() --- 
 going to build xml tree
2015-Feb-07 14:50:19 INFO 97MB PID  32 Parser.cpp:buildXmlTree() --- Completed construction of tree
2015-Feb-07 14:50:19 INFO 97MB PID  32 Parser.cpp:getUnitsAndCurrency() --- 
 Title text is :  : STATEMENT OF CONSOLIDATED INCOME (USD $)In Millions, except Per Share data, unless otherwise specified : 3 Months Ended : 12 Months Ended : Oct. 31, 2013 : Jul. 31, 2013 : Apr. 30, 2013 : Jan. 31, 2013 : Oct. 31, 2012 : Jul. 31, 2012 : Apr. 30, 2012 : Jan. 31, 2012 : Oct. 31, 2013 : Oct. 31, 2012 : Oct. 31, 2011
2015-Feb-07 14:50:19 INFO 97MB PID  32 Parser.cpp:getUnitsAndCurrency() --- Title text May contain multiple units. Spliting it
2015-Feb-07 14:50:19 INFO 97MB PID  32 Parser.cpp:getUnitsAndCurrency() --- (general) Units are being set to 000000 Currency is being set to USD
2015-Feb-07 14:50:19 INFO 97MB PID  32 Parser.cpp:checkForShareUnitsInTitle() --- Checking for share units in title text 
2015-Feb-07 14:50:19 INFO 97MB PID  32 Parser.cpp:get_units_from_text() --- Could not extract units from text: 
 except Per Share data, unless otherwise specified : 3 Months Ended : 12 Months Ended : Oct. 31, 2013 : Jul. 31, 2013 : Apr. 30, 2013 : Jan. 31, 2013 : Oct. 31, 2012 : Jul. 31, 2012 : Apr. 30, 2012 : Jan. 31, 2012 : Oct. 31, 2013 : Oct. 31, 2012 : Oct. 31, 2011
2015-Feb-07 14:50:19 INFO 97MB PID  32 Parser.cpp:findColumnToExtract() --- Setting column index to 9
2015-Feb-07 14:50:19 INFO 97MB PID  32 Parser.cpp:extractTotalRevenue() --- Looking for revenue by block strocture
2015-Feb-07 14:50:19 INFO 97MB PID  32 Parser.cpp:checkTrPattern() --- 
 regex match in text:  : Total : 9,451.0 : 10,010.0 : 10,913.0 : 7,421.0 : 9,792.0 : 9,590.0 : 10,009.0 : 6,766.0 : 37,795.4 : 36,157.1 : 32,012.5
 col to get is: 9
2015-Feb-07 14:50:19 INFO 97MB PID  32 Parser.cpp:at() --- called at() with value9
2015-Feb-07 14:50:19 INFO 97MB PID  32 Parser.cpp:at() --- Node has 12 children
2015-Feb-07 14:50:19 INFO 97MB PID  32 Parser.cpp:at() --- Going to return  : Total : 9,451.0 : 10,010.0 : 10,913.0 : 7,421.0 : 9,792.0 : 9,590.0 : 10,009.0 : 6,766.0 : 37,795.4 : 36,157.1 : 32,012.5   child number9
2015-Feb-07 14:50:19 INFO 97MB PID  32 Parser.cpp:checkTrPattern() --- Matching val from text:  : 37,795.4
2015-Feb-07 14:50:19 INFO 97MB PID  32 Parser.cpp:checkTrPattern() --- 
 extracted val is37,795
2015-Feb-07 14:50:19 INFO 97MB PID  32 Parser.cpp:parseIncomeTree() --- Succesfully found revenue
2015-Feb-07 14:50:19 INFO 97MB PID  32 Parser.cpp:checkTrPattern() --- 
 regex match in text:  : Net Income : &#xA0; : &#xA0; : &#xA0; : &#xA0; : &#xA0; : &#xA0; : &#xA0; : &#xA0; : 3,537.6 : 3,071.6 : 2,807.8
 col to get is: 9
2015-Feb-07 14:50:19 INFO 97MB PID  32 Parser.cpp:at() --- called at() with value9
2015-Feb-07 14:50:19 INFO 97MB PID  32 Parser.cpp:at() --- Node has 12 children
2015-Feb-07 14:50:19 INFO 97MB PID  32 Parser.cpp:at() --- Going to return  : Net Income : &#xA0; : &#xA0; : &#xA0; : &#xA0; : &#xA0; : &#xA0; : &#xA0; : &#xA0; : 3,537.6 : 3,071.6 : 2,807.8   child number9
2015-Feb-07 14:50:19 INFO 97MB PID  32 Parser.cpp:checkTrPattern() --- Matching val from text:  : 3,537.6
2015-Feb-07 14:50:19 INFO 97MB PID  32 Parser.cpp:checkTrPattern() --- 
 extracted val is3,537
2015-Feb-07 14:50:19 INFO 97MB PID  32 Parser.cpp:parseIncomeTree() --- Looking for shares block

2015-Feb-07 14:50:19 INFO 97MB PID  32 Parser.cpp:parseIncomeTree() --- Looking for shares block

2015-Feb-07 14:50:19 INFO 97MB PID  32 Parser.cpp:parseIncomeTree() --- Looking for shares block

2015-Feb-07 14:50:19 INFO 97MB PID  32 Parser.cpp:checkTrPattern() --- 
 regex match in text:  : Diluted (in dollars per share) : $ 2.11 : $ 2.56 : $ 2.76 : $ 1.65 : $ 1.75 : $ 1.98 : $ 2.61 : $ 1.30 : $ 9.09 : $ 7.63 : $ 6.63
 col to get is: 9
2015-Feb-07 14:50:19 INFO 97MB PID  32 Parser.cpp:at() --- called at() with value9
2015-Feb-07 14:50:19 INFO 97MB PID  32 Parser.cpp:at() --- Node has 12 children
2015-Feb-07 14:50:19 INFO 97MB PID  32 Parser.cpp:at() --- Going to return  : Diluted (in dollars per share) : $ 2.11 : $ 2.56 : $ 2.76 : $ 1.65 : $ 1.75 : $ 1.98 : $ 2.61 : $ 1.30 : $ 9.09 : $ 7.63 : $ 6.63   child number9
2015-Feb-07 14:50:19 INFO 97MB PID  32 Parser.cpp:checkTrPattern() --- Matching val from text:  : $ 9.09
2015-Feb-07 14:50:19 INFO 97MB PID  32 Parser.cpp:checkTrPattern() --- 
 extracted val is9.09
2015-Feb-07 14:50:19 INFO 97MB PID  32 Parser.cpp:writeEpsToEarnings() --- Writing eps of 9.09

2015-Feb-07 14:50:19 INFO 97MB PID  32 Parser.cpp:parseIncomeTree() --- Looking for shares block

2015-Feb-07 14:50:19 INFO 97MB PID  32 Parser.cpp:parseIncomeTree() --- Looking for shares block

2015-Feb-07 14:50:19 INFO 97MB PID  32 Parser.cpp:parseIncomeTree() --- Looking for shares line

2015-Feb-07 14:50:19 INFO 97MB PID  32 Parser.cpp:parseIncomeTree() --- Looking for shares line

2015-Feb-07 14:50:19 INFO 97MB PID  32 Parser.cpp:checkTrPattern() --- 
 regex match in text:  : Diluted (in shares) : &#xA0; : &#xA0; : &#xA0; : &#xA0; : &#xA0; : &#xA0; : &#xA0; : &#xA0; : 389.2 : 401.5 : 422.4
 col to get is: 9
2015-Feb-07 14:50:19 INFO 97MB PID  32 Parser.cpp:at() --- called at() with value9
2015-Feb-07 14:50:19 INFO 97MB PID  32 Parser.cpp:at() --- Node has 12 children
2015-Feb-07 14:50:19 INFO 97MB PID  32 Parser.cpp:at() --- Going to return  : Diluted (in shares) : &#xA0; : &#xA0; : &#xA0; : &#xA0; : &#xA0; : &#xA0; : &#xA0; : &#xA0; : 389.2 : 401.5 : 422.4   child number9
2015-Feb-07 14:50:19 INFO 97MB PID  32 Parser.cpp:checkTrPattern() --- Matching val from text:  : 389.2
2015-Feb-07 14:50:19 INFO 97MB PID  32 Parser.cpp:checkTrPattern() --- 
 extracted val is389
2015-Feb-07 14:50:19 INFO 97MB PID  32 Parser.cpp:writeNsToEarnings() --- 
**NOTE: Retrieved numshares value of: 389 wich seems low, as well as not being able to extract units for numshares. Therefore, using units found for general porpuse |000000 

2015-Feb-07 14:50:19 INFO 97MB PID  32 Parser.cpp:writeNsToEarnings() --- Adding Num Shares value of: 389
14:50:19 DMMM SELECT stocks.id,stocks.name,stocks.ticker,stocks.created_at,stocks.updated_at,stocks.ttm_eps,stocks.book_value_per_share,stocks.dividends_per_year,stocks.latest_price,stocks.market_cap,stocks.ttm_div,stocks.yield,stocks.listed,stocks.has_currant_ratio,stocks.mark,stocks.cik,stocks.fiscal_year_end FROM stocks WHERE stocks.id = '23' limit 1
14:50:19 DMMM SELECT eps.id,eps.year,eps.source,eps.eps,eps.stock_id,eps.created_at,eps.updated_at,eps.revenue,eps.net_income,eps.quarter,eps.report_date,eps.shares FROM eps WHERE eps.stock_id = '23'
14:50:19 DMMM INSERT INTO eps (created_at,eps,net_income,quarter,revenue,shares,source,stock_id,year)VALUES(NOW(),9.0899999999999999,'3537000000',0,'37795000000','389','edgar.com',23,2013)

2015-Feb-07 14:50:19 INFO 97MB PID  32 Financials.cpp:addEarningsRecordToDB() --- 
Entered NEW Earnings Record to DB for DE. YEAR: 2013 Q: 0 REV: 37795000000 INC: 3537000000 SHARES: 389 EPS: 9.09

2015-Feb-07 14:50:19 INFO 56MB PID  32 Test.cpp:getReportsTest() --- Got 3 reports
14:50:19 DMMM SELECT eps.id,eps.year,eps.source,eps.eps,eps.stock_id,eps.created_at,eps.updated_at,eps.revenue,eps.net_income,eps.quarter,eps.report_date,eps.shares FROM eps WHERE (eps.stock_id = '23') AND (eps.year = '2013')
14:50:19 DMMM SELECT eps.id,eps.year,eps.source,eps.eps,eps.stock_id,eps.created_at,eps.updated_at,eps.revenue,eps.net_income,eps.quarter,eps.report_date,eps.shares FROM eps WHERE (eps.stock_id = '23') AND (eps.year = '2013')

2015-Feb-07 14:50:19 INFO 56MB PID  32 Test.cpp:getReportsTest() --- 
 Testing values extracted for eps record with id: 99, stock_id is: 23 year 2013, revenue: 37795000000, income: 3537000000, and eps: 9.090000
14:50:19 DMMM DELETE FROM eps WHERE eps.id = '99'

2015-Feb-07 14:50:19 INFO 56MB PID  32 Test.cpp:getReportsTest() --- 
Great!!! Everything is working
2015-Feb-07 14:50:19 INFO 8MB PID  32 HttpClient.cpp:~HttpClient() --- shutting down httpclient
