2015-Feb-11 17:25:27Logger up
17:25:27 DMMM SELECT stocks.id,stocks.name,stocks.ticker,stocks.created_at,stocks.updated_at,stocks.ttm_eps,stocks.book_value_per_share,stocks.dividends_per_year,stocks.latest_price,stocks.market_cap,stocks.ttm_div,stocks.yield,stocks.listed,stocks.has_currant_ratio,stocks.mark,stocks.cik,stocks.fiscal_year_end FROM stocks WHERE stocks.ticker = 'AOS'

2015-Feb-11 17:25:27 INFO 6MB PID 552 Test.cpp:getReportsTest() --- 
 --- Testing retreval of reports forAOS  ---
17:25:27 DMMM SELECT DATABASE()

2015-Feb-11 17:25:27 INFO 6MB PID 552 HttpClient.cpp:HttpClient() --- Initialized HttpClient with user agent Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)
2015-Feb-11 17:25:27 INFO 6MB PID 552 HttpClient.cpp:HttpClient() --- Got curl handle 0x12f5d80
2015-Feb-11 17:25:27 INFO 6MB PID 552 HttpClient.cpp:HttpClient() --- Using default interface
2015-Feb-11 17:25:27 INFO 7MB PID 552 HttpClient.cpp:httpGet() --- GETing http://www.sec.gov/cgi-bin/browse-edgar?action=getcompany&CIK=91142&type=10-k&dateb=&owner=exclude&count=40
2015-Feb-11 17:25:27 INFO 7MB PID 552 HttpClient.cpp:escapeUrl() --- actual get string: http://www.sec.gov/cgi-bin/browse-edgar?action=getcompany&CIK=91142&type=10-k&dateb=&owner=exclude&count=40
2015-Feb-11 17:25:28 INFO 7MB PID 552 Financials.cpp:getLastYear10KAcn() --- Got search results for AOS

2015-Feb-11 17:25:28 INFO 7MB PID 552 Parser.cpp:buildXmlTree() --- 
 going to build xml tree
2015-Feb-11 17:25:28 INFO 7MB PID 552 Parser.cpp:buildXmlTree() --- Completed construction of tree
2015-Feb-11 17:25:28 INFO 7MB PID 552 Parser.cpp:trToAcn() --- 
 Could not extract acn from tr with text:  : Filings : Format : Description : Filing Date : File/Film Number
2015-Feb-11 17:25:28 INFO 7MB PID 552 Parser.cpp:trToAcn() --- Extracted ACN: 0001193125-14-060153 filed on date2014-Feb-20
2015-Feb-11 17:25:28 INFO 7MB PID 552 Parser.cpp:trToAcn() --- Extracted ACN: 0001193125-13-080129 filed on date2013-Feb-27
2015-Feb-11 17:25:28 INFO 7MB PID 552 Financials.cpp:getLastYear10KAcn() --- Got acn 0001193125-14-060153
2015-Feb-11 17:25:28 INFO 7MB PID 552 Financials.cpp:getEdgarFiling() --- Called getEdgarFiling()

2015-Feb-11 17:25:28 INFO 7MB PID 552 Financials.cpp:getEdgarFiling() --- Created url string

2015-Feb-11 17:25:28 INFO 7MB PID 552 HttpClient.cpp:httpGet() --- GETing http://www.sec.gov/Archives/edgar/data/91142/0001193125-14-060153.txt
2015-Feb-11 17:25:28 INFO 7MB PID 552 HttpClient.cpp:escapeUrl() --- actual get string: http://www.sec.gov/Archives/edgar/data/91142/0001193125-14-060153.txt
2015-Feb-11 17:25:29 INFO 20MB PID 552 HttpClient.cpp:httpGet() --- Content type differs: Content-Type: text/plain rather than text/html
2015-Feb-11 17:25:29 INFO 20MB PID 552 Financials.cpp:getEdgarFiling() --- downloaded page

2015-Feb-11 17:25:29 INFO 20MB PID 552 HttpClient.cpp:httpGet() --- GETing http://www.sec.gov/cgi-bin/browse-edgar?action=getcompany&CIK=91142&type=10-k&dateb=&owner=exclude&count=40
2015-Feb-11 17:25:29 INFO 20MB PID 552 HttpClient.cpp:escapeUrl() --- actual get string: http://www.sec.gov/cgi-bin/browse-edgar?action=getcompany&CIK=91142&type=10-k&dateb=&owner=exclude&count=40
2015-Feb-11 17:25:29 INFO 20MB PID 552 Parser.cpp:buildXmlTree() --- 
 going to build xml tree
2015-Feb-11 17:25:29 INFO 20MB PID 552 Parser.cpp:buildXmlTree() --- Completed construction of tree
2015-Feb-11 17:25:29 INFO 20MB PID 552 Parser.cpp:trToAcn() --- 
 Could not extract acn from tr with text:  : Filings : Format : Description : Filing Date : File/Film Number
2015-Feb-11 17:25:29 INFO 20MB PID 552 Parser.cpp:trToAcn() --- Extracted ACN: 0001193125-14-060153 filed on date2014-Feb-20
2015-Feb-11 17:25:29 INFO 20MB PID 552 Parser.cpp:trToAcn() --- Extracted ACN: 0001193125-13-080129 filed on date2013-Feb-27
2015-Feb-11 17:25:29 INFO 20MB PID 552 Parser.cpp:trToAcn() --- Extracted ACN: 0001193125-12-081738 filed on date2012-Feb-27
2015-Feb-11 17:25:29 INFO 20MB PID 552 Parser.cpp:trToAcn() --- Extracted ACN: 0001193125-11-045134 filed on date2011-Feb-24
2015-Feb-11 17:25:29 INFO 20MB PID 552 Parser.cpp:trToAcn() --- Extracted ACN: 0001193125-10-042097 filed on date2010-Feb-26
2015-Feb-11 17:25:29 INFO 20MB PID 552 Parser.cpp:trToAcn() --- Extracted ACN: 0001193125-09-037280 filed on date2009-Feb-25
2015-Feb-11 17:25:29 INFO 20MB PID 552 Parser.cpp:trToAcn() --- Extracted ACN: 0001193125-08-034592 filed on date2008-Feb-20
2015-Feb-11 17:25:29 INFO 20MB PID 552 Parser.cpp:trToAcn() --- Extracted ACN: 0001193125-07-033962 filed on date2007-Feb-16
2015-Feb-11 17:25:29 INFO 20MB PID 552 Parser.cpp:trToAcn() --- Extracted ACN: 0001193125-06-038388 filed on date2006-Feb-24
2015-Feb-11 17:25:29 INFO 20MB PID 552 Parser.cpp:trToAcn() --- Extracted ACN: 0001193125-05-032911 filed on date2005-Feb-18
2015-Feb-11 17:25:29 INFO 20MB PID 552 Parser.cpp:trToAcn() --- Extracted ACN: 0000897069-04-000452 filed on date2004-Feb-23
2015-Feb-11 17:25:29 INFO 20MB PID 552 Financials.cpp:getSingleYear() --- 
 Got Acn: 0001193125-14-060153 date: 2014-Feb-20 quartr: 017:25:29 DMMM SELECT eps.id,eps.year,eps.source,eps.eps,eps.stock_id,eps.created_at,eps.updated_at,eps.revenue,eps.net_income,eps.quarter,eps.report_date,eps.shares FROM eps WHERE eps.stock_id = '30'

2015-Feb-11 17:25:29 INFO 20MB PID 552 Financials.cpp:reportWithin3Months() --- 
 Looking for report end date of 2013-Dec-31
 Report handled is from 2014-Feb-20
2015-Feb-11 17:25:29 INFO 20MB PID 552 Financials.cpp:getSingleYear() --- Got ACN for specific year 2013
2015-Feb-11 17:25:29 INFO 20MB PID 552 Financials.cpp:getEdgarFiling() --- Called getEdgarFiling()

2015-Feb-11 17:25:29 INFO 20MB PID 552 Financials.cpp:getEdgarFiling() --- Created url string

2015-Feb-11 17:25:29 INFO 20MB PID 552 HttpClient.cpp:httpGet() --- GETing http://www.sec.gov/Archives/edgar/data/91142/0001193125-14-060153.txt
2015-Feb-11 17:25:29 INFO 20MB PID 552 HttpClient.cpp:escapeUrl() --- actual get string: http://www.sec.gov/Archives/edgar/data/91142/0001193125-14-060153.txt
2015-Feb-11 17:25:31 INFO 45MB PID 552 HttpClient.cpp:httpGet() --- Content type differs: Content-Type: text/plain rather than text/html
2015-Feb-11 17:25:31 INFO 45MB PID 552 Financials.cpp:getEdgarFiling() --- downloaded page

2015-Feb-11 17:25:31 INFO 45MB PID 552 Tokenizer.cpp:getReportDocNames() --- Tokenizer::getReportDocNames() called

2015-Feb-11 17:25:31 INFO 45MB PID 552 Tokenizer.cpp:getReportDocNames() --- 
 Handling report named: 

2015-Feb-11 17:25:31 INFO 45MB PID 552 Tokenizer.cpp:getReportDocNames() --- 
 Handling report named: Document and Entity Information

2015-Feb-11 17:25:31 INFO 45MB PID 552 Tokenizer.cpp:getReportDocNames() --- FOUND COVER REPORT
Document and Entity Information

2015-Feb-11 17:25:31 INFO 45MB PID 552 Tokenizer.cpp:getReportDocNames() --- 
 Handling report named: Consolidated Balance Sheets

2015-Feb-11 17:25:31 INFO 45MB PID 552 Tokenizer.cpp:getReportDocNames() --- FOUND BALANCE REPORT MATCH!
Consolidated Balance Sheets

2015-Feb-11 17:25:31 INFO 45MB PID 552 Tokenizer.cpp:getReportDocNames() --- 
 Handling report named: Consolidated Balance Sheets (Parenthetical)

2015-Feb-11 17:25:31 INFO 45MB PID 552 Tokenizer.cpp:getReportDocNames() --- 
 Handling report named: Consolidated Statement of Earnings

2015-Feb-11 17:25:31 INFO 45MB PID 552 Tokenizer.cpp:getReportDocNames() --- FOUND INCOME REPORT MATCH!
Consolidated Statement of Earnings

2015-Feb-11 17:25:31 INFO 45MB PID 552 Parser.cpp:buildXmlTree() --- 
 going to build xml tree
2015-Feb-11 17:25:31 INFO 45MB PID 552 Parser.cpp:buildXmlTree() --- Completed construction of tree
2015-Feb-11 17:25:31 INFO 45MB PID 552 Parser.cpp:getUnitsAndCurrency() --- 
 Title text is :  : Consolidated Statement of Earnings (USD $)In Millions, except Per Share data, unless otherwise specified : 12 Months Ended : Dec. 31, 2013 : Dec. 31, 2012 : Dec. 31, 2011
2015-Feb-11 17:25:31 INFO 45MB PID 552 Parser.cpp:getUnitsAndCurrency() --- Title text May contain multiple units. Spliting it
2015-Feb-11 17:25:31 INFO 45MB PID 552 Parser.cpp:getUnitsAndCurrency() --- (general) Units are being set to 000000 Currency is being set to USD
2015-Feb-11 17:25:31 INFO 45MB PID 552 Parser.cpp:checkForShareUnitsInTitle() --- Checking for share units in title text 
2015-Feb-11 17:25:31 INFO 45MB PID 552 Parser.cpp:get_units_from_text() --- Could not extract units from text: 
 except Per Share data, unless otherwise specified : 12 Months Ended : Dec. 31, 2013 : Dec. 31, 2012 : Dec. 31, 2011
2015-Feb-11 17:25:31 INFO 45MB PID 552 Parser.cpp:findColumnToExtract() --- Setting column index to 1
2015-Feb-11 17:25:31 INFO 45MB PID 552 Parser.cpp:extractTotalRevenue() --- 
 Handling line - 
 : Consolidated Statement of Earnings (USD $)In Millions, except Per Share data, unless otherwise specified : 12 Months Ended
2015-Feb-11 17:25:31 INFO 45MB PID 552 Parser.cpp:extractTotalRevenue() --- 
 Handling line - 
 : Dec. 31, 2013 : Dec. 31, 2012 : Dec. 31, 2011
2015-Feb-11 17:25:31 INFO 45MB PID 552 Parser.cpp:extractTotalRevenue() --- 
 Handling line - 
 : Continuing Operations : &#xA0; : &#xA0; : &#xA0;
2015-Feb-11 17:25:31 INFO 45MB PID 552 Parser.cpp:extractTotalRevenue() --- 
 Handling line - 
 : Net sales : $ 2,153.8 : $ 1,939.3 : $ 1,710.5
2015-Feb-11 17:25:31 INFO 45MB PID 552 Parser.cpp:checkTrPattern() --- 
 regex match in text:  : Net sales : $ 2,153.8 : $ 1,939.3 : $ 1,710.5
 col to get is: 1
2015-Feb-11 17:25:31 INFO 45MB PID 552 Parser.cpp:checkTrPattern() --- Matching val from text:  : $ 2,153.8
2015-Feb-11 17:25:31 INFO 45MB PID 552 Parser.cpp:checkTrPattern() --- 
 extracted val is2,153.8
2015-Feb-11 17:25:31 INFO 45MB PID 552 Parser.cpp:adjustForDecimals() --- units are 000000 and I counted 1 for value 21538 so shortend units to 00000
2015-Feb-11 17:25:31 INFO 45MB PID 552 Parser.cpp:parseIncomeTree() --- Succesfully found revenue
2015-Feb-11 17:25:31 INFO 45MB PID 552 Parser.cpp:extractNetIncome() --- extractNetIncome() called
2015-Feb-11 17:25:31 INFO 45MB PID 552 Parser.cpp:checkTrPattern() --- 
 regex match in text:  : Net Earnings : $ 169.7 : $ 158.7 : $ 305.7
 col to get is: 1
2015-Feb-11 17:25:31 INFO 45MB PID 552 Parser.cpp:checkTrPattern() --- Matching val from text:  : $ 169.7
2015-Feb-11 17:25:31 INFO 45MB PID 552 Parser.cpp:checkTrPattern() --- 
 extracted val is169.7
2015-Feb-11 17:25:31 INFO 45MB PID 552 Parser.cpp:adjustForDecimals() --- units are 000000 and I counted 1 for value 1697 so shortend units to 00000
2015-Feb-11 17:25:31 INFO 45MB PID 552 Parser.cpp:checkTrPattern() --- 
 regex match in text:  : Net Earnings : $ 1.84 : $ 1.72 : $ 3.31
 col to get is: 1
2015-Feb-11 17:25:31 INFO 45MB PID 552 Parser.cpp:checkTrPattern() --- Matching val from text:  : $ 1.84
2015-Feb-11 17:25:31 INFO 45MB PID 552 Parser.cpp:checkTrPattern() --- 
 regex match in text:  : Net Earnings : $ 1.83 : $ 1.71 : $ 3.28
 col to get is: 1
2015-Feb-11 17:25:31 INFO 45MB PID 552 Parser.cpp:checkTrPattern() --- Matching val from text:  : $ 1.83
2015-Feb-11 17:25:31 INFO 45MB PID 552 Parser.cpp:extractEps() --- extractEps() called
2015-Feb-11 17:25:31 INFO 45MB PID 552 Parser.cpp:testBlock() --- Found block pattern: per share | In line:  : Net Earnings (Loss) Per Share of Common Stock : &#xA0; : &#xA0; : &#xA0;
2015-Feb-11 17:25:31 INFO 45MB PID 552 Parser.cpp:checkTrPattern() --- 
 regex match in text:  : Net Earnings : $ 1.84 : $ 1.72 : $ 3.31
 col to get is: 1
2015-Feb-11 17:25:31 INFO 45MB PID 552 Parser.cpp:checkTrPattern() --- Matching val from text:  : $ 1.84
2015-Feb-11 17:25:31 INFO 45MB PID 552 Parser.cpp:checkTrPattern() --- 
 extracted val is1.84
2015-Feb-11 17:25:31 INFO 45MB PID 552 Parser.cpp:writeEpsToEarnings() --- Writing eps of 1.84

2015-Feb-11 17:25:31 INFO 45MB PID 552 Parser.cpp:checkTrPattern() --- 
 regex match in text:  : Diluted Net Earnings (Loss) Per Share of Common Stock : &#xA0; : &#xA0; : &#xA0;
 col to get is: 1
2015-Feb-11 17:25:31 INFO 45MB PID 552 Parser.cpp:checkTrPattern() --- Matching val from text:  : &#xA0;
2015-Feb-11 17:25:31 INFO 45MB PID 552 Parser.cpp:checkTrPattern() --- 
 regex match in text:  : Net Earnings : $ 1.83 : $ 1.71 : $ 3.28
 col to get is: 1
2015-Feb-11 17:25:31 INFO 45MB PID 552 Parser.cpp:checkTrPattern() --- Matching val from text:  : $ 1.83
2015-Feb-11 17:25:31 INFO 45MB PID 552 Parser.cpp:checkTrPattern() --- 
 extracted val is1.83
2015-Feb-11 17:25:31 INFO 45MB PID 552 Parser.cpp:writeEpsToEarnings() --- Writing eps of 1.83

2015-Feb-11 17:25:31 INFO 45MB PID 552 Parser.cpp:parseIncomeTree() --- Succesfully found eps
2015-Feb-11 17:25:31 INFO 45MB PID 552 Parser.cpp:extractNumShares() --- extractNumShares() called
2015-Feb-11 17:25:31 INFO 45MB PID 552 Parser.cpp:buildXmlTree() --- 
 going to build xml tree
2015-Feb-11 17:25:31 INFO 45MB PID 552 Parser.cpp:buildXmlTree() --- Completed construction of tree
2015-Feb-11 17:25:31 INFO 45MB PID 552 Parser.cpp:tagWithText() --- counter is 0

2015-Feb-11 17:25:31 INFO 45MB PID 552 Parser.cpp:getNumSharesFromCoverReport() ---  Text containing number of shares is  : Entity Common Stock, Shares Outstanding : &#xA0; : 13,221,468 : &#xA0; : 78,027,765 : &#xA0;
2015-Feb-11 17:25:31 INFO 45MB PID 552 Parser.cpp:getNumSharesFromCoverReport() --- Got num shares from cover report. They are: 13,221,46817:25:31 DMMM SELECT stocks.id,stocks.name,stocks.ticker,stocks.created_at,stocks.updated_at,stocks.ttm_eps,stocks.book_value_per_share,stocks.dividends_per_year,stocks.latest_price,stocks.market_cap,stocks.ttm_div,stocks.yield,stocks.listed,stocks.has_currant_ratio,stocks.mark,stocks.cik,stocks.fiscal_year_end FROM stocks WHERE stocks.id = '30' limit 1
17:25:31 DMMM SELECT eps.id,eps.year,eps.source,eps.eps,eps.stock_id,eps.created_at,eps.updated_at,eps.revenue,eps.net_income,eps.quarter,eps.report_date,eps.shares FROM eps WHERE eps.stock_id = '30'
17:25:31 DMMM INSERT INTO eps (created_at,eps,net_income,quarter,revenue,shares,source,stock_id,year)VALUES(NOW(),1.8300000000000001,'169700000',0,'2153800000','13221468','edgar.com',30,2013)

2015-Feb-11 17:25:31 INFO 45MB PID 552 Financials.cpp:addEarningsRecordToDB() --- 
Entered NEW Earnings Record to DB for AOS. YEAR: 2013 Q: 0 REV: 2153800000 INC: 169700000 SHARES: 13221468 EPS: 1.83
17:25:31 DMMM INSERT INTO notes (created_at,note,pertains_to,stock_id,year)VALUES(NOW(),'using shares outstanding from cover report',8,30,2013)

2015-Feb-11 17:25:31 INFO 45MB PID 552 Test.cpp:getReportsTest() --- Got 3 reports
17:25:31 DMMM SELECT eps.id,eps.year,eps.source,eps.eps,eps.stock_id,eps.created_at,eps.updated_at,eps.revenue,eps.net_income,eps.quarter,eps.report_date,eps.shares FROM eps WHERE (eps.stock_id = '30') AND (eps.year = '2013')
17:25:31 DMMM SELECT eps.id,eps.year,eps.source,eps.eps,eps.stock_id,eps.created_at,eps.updated_at,eps.revenue,eps.net_income,eps.quarter,eps.report_date,eps.shares FROM eps WHERE (eps.stock_id = '30') AND (eps.year = '2013')

2015-Feb-11 17:25:31 INFO 45MB PID 552 Test.cpp:getReportsTest() --- 
 Testing values extracted for eps record with id: 436, stock_id is: 30 year 2013, revenue: 2153800000, income: 169700000, and eps: 1.830000
17:25:31 DMMM DELETE FROM eps WHERE eps.id = '436'

2015-Feb-11 17:25:31 INFO 45MB PID 552 Test.cpp:getReportsTest() --- 
Great!!! Everything is working
2015-Feb-11 17:25:31 INFO 33MB PID 552 HttpClient.cpp:~HttpClient() --- shutting down httpclient
