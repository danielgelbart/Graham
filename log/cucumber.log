# Logfile created on Thu Mar 04 17:07:55 -0500 2010  [4;36;1mUser Create (0.5ms)[0m   [0;1mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES('Person_1', '2010-03-08 21:39:35', '2010-03-08 21:39:35')[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES('Person_1', '2010-03-08 21:41:19', '2010-03-08 21:41:19')[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES('Person_1', '2010-03-08 21:41:47', '2010-03-08 21:41:47')[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES('Person_1', '2010-03-08 21:42:42', '2010-03-08 21:42:42')[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mPortfolio Create (0.1ms)[0m   [0;1mINSERT INTO "portfolios" ("name", "created_at", "updated_at", "user_id") VALUES('A', '2010-03-08 21:42:42', '2010-03-08 21:42:42', 1)[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES('Person_2', '2010-03-08 21:42:42', '2010-03-08 21:42:42')[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mPortfolio Create (0.3ms)[0m   [0mINSERT INTO "portfolios" ("name", "created_at", "updated_at", "user_id") VALUES('A', '2010-03-08 21:42:42', '2010-03-08 21:42:42', 1)[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES('Person_3', '2010-03-08 21:42:42', '2010-03-08 21:42:42')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mPortfolio Create (0.1ms)[0m   [0;1mINSERT INTO "portfolios" ("name", "created_at", "updated_at", "user_id") VALUES('A', '2010-03-08 21:42:42', '2010-03-08 21:42:42', 1)[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES('Person_4', '2010-03-08 21:42:42', '2010-03-08 21:42:42')[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mPortfolio Create (0.1ms)[0m   [0mINSERT INTO "portfolios" ("name", "created_at", "updated_at", "user_id") VALUES('A', '2010-03-08 21:42:42', '2010-03-08 21:42:42', 1)[0m
  [4;36;1mUser Create (0.5ms)[0m   [0;1mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES('Person_1', '2010-03-08 21:44:24', '2010-03-08 21:44:24')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mPortfolio Create (0.2ms)[0m   [0;1mINSERT INTO "portfolios" ("name", "created_at", "updated_at", "user_id") VALUES('A', '2010-03-08 21:44:24', '2010-03-08 21:44:24', 1)[0m
REQUESTING PAGE: GET /portfoios/1 with {} and HTTP headers {}


Processing ApplicationController#index (for 127.0.0.1 at 2010-03-08 16:44:24) [GET]
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES('Person_2', '2010-03-08 21:44:24', '2010-03-08 21:44:24')[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mPortfolio Create (0.2ms)[0m   [0mINSERT INTO "portfolios" ("name", "created_at", "updated_at", "user_id") VALUES('A', '2010-03-08 21:44:24', '2010-03-08 21:44:24', 1)[0m
  [4;36;1mUser Create (0.5ms)[0m   [0;1mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES('Person_3', '2010-03-08 21:44:24', '2010-03-08 21:44:24')[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mPortfolio Create (0.2ms)[0m   [0;1mINSERT INTO "portfolios" ("name", "created_at", "updated_at", "user_id") VALUES('A', '2010-03-08 21:44:24', '2010-03-08 21:44:24', 1)[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES('Person_4', '2010-03-08 21:44:24', '2010-03-08 21:44:24')[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mPortfolio Create (0.1ms)[0m   [0mINSERT INTO "portfolios" ("name", "created_at", "updated_at", "user_id") VALUES('A', '2010-03-08 21:44:24', '2010-03-08 21:44:24', 1)[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES('Person_1', '2010-03-08 21:44:37', '2010-03-08 21:44:37')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mPortfolio Create (0.1ms)[0m   [0;1mINSERT INTO "portfolios" ("name", "created_at", "updated_at", "user_id") VALUES('A', '2010-03-08 21:44:37', '2010-03-08 21:44:37', 1)[0m
REQUESTING PAGE: GET /portfolios/1 with {} and HTTP headers {}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-08 16:44:37) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.4ms)[0m   [0mSELECT * FROM "portfolios" WHERE ("portfolios"."id" = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mOwnedStock Load (0.2ms)[0m   [0mSELECT * FROM "owned_stocks" WHERE ("owned_stocks".portfolio_id = 1) [0m
Completed in 15ms (View: 10, DB: 2) | 200 OK [http://www.example.com/portfolios/1]
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES('Person_2', '2010-03-08 21:44:37', '2010-03-08 21:44:37')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mPortfolio Create (0.2ms)[0m   [0;1mINSERT INTO "portfolios" ("name", "created_at", "updated_at", "user_id") VALUES('A', '2010-03-08 21:44:37', '2010-03-08 21:44:37', 1)[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES('Person_3', '2010-03-08 21:44:37', '2010-03-08 21:44:37')[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mPortfolio Create (0.1ms)[0m   [0mINSERT INTO "portfolios" ("name", "created_at", "updated_at", "user_id") VALUES('A', '2010-03-08 21:44:37', '2010-03-08 21:44:37', 1)[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES('Person_4', '2010-03-08 21:44:37', '2010-03-08 21:44:37')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mPortfolio Create (0.1ms)[0m   [0;1mINSERT INTO "portfolios" ("name", "created_at", "updated_at", "user_id") VALUES('A', '2010-03-08 21:44:37', '2010-03-08 21:44:37', 1)[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES('Person_1', '2010-03-09 19:01:06', '2010-03-09 19:01:06')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mPortfolio Create (0.2ms)[0m   [0;1mINSERT INTO "portfolios" ("name", "created_at", "updated_at", "user_id") VALUES('A', '2010-03-09 19:01:06', '2010-03-09 19:01:06', 1)[0m
REQUESTING PAGE: GET /portfolios/1 with {} and HTTP headers {}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-09 14:01:06) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.4ms)[0m   [0mSELECT * FROM "portfolios" WHERE ("portfolios"."id" = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM "owned_stocks" WHERE ("owned_stocks".portfolio_id = 1) [0m
Completed in 34ms (View: 29, DB: 2) | 200 OK [http://www.example.com/portfolios/1]
REQUESTING PAGE: GET /transactions/new?type=BUY with {} and HTTP headers {"HTTP_REFERER"=>"/portfolios/1"}


Processing TransactionsController#new (for 127.0.0.1 at 2010-03-09 14:01:06) [GET]
  Parameters: {"type"=>"BUY"}
Rendering template within layouts/transactions
Rendering transactions/new
  [4;36;1mStock Load (0.2ms)[0m   [0;1mSELECT * FROM "stocks" [0m
Rendered transactions/_buy_transaction (98.7ms)
Completed in 110ms (View: 102, DB: 0) | 200 OK [http://www.example.com/transactions/new?type=BUY]
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES('Person_2', '2010-03-09 19:01:06', '2010-03-09 19:01:06')[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mPortfolio Create (0.2ms)[0m   [0mINSERT INTO "portfolios" ("name", "created_at", "updated_at", "user_id") VALUES('A', '2010-03-09 19:01:06', '2010-03-09 19:01:06', 1)[0m
  [4;36;1mUser Create (0.7ms)[0m   [0;1mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES('Person_3', '2010-03-09 19:01:06', '2010-03-09 19:01:06')[0m
  [4;35;1mUser Load (0.9ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mPortfolio Create (0.2ms)[0m   [0;1mINSERT INTO "portfolios" ("name", "created_at", "updated_at", "user_id") VALUES('A', '2010-03-09 19:01:06', '2010-03-09 19:01:06', 1)[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES('Person_4', '2010-03-09 19:01:06', '2010-03-09 19:01:06')[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mPortfolio Create (0.2ms)[0m   [0mINSERT INTO "portfolios" ("name", "created_at", "updated_at", "user_id") VALUES('A', '2010-03-09 19:01:06', '2010-03-09 19:01:06', 1)[0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM "stocks" WHERE ("stocks"."ticker" = 'BRK') [0m
  [4;35;1mStock Create (0.4ms)[0m   [0mINSERT INTO "stocks" ("name", "created_at", "updated_at", "ticker") VALUES('Berkshire Hathaway', '2010-03-09 19:02:43', '2010-03-09 19:02:43', 'BRK')[0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM "stocks" WHERE ("stocks"."ticker" = 'TEVA') [0m
  [4;35;1mStock Create (0.2ms)[0m   [0mINSERT INTO "stocks" ("name", "created_at", "updated_at", "ticker") VALUES('Teva Pharmasutical industries.', '2010-03-09 19:02:43', '2010-03-09 19:02:43', 'TEVA')[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES('Person_1', '2010-03-09 19:02:43', '2010-03-09 19:02:43')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mPortfolio Create (0.2ms)[0m   [0;1mINSERT INTO "portfolios" ("name", "created_at", "updated_at", "user_id") VALUES('A', '2010-03-09 19:02:43', '2010-03-09 19:02:43', 1)[0m
REQUESTING PAGE: GET /portfolios/1 with {} and HTTP headers {}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-09 14:02:43) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.4ms)[0m   [0mSELECT * FROM "portfolios" WHERE ("portfolios"."id" = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mOwnedStock Load (0.2ms)[0m   [0mSELECT * FROM "owned_stocks" WHERE ("owned_stocks".portfolio_id = 1) [0m
Completed in 99ms (View: 94, DB: 2) | 200 OK [http://www.example.com/portfolios/1]
REQUESTING PAGE: GET /transactions/new?type=BUY with {} and HTTP headers {"HTTP_REFERER"=>"/portfolios/1"}


Processing TransactionsController#new (for 127.0.0.1 at 2010-03-09 14:02:43) [GET]
  Parameters: {"type"=>"BUY"}
Rendering template within layouts/transactions
Rendering transactions/new
  [4;36;1mStock Load (0.4ms)[0m   [0;1mSELECT * FROM "stocks" [0m
Rendered transactions/_buy_transaction (28.1ms)
Completed in 38ms (View: 31, DB: 0) | 200 OK [http://www.example.com/transactions/new?type=BUY]
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES('Person_2', '2010-03-09 19:02:43', '2010-03-09 19:02:43')[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mPortfolio Create (0.2ms)[0m   [0mINSERT INTO "portfolios" ("name", "created_at", "updated_at", "user_id") VALUES('A', '2010-03-09 19:02:43', '2010-03-09 19:02:43', 1)[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES('Person_3', '2010-03-09 19:02:43', '2010-03-09 19:02:43')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mPortfolio Create (0.2ms)[0m   [0;1mINSERT INTO "portfolios" ("name", "created_at", "updated_at", "user_id") VALUES('A', '2010-03-09 19:02:43', '2010-03-09 19:02:43', 1)[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES('Person_4', '2010-03-09 19:02:43', '2010-03-09 19:02:43')[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mPortfolio Create (0.2ms)[0m   [0mINSERT INTO "portfolios" ("name", "created_at", "updated_at", "user_id") VALUES('A', '2010-03-09 19:02:43', '2010-03-09 19:02:43', 1)[0m
  [4;36;1mStock Load (0.3ms)[0m   [0;1mSELECT * FROM "stocks" WHERE ("stocks"."ticker" = 'BRK') [0m
  [4;35;1mStock Load (0.3ms)[0m   [0mSELECT * FROM "stocks" WHERE ("stocks"."ticker" = 'TEVA') [0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES('Person_1', '2010-03-09 19:09:37', '2010-03-09 19:09:37')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mPortfolio Create (0.2ms)[0m   [0;1mINSERT INTO "portfolios" ("name", "created_at", "updated_at", "user_id") VALUES('A', '2010-03-09 19:09:37', '2010-03-09 19:09:37', 1)[0m
REQUESTING PAGE: GET /portfolios/1 with {} and HTTP headers {}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-09 14:09:37) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.5ms)[0m   [0mSELECT * FROM "portfolios" WHERE ("portfolios"."id" = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mOwnedStock Load (1.1ms)[0m   [0mSELECT * FROM "owned_stocks" WHERE ("owned_stocks".portfolio_id = 1) [0m
Completed in 101ms (View: 95, DB: 4) | 200 OK [http://www.example.com/portfolios/1]
REQUESTING PAGE: GET /transactions/new?type=BUY with {} and HTTP headers {"HTTP_REFERER"=>"/portfolios/1"}


Processing TransactionsController#new (for 127.0.0.1 at 2010-03-09 14:09:38) [GET]
  Parameters: {"type"=>"BUY"}
Rendering template within layouts/transactions
Rendering transactions/new
  [4;36;1mStock Load (0.5ms)[0m   [0;1mSELECT * FROM "stocks" [0m
Rendered transactions/_buy_transaction (28.1ms)
Completed in 37ms (View: 31, DB: 0) | 200 OK [http://www.example.com/transactions/new?type=BUY]
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES('Person_2', '2010-03-09 19:09:38', '2010-03-09 19:09:38')[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mPortfolio Create (0.2ms)[0m   [0mINSERT INTO "portfolios" ("name", "created_at", "updated_at", "user_id") VALUES('A', '2010-03-09 19:09:38', '2010-03-09 19:09:38', 1)[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES('Person_3', '2010-03-09 19:09:38', '2010-03-09 19:09:38')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mPortfolio Create (0.1ms)[0m   [0;1mINSERT INTO "portfolios" ("name", "created_at", "updated_at", "user_id") VALUES('A', '2010-03-09 19:09:38', '2010-03-09 19:09:38', 1)[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES('Person_4', '2010-03-09 19:09:38', '2010-03-09 19:09:38')[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mPortfolio Create (0.1ms)[0m   [0mINSERT INTO "portfolios" ("name", "created_at", "updated_at", "user_id") VALUES('A', '2010-03-09 19:09:38', '2010-03-09 19:09:38', 1)[0m
  [4;36;1mStock Load (0.3ms)[0m   [0;1mSELECT * FROM "stocks" WHERE ("stocks"."ticker" = 'BRK') [0m
  [4;35;1mStock Load (0.3ms)[0m   [0mSELECT * FROM "stocks" WHERE ("stocks"."ticker" = 'TEVA') [0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES('Person_1', '2010-03-09 19:10:18', '2010-03-09 19:10:18')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mPortfolio Create (0.2ms)[0m   [0;1mINSERT INTO "portfolios" ("name", "created_at", "updated_at", "user_id") VALUES('A', '2010-03-09 19:10:18', '2010-03-09 19:10:18', 1)[0m
REQUESTING PAGE: GET /portfolios/1 with {} and HTTP headers {}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-09 14:10:18) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.4ms)[0m   [0mSELECT * FROM "portfolios" WHERE ("portfolios"."id" = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mOwnedStock Load (1.2ms)[0m   [0mSELECT * FROM "owned_stocks" WHERE ("owned_stocks".portfolio_id = 1) [0m
Completed in 98ms (View: 93, DB: 3) | 200 OK [http://www.example.com/portfolios/1]
REQUESTING PAGE: GET /transactions/new?type=BUY with {} and HTTP headers {"HTTP_REFERER"=>"/portfolios/1"}


Processing TransactionsController#new (for 127.0.0.1 at 2010-03-09 14:10:18) [GET]
  Parameters: {"type"=>"BUY"}
Rendering template within layouts/transactions
Rendering transactions/new
  [4;36;1mStock Load (0.5ms)[0m   [0;1mSELECT * FROM "stocks" [0m
Rendered transactions/_buy_transaction (27.6ms)
Completed in 37ms (View: 30, DB: 0) | 200 OK [http://www.example.com/transactions/new?type=BUY]
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES('Person_2', '2010-03-09 19:10:18', '2010-03-09 19:10:18')[0m
  [4;36;1mUser Load (2.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mPortfolio Create (0.1ms)[0m   [0mINSERT INTO "portfolios" ("name", "created_at", "updated_at", "user_id") VALUES('A', '2010-03-09 19:10:18', '2010-03-09 19:10:18', 1)[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES('Person_3', '2010-03-09 19:10:18', '2010-03-09 19:10:18')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mPortfolio Create (0.2ms)[0m   [0;1mINSERT INTO "portfolios" ("name", "created_at", "updated_at", "user_id") VALUES('A', '2010-03-09 19:10:18', '2010-03-09 19:10:18', 1)[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES('Person_4', '2010-03-09 19:10:18', '2010-03-09 19:10:18')[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mPortfolio Create (0.1ms)[0m   [0mINSERT INTO "portfolios" ("name", "created_at", "updated_at", "user_id") VALUES('A', '2010-03-09 19:10:18', '2010-03-09 19:10:18', 1)[0m
  [4;36;1mStock Load (0.3ms)[0m   [0;1mSELECT * FROM "stocks" WHERE ("stocks"."ticker" = 'BRK') [0m
  [4;35;1mStock Load (0.3ms)[0m   [0mSELECT * FROM "stocks" WHERE ("stocks"."ticker" = 'TEVA') [0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES('Person_1', '2010-03-09 19:14:23', '2010-03-09 19:14:23')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mPortfolio Create (0.2ms)[0m   [0;1mINSERT INTO "portfolios" ("name", "created_at", "updated_at", "user_id") VALUES('A', '2010-03-09 19:14:23', '2010-03-09 19:14:23', 1)[0m
REQUESTING PAGE: GET /portfolios/1 with {} and HTTP headers {}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-09 14:14:23) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.4ms)[0m   [0mSELECT * FROM "portfolios" WHERE ("portfolios"."id" = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mOwnedStock Load (0.2ms)[0m   [0mSELECT * FROM "owned_stocks" WHERE ("owned_stocks".portfolio_id = 1) [0m
Completed in 99ms (View: 94, DB: 2) | 200 OK [http://www.example.com/portfolios/1]
REQUESTING PAGE: GET /transactions/new?type=BUY with {} and HTTP headers {"HTTP_REFERER"=>"/portfolios/1"}


Processing TransactionsController#new (for 127.0.0.1 at 2010-03-09 14:14:23) [GET]
  Parameters: {"type"=>"BUY"}
Rendering template within layouts/transactions
Rendering transactions/new
  [4;36;1mStock Load (0.5ms)[0m   [0;1mSELECT * FROM "stocks" [0m
Rendered transactions/_buy_transaction (28.4ms)
Completed in 38ms (View: 31, DB: 0) | 200 OK [http://www.example.com/transactions/new?type=BUY]
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES('Person_2', '2010-03-09 19:14:23', '2010-03-09 19:14:23')[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mPortfolio Create (0.2ms)[0m   [0mINSERT INTO "portfolios" ("name", "created_at", "updated_at", "user_id") VALUES('A', '2010-03-09 19:14:23', '2010-03-09 19:14:23', 1)[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES('Person_3', '2010-03-09 19:14:23', '2010-03-09 19:14:23')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mPortfolio Create (0.1ms)[0m   [0;1mINSERT INTO "portfolios" ("name", "created_at", "updated_at", "user_id") VALUES('A', '2010-03-09 19:14:23', '2010-03-09 19:14:23', 1)[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES('Person_4', '2010-03-09 19:14:23', '2010-03-09 19:14:23')[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mPortfolio Create (0.2ms)[0m   [0mINSERT INTO "portfolios" ("name", "created_at", "updated_at", "user_id") VALUES('A', '2010-03-09 19:14:23', '2010-03-09 19:14:23', 1)[0m
  [4;36;1mStock Load (0.3ms)[0m   [0;1mSELECT * FROM "stocks" WHERE ("stocks"."ticker" = 'BRK') [0m
  [4;35;1mStock Load (0.3ms)[0m   [0mSELECT * FROM "stocks" WHERE ("stocks"."ticker" = 'TEVA') [0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES('Person_1', '2010-03-09 19:14:54', '2010-03-09 19:14:54')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mPortfolio Create (0.2ms)[0m   [0;1mINSERT INTO "portfolios" ("name", "created_at", "updated_at", "user_id") VALUES('A', '2010-03-09 19:14:54', '2010-03-09 19:14:54', 1)[0m
REQUESTING PAGE: GET /portfolios/1 with {} and HTTP headers {}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-09 14:14:54) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.4ms)[0m   [0mSELECT * FROM "portfolios" WHERE ("portfolios"."id" = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mOwnedStock Load (1.1ms)[0m   [0mSELECT * FROM "owned_stocks" WHERE ("owned_stocks".portfolio_id = 1) [0m
Completed in 97ms (View: 92, DB: 3) | 200 OK [http://www.example.com/portfolios/1]
REQUESTING PAGE: GET /transactions/new?type=BUY with {} and HTTP headers {"HTTP_REFERER"=>"/portfolios/1"}


Processing TransactionsController#new (for 127.0.0.1 at 2010-03-09 14:14:54) [GET]
  Parameters: {"type"=>"BUY"}
Rendering template within layouts/transactions
Rendering transactions/new
  [4;36;1mStock Load (0.5ms)[0m   [0;1mSELECT * FROM "stocks" [0m
Rendered transactions/_buy_transaction (28.2ms)
Completed in 37ms (View: 31, DB: 0) | 200 OK [http://www.example.com/transactions/new?type=BUY]
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES('Person_2', '2010-03-09 19:14:54', '2010-03-09 19:14:54')[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mPortfolio Create (0.1ms)[0m   [0mINSERT INTO "portfolios" ("name", "created_at", "updated_at", "user_id") VALUES('A', '2010-03-09 19:14:54', '2010-03-09 19:14:54', 1)[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES('Person_3', '2010-03-09 19:14:54', '2010-03-09 19:14:54')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mPortfolio Create (0.2ms)[0m   [0;1mINSERT INTO "portfolios" ("name", "created_at", "updated_at", "user_id") VALUES('A', '2010-03-09 19:14:54', '2010-03-09 19:14:54', 1)[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES('Person_4', '2010-03-09 19:14:54', '2010-03-09 19:14:54')[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mPortfolio Create (0.2ms)[0m   [0mINSERT INTO "portfolios" ("name", "created_at", "updated_at", "user_id") VALUES('A', '2010-03-09 19:14:54', '2010-03-09 19:14:54', 1)[0m
  [4;36;1mStock Load (0.3ms)[0m   [0;1mSELECT * FROM "stocks" WHERE ("stocks"."ticker" = 'BRK') [0m
  [4;35;1mStock Load (0.3ms)[0m   [0mSELECT * FROM "stocks" WHERE ("stocks"."ticker" = 'TEVA') [0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES('Person_1', '2010-03-09 19:15:13', '2010-03-09 19:15:13')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mPortfolio Create (0.1ms)[0m   [0;1mINSERT INTO "portfolios" ("name", "created_at", "updated_at", "user_id") VALUES('A', '2010-03-09 19:15:13', '2010-03-09 19:15:13', 1)[0m
REQUESTING PAGE: GET /portfolios/1 with {} and HTTP headers {}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-09 14:15:13) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.4ms)[0m   [0mSELECT * FROM "portfolios" WHERE ("portfolios"."id" = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mOwnedStock Load (1.2ms)[0m   [0mSELECT * FROM "owned_stocks" WHERE ("owned_stocks".portfolio_id = 1) [0m
Completed in 96ms (View: 91, DB: 3) | 200 OK [http://www.example.com/portfolios/1]
REQUESTING PAGE: GET /transactions/new?type=BUY with {} and HTTP headers {"HTTP_REFERER"=>"/portfolios/1"}


Processing TransactionsController#new (for 127.0.0.1 at 2010-03-09 14:15:13) [GET]
  Parameters: {"type"=>"BUY"}
Rendering template within layouts/transactions
Rendering transactions/new
  [4;36;1mStock Load (0.5ms)[0m   [0;1mSELECT * FROM "stocks" [0m
Rendered transactions/_buy_transaction (27.5ms)
Completed in 36ms (View: 30, DB: 0) | 200 OK [http://www.example.com/transactions/new?type=BUY]
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES('Person_2', '2010-03-09 19:15:14', '2010-03-09 19:15:14')[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mPortfolio Create (0.2ms)[0m   [0mINSERT INTO "portfolios" ("name", "created_at", "updated_at", "user_id") VALUES('A', '2010-03-09 19:15:14', '2010-03-09 19:15:14', 1)[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES('Person_3', '2010-03-09 19:15:14', '2010-03-09 19:15:14')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mPortfolio Create (0.1ms)[0m   [0;1mINSERT INTO "portfolios" ("name", "created_at", "updated_at", "user_id") VALUES('A', '2010-03-09 19:15:14', '2010-03-09 19:15:14', 1)[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES('Person_4', '2010-03-09 19:15:14', '2010-03-09 19:15:14')[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mPortfolio Create (0.2ms)[0m   [0mINSERT INTO "portfolios" ("name", "created_at", "updated_at", "user_id") VALUES('A', '2010-03-09 19:15:14', '2010-03-09 19:15:14', 1)[0m
  [4;36;1mStock Load (0.3ms)[0m   [0;1mSELECT * FROM "stocks" WHERE ("stocks"."ticker" = 'BRK') [0m
  [4;35;1mStock Load (0.3ms)[0m   [0mSELECT * FROM "stocks" WHERE ("stocks"."ticker" = 'TEVA') [0m
  [4;36;1mUser Create (0.5ms)[0m   [0;1mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES('Person_1', '2010-03-09 19:16:20', '2010-03-09 19:16:20')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mPortfolio Create (0.2ms)[0m   [0;1mINSERT INTO "portfolios" ("name", "created_at", "updated_at", "user_id") VALUES('A', '2010-03-09 19:16:20', '2010-03-09 19:16:20', 1)[0m
REQUESTING PAGE: GET /portfolios/1 with {} and HTTP headers {}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-09 14:16:20) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.4ms)[0m   [0mSELECT * FROM "portfolios" WHERE ("portfolios"."id" = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mOwnedStock Load (1.1ms)[0m   [0mSELECT * FROM "owned_stocks" WHERE ("owned_stocks".portfolio_id = 1) [0m
Completed in 98ms (View: 92, DB: 3) | 200 OK [http://www.example.com/portfolios/1]
REQUESTING PAGE: GET /transactions/new?type=BUY with {} and HTTP headers {"HTTP_REFERER"=>"/portfolios/1"}


Processing TransactionsController#new (for 127.0.0.1 at 2010-03-09 14:16:20) [GET]
  Parameters: {"type"=>"BUY"}
Rendering template within layouts/transactions
Rendering transactions/new
  [4;36;1mStock Load (0.5ms)[0m   [0;1mSELECT * FROM "stocks" [0m
Rendered transactions/_buy_transaction (27.7ms)
Completed in 37ms (View: 31, DB: 0) | 200 OK [http://www.example.com/transactions/new?type=BUY]
REQUESTING PAGE: POST /transactions with {"commit"=>"Add purchase details", "transaction"=>{"comission"=>"10", "shares"=>"100", "price"=>"80", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"9", "type"=>"ActionView::Base", "stock_id"=>"1"}} and HTTP headers {"HTTP_REFERER"=>"/transactions/new?type=BUY"}


Processing TransactionsController#create (for 127.0.0.1 at 2010-03-09 14:16:20) [POST]
  Parameters: {"commit"=>"Add purchase details", "transaction"=>{"price"=>"80", "shares"=>"100", "comission"=>"10", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"9", "type"=>"ActionView::Base", "stock_id"=>"1"}}
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mTransaction Create (0.2ms)[0m   [0mINSERT INTO "transactions" ("comission", "shares", "price", "created_at", "updated_at", "date", "stock_id") VALUES(10.0, 100, 80.0, '2010-03-09 19:16:20', '2010-03-09 19:16:20', '2010-03-09', 1)[0m
  [4;36;1mStock Load (0.3ms)[0m   [0;1mSELECT * FROM "stocks" WHERE ("stocks"."id" = 1) [0m


Processing ApplicationController#create (for 127.0.0.1 at 2010-03-09 14:16:20) [POST]
  Parameters: {"commit"=>"Add purchase details", "transaction"=>{"price"=>"80", "shares"=>"100", "comission"=>"10", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"9", "type"=>"ActionView::Base", "stock_id"=>"1"}}
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES('Person_2', '2010-03-09 19:16:20', '2010-03-09 19:16:20')[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mPortfolio Create (0.2ms)[0m   [0mINSERT INTO "portfolios" ("name", "created_at", "updated_at", "user_id") VALUES('A', '2010-03-09 19:16:20', '2010-03-09 19:16:20', 1)[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES('Person_3', '2010-03-09 19:16:20', '2010-03-09 19:16:20')[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mPortfolio Create (0.2ms)[0m   [0;1mINSERT INTO "portfolios" ("name", "created_at", "updated_at", "user_id") VALUES('A', '2010-03-09 19:16:20', '2010-03-09 19:16:20', 1)[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES('Person_4', '2010-03-09 19:16:20', '2010-03-09 19:16:20')[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mPortfolio Create (0.2ms)[0m   [0mINSERT INTO "portfolios" ("name", "created_at", "updated_at", "user_id") VALUES('A', '2010-03-09 19:16:20', '2010-03-09 19:16:20', 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'Dani' AND `users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`, `id`) VALUES('Dani', '2010-03-09 23:18:54', '2010-03-09 23:18:54', 1)[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPortfolio Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `portfolios`[0m
  [4;36;1mPortfolio Load (0.2ms)[0m   [0;1mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mPortfolio Create (0.1ms)[0m   [0;1mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `id`, `user_id`) VALUES('A', '2010-03-09 23:18:54', '2010-03-09 23:18:54', 1, 1)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `stocks`[0m
  [4;35;1mStock Load (0.2ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStock Create (0.2ms)[0m   [0mINSERT INTO `stocks` (`name`, `created_at`, `updated_at`, `ticker`) VALUES('Berkshire Hathaway', '2010-03-09 23:18:54', '2010-03-09 23:18:54', 'BRK')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mStock Load (0.2ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'TEVA') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStock Create (0.1ms)[0m   [0mINSERT INTO `stocks` (`name`, `created_at`, `updated_at`, `ticker`) VALUES('Teva Pharmasutical industries.', '2010-03-09 23:18:54', '2010-03-09 23:18:54', 'TEVA')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_1', '2010-03-09 23:18:54', '2010-03-09 23:18:54')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mPortfolio Create (0.1ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-09 23:18:54', '2010-03-09 23:18:54', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
REQUESTING PAGE: GET /portfolios/1 with {} and HTTP headers {}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-09 18:18:54) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.2ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
Completed in 15ms (View: 9, DB: 9) | 200 OK [http://www.example.com/portfolios/1]
REQUESTING PAGE: GET /transactions/new?portfolio_id=1&type=BUY with {} and HTTP headers {"HTTP_REFERER"=>"/portfolios/1"}


Processing TransactionsController#new (for 127.0.0.1 at 2010-03-09 18:18:54) [GET]
  Parameters: {"type"=>"BUY", "portfolio_id"=>"1"}
  [4;36;1mTransaction Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `transactions`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/transactions
Rendering transactions/new
  [4;36;1mStock Load (0.2ms)[0m   [0;1mSELECT * FROM `stocks` [0m
Rendered transactions/_buy_transaction (26.4ms)
Completed in 35ms (View: 29, DB: 2) | 200 OK [http://www.example.com/transactions/new?portfolio_id=1&type=BUY]
REQUESTING PAGE: POST /transactions with {"commit"=>"Add purchase details", "transaction"=>{"comission"=>"10", "shares"=>"100", "price"=>"80", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"9", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}} and HTTP headers {"HTTP_REFERER"=>"/transactions/new?portfolio_id=1&type=BUY"}


Processing TransactionsController#create (for 127.0.0.1 at 2010-03-09 18:18:54) [POST]
  Parameters: {"commit"=>"Add purchase details", "transaction"=>{"price"=>"80", "shares"=>"100", "comission"=>"10", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"9", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}}
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTransaction Create (0.2ms)[0m   [0;1mINSERT INTO `transactions` (`comission`, `shares`, `price`, `created_at`, `updated_at`, `date`, `stock_id`, `portfolio_id`) VALUES(10.0, 100, 80.0, '2010-03-09 23:18:54', '2010-03-09 23:18:54', '2010-03-09', 1, 1)[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mStock Load (0.2ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mOwnedStock Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `owned_stocks`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/portfolios/1
Completed in 14ms (DB: 2) | 302 Found [http://www.example.com/transactions]
REQUESTING PAGE: GET http://www.example.com/portfolios/1 with {} and HTTP headers {"HTTP_REFERER"=>"/transactions"}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-09 18:18:54) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mPortfolio Load (0.2ms)[0m   [0;1mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mOwnedStock Load (0.1ms)[0m   [0;1mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
Completed in 5ms (View: 3, DB: 0) | 200 OK [http://www.example.com/portfolios/1]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_2', '2010-03-09 23:18:54', '2010-03-09 23:18:54')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 3) [0m
  [4;36;1mPortfolio Create (0.1ms)[0m   [0;1mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-09 23:18:54', '2010-03-09 23:18:54', 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_3', '2010-03-09 23:18:54', '2010-03-09 23:18:54')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mPortfolio Create (0.1ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-09 23:18:54', '2010-03-09 23:18:54', 4)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Create (28.7ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_4', '2010-03-09 23:18:54', '2010-03-09 23:18:54')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 5) [0m
  [4;36;1mPortfolio Create (0.1ms)[0m   [0;1mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-09 23:18:54', '2010-03-09 23:18:54', 5)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'Dani' AND `users`.`id` = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPortfolio Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `portfolios`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `stocks`[0m
  [4;35;1mStock Load (0.2ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Load (0.3ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'TEVA') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_1', '2010-03-09 23:21:05', '2010-03-09 23:21:05')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 6) [0m
  [4;35;1mPortfolio Create (0.2ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-09 23:21:05', '2010-03-09 23:21:05', 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
REQUESTING PAGE: GET /portfolios/1 with {} and HTTP headers {}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-09 18:21:05) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.3ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
Completed in 101ms (View: 9, DB: 6) | 200 OK [http://www.example.com/portfolios/1]
REQUESTING PAGE: GET /transactions/new?portfolio_id=1&type=BUY with {} and HTTP headers {"HTTP_REFERER"=>"/portfolios/1"}


Processing TransactionsController#new (for 127.0.0.1 at 2010-03-09 18:21:05) [GET]
  Parameters: {"type"=>"BUY", "portfolio_id"=>"1"}
  [4;36;1mTransaction Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `transactions`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/transactions
Rendering transactions/new
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` [0m
Rendered transactions/_buy_transaction (26.7ms)
Completed in 36ms (View: 30, DB: 2) | 200 OK [http://www.example.com/transactions/new?portfolio_id=1&type=BUY]
REQUESTING PAGE: POST /transactions with {"commit"=>"Add purchase details", "transaction"=>{"comission"=>"10", "shares"=>"100", "price"=>"80", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"9", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}} and HTTP headers {"HTTP_REFERER"=>"/transactions/new?portfolio_id=1&type=BUY"}


Processing TransactionsController#create (for 127.0.0.1 at 2010-03-09 18:21:05) [POST]
  Parameters: {"commit"=>"Add purchase details", "transaction"=>{"price"=>"80", "shares"=>"100", "comission"=>"10", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"9", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}}
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTransaction Create (0.2ms)[0m   [0;1mINSERT INTO `transactions` (`comission`, `shares`, `price`, `created_at`, `updated_at`, `date`, `stock_id`, `portfolio_id`) VALUES(10.0, 100, 80.0, '2010-03-09 23:21:05', '2010-03-09 23:21:05', '2010-03-09', 1, 1)[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mOwnedStock Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `owned_stocks`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing ApplicationController#create (for 127.0.0.1 at 2010-03-09 18:21:05) [POST]
  Parameters: {"commit"=>"Add purchase details", "transaction"=>{"price"=>"80", "shares"=>"100", "comission"=>"10", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"9", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}}
  [4;36;1mSQL (4.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_2', '2010-03-09 23:21:05', '2010-03-09 23:21:05')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;35;1mPortfolio Create (0.2ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-09 23:21:05', '2010-03-09 23:21:05', 7)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_3', '2010-03-09 23:21:05', '2010-03-09 23:21:05')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
  [4;36;1mPortfolio Create (0.2ms)[0m   [0;1mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-09 23:21:05', '2010-03-09 23:21:05', 8)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (5.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_4', '2010-03-09 23:21:05', '2010-03-09 23:21:05')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;35;1mPortfolio Create (0.2ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-09 23:21:05', '2010-03-09 23:21:05', 9)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'Dani' AND `users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mPortfolio Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `portfolios`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `stocks`[0m
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'TEVA') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_1', '2010-03-09 23:22:14', '2010-03-09 23:22:14')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mPortfolio Create (0.1ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-09 23:22:14', '2010-03-09 23:22:14', 10)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
REQUESTING PAGE: GET /portfolios/1 with {} and HTTP headers {}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-09 18:22:14) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.3ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
Completed in 96ms (View: 9, DB: 5) | 200 OK [http://www.example.com/portfolios/1]
REQUESTING PAGE: GET /transactions/new?portfolio_id=1&type=BUY with {} and HTTP headers {"HTTP_REFERER"=>"/portfolios/1"}


Processing TransactionsController#new (for 127.0.0.1 at 2010-03-09 18:22:14) [GET]
  Parameters: {"type"=>"BUY", "portfolio_id"=>"1"}
  [4;36;1mTransaction Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `transactions`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/transactions
Rendering transactions/new
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` [0m
Rendered transactions/_buy_transaction (26.4ms)
Completed in 36ms (View: 30, DB: 2) | 200 OK [http://www.example.com/transactions/new?portfolio_id=1&type=BUY]
REQUESTING PAGE: POST /transactions with {"commit"=>"Add purchase details", "transaction"=>{"comission"=>"10", "shares"=>"100", "price"=>"80", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"9", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}} and HTTP headers {"HTTP_REFERER"=>"/transactions/new?portfolio_id=1&type=BUY"}


Processing TransactionsController#create (for 127.0.0.1 at 2010-03-09 18:22:14) [POST]
  Parameters: {"commit"=>"Add purchase details", "transaction"=>{"price"=>"80", "shares"=>"100", "comission"=>"10", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"9", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}}
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTransaction Create (0.2ms)[0m   [0;1mINSERT INTO `transactions` (`comission`, `shares`, `price`, `created_at`, `updated_at`, `date`, `stock_id`, `portfolio_id`) VALUES(10.0, 100, 80.0, '2010-03-09 23:22:14', '2010-03-09 23:22:14', '2010-03-09', 1, 1)[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mOwnedStock Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `owned_stocks`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/portfolios/1
Completed in 14ms (DB: 3) | 302 Found [http://www.example.com/transactions]
REQUESTING PAGE: GET http://www.example.com/portfolios/1 with {} and HTTP headers {"HTTP_REFERER"=>"/transactions"}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-09 18:22:14) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mPortfolio Load (0.3ms)[0m   [0;1mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mOwnedStock Load (0.1ms)[0m   [0;1mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
Completed in 5ms (View: 3, DB: 0) | 200 OK [http://www.example.com/portfolios/1]
  [4;35;1mSQL (2.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_2', '2010-03-09 23:22:14', '2010-03-09 23:22:14')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (4.9ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mPortfolio Create (0.2ms)[0m   [0;1mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-09 23:22:14', '2010-03-09 23:22:14', 11)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_3', '2010-03-09 23:22:14', '2010-03-09 23:22:14')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 12) [0m
  [4;35;1mPortfolio Create (0.1ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-09 23:22:14', '2010-03-09 23:22:14', 12)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_4', '2010-03-09 23:22:14', '2010-03-09 23:22:14')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mPortfolio Create (0.1ms)[0m   [0;1mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-09 23:22:14', '2010-03-09 23:22:14', 13)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'Dani' AND `users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPortfolio Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `portfolios`[0m
  [4;35;1mPortfolio Load (0.3ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `stocks`[0m
  [4;35;1mStock Load (0.3ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Load (0.2ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'TEVA') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_1', '2010-03-10 13:17:08', '2010-03-10 13:17:08')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mPortfolio Create (0.2ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 13:17:08', '2010-03-10 13:17:08', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
REQUESTING PAGE: GET /portfolios/1 with {} and HTTP headers {}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 08:17:08) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.3ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.4ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
Completed in 148ms (View: 60, DB: 6) | 200 OK [http://www.example.com/portfolios/1]
REQUESTING PAGE: GET /transactions/new?portfolio_id=1&type=BUY with {} and HTTP headers {"HTTP_REFERER"=>"/portfolios/1"}


Processing TransactionsController#new (for 127.0.0.1 at 2010-03-10 08:17:08) [GET]
  Parameters: {"type"=>"BUY", "portfolio_id"=>"1"}
  [4;36;1mTransaction Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `transactions`[0m
  [4;35;1mPortfolio Load (0.8ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/transactions
Rendering transactions/new
  [4;36;1mStock Load (0.4ms)[0m   [0;1mSELECT * FROM `stocks` [0m
Rendered transactions/_buy_transaction (151.5ms)
Completed in 167ms (View: 156, DB: 2) | 200 OK [http://www.example.com/transactions/new?portfolio_id=1&type=BUY]
REQUESTING PAGE: POST /transactions with {"commit"=>"Add purchase details", "transaction"=>{"comission"=>"10", "shares"=>"100", "price"=>"80", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"10", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}} and HTTP headers {"HTTP_REFERER"=>"/transactions/new?portfolio_id=1&type=BUY"}


Processing TransactionsController#create (for 127.0.0.1 at 2010-03-10 08:17:09) [POST]
  Parameters: {"commit"=>"Add purchase details", "transaction"=>{"price"=>"80", "shares"=>"100", "comission"=>"10", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"10", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}}
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTransaction Create (0.4ms)[0m   [0;1mINSERT INTO `transactions` (`comission`, `shares`, `price`, `created_at`, `updated_at`, `date`, `stock_id`, `portfolio_id`) VALUES(10.0, 100, 80.0, '2010-03-10 13:17:09', '2010-03-10 13:17:09', '2010-03-10', 1, 1)[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mStock Load (0.3ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mOwnedStock Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `owned_stocks`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/portfolios/1
Completed in 19ms (DB: 2) | 302 Found [http://www.example.com/transactions]
REQUESTING PAGE: GET http://www.example.com/portfolios/1 with {} and HTTP headers {"HTTP_REFERER"=>"/transactions"}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 08:17:09) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mPortfolio Load (0.2ms)[0m   [0;1mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mOwnedStock Load (0.1ms)[0m   [0;1mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
Completed in 5ms (View: 3, DB: 0) | 200 OK [http://www.example.com/portfolios/1]
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_2', '2010-03-10 13:17:09', '2010-03-10 13:17:09')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (4.9ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 3) [0m
  [4;36;1mPortfolio Create (0.2ms)[0m   [0;1mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 13:17:09', '2010-03-10 13:17:09', 3)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_3', '2010-03-10 13:17:09', '2010-03-10 13:17:09')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mPortfolio Create (0.1ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 13:17:09', '2010-03-10 13:17:09', 4)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_4', '2010-03-10 13:17:09', '2010-03-10 13:17:09')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 5) [0m
  [4;36;1mPortfolio Create (0.2ms)[0m   [0;1mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 13:17:09', '2010-03-10 13:17:09', 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'Dani' AND `users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPortfolio Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `portfolios`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `stocks`[0m
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'TEVA') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_1', '2010-03-10 14:16:44', '2010-03-10 14:16:44')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 6) [0m
  [4;35;1mPortfolio Create (0.2ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 14:16:44', '2010-03-10 14:16:44', 6)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
REQUESTING PAGE: GET /portfolios/1 with {} and HTTP headers {}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 09:16:44) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.3ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
Completed in 13ms (View: 9, DB: 5) | 200 OK [http://www.example.com/portfolios/1]
REQUESTING PAGE: GET /transactions/new?portfolio_id=1&type=BUY with {} and HTTP headers {"HTTP_REFERER"=>"/portfolios/1"}


Processing TransactionsController#new (for 127.0.0.1 at 2010-03-10 09:16:44) [GET]
  Parameters: {"type"=>"BUY", "portfolio_id"=>"1"}
  [4;36;1mTransaction Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `transactions`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/transactions
Rendering transactions/new
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` [0m
Rendered transactions/_buy_transaction (26.9ms)
Completed in 35ms (View: 30, DB: 1) | 200 OK [http://www.example.com/transactions/new?portfolio_id=1&type=BUY]
REQUESTING PAGE: POST /transactions with {"commit"=>"Add purchase details", "transaction"=>{"comission"=>"10", "shares"=>"100", "price"=>"80", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"10", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}} and HTTP headers {"HTTP_REFERER"=>"/transactions/new?portfolio_id=1&type=BUY"}


Processing TransactionsController#create (for 127.0.0.1 at 2010-03-10 09:16:44) [POST]
  Parameters: {"commit"=>"Add purchase details", "transaction"=>{"price"=>"80", "shares"=>"100", "comission"=>"10", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"10", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}}
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTransaction Create (0.2ms)[0m   [0;1mINSERT INTO `transactions` (`comission`, `shares`, `price`, `created_at`, `updated_at`, `date`, `stock_id`, `portfolio_id`) VALUES(10.0, 100, 80.0, '2010-03-10 14:16:44', '2010-03-10 14:16:44', '2010-03-10', 1, 1)[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mOwnedStock Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `owned_stocks`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/portfolios/1
Completed in 13ms (DB: 1) | 302 Found [http://www.example.com/transactions]
REQUESTING PAGE: GET http://www.example.com/portfolios/1 with {} and HTTP headers {"HTTP_REFERER"=>"/transactions"}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 09:16:44) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mPortfolio Load (0.2ms)[0m   [0;1mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mOwnedStock Load (0.1ms)[0m   [0;1mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
Completed in 5ms (View: 3, DB: 0) | 200 OK [http://www.example.com/portfolios/1]
  [4;35;1mSQL (3.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_2', '2010-03-10 14:16:44', '2010-03-10 14:16:44')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mPortfolio Create (0.1ms)[0m   [0;1mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 14:16:45', '2010-03-10 14:16:45', 7)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_3', '2010-03-10 14:16:45', '2010-03-10 14:16:45')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
  [4;35;1mPortfolio Create (0.1ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 14:16:45', '2010-03-10 14:16:45', 8)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_4', '2010-03-10 14:16:45', '2010-03-10 14:16:45')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mPortfolio Create (0.1ms)[0m   [0;1mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 14:16:45', '2010-03-10 14:16:45', 9)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (4.2ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'Dani' AND `users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPortfolio Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `portfolios`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `stocks`[0m
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'TEVA') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_1', '2010-03-10 21:28:00', '2010-03-10 21:28:00')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mPortfolio Create (0.1ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 21:28:00', '2010-03-10 21:28:00', 10)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
REQUESTING PAGE: GET /portfolios/1 with {} and HTTP headers {}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 16:28:00) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.3ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
Completed in 93ms (View: 9, DB: 4) | 200 OK [http://www.example.com/portfolios/1]
REQUESTING PAGE: GET /transactions/new?portfolio_id=1&type=BUY with {} and HTTP headers {"HTTP_REFERER"=>"/portfolios/1"}


Processing TransactionsController#new (for 127.0.0.1 at 2010-03-10 16:28:00) [GET]
  Parameters: {"type"=>"BUY", "portfolio_id"=>"1"}
  [4;36;1mTransaction Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `transactions`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/transactions
Rendering transactions/new
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` [0m
Rendered transactions/_buy_transaction (25.8ms)
Completed in 34ms (View: 29, DB: 1) | 200 OK [http://www.example.com/transactions/new?portfolio_id=1&type=BUY]
REQUESTING PAGE: POST /transactions with {"commit"=>"Add purchase details", "transaction"=>{"comission"=>"10", "shares"=>"100", "price"=>"80", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"10", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}} and HTTP headers {"HTTP_REFERER"=>"/transactions/new?portfolio_id=1&type=BUY"}


Processing TransactionsController#create (for 127.0.0.1 at 2010-03-10 16:28:00) [POST]
  Parameters: {"commit"=>"Add purchase details", "transaction"=>{"price"=>"80", "shares"=>"100", "comission"=>"10", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"10", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}}
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTransaction Create (0.2ms)[0m   [0;1mINSERT INTO `transactions` (`comission`, `shares`, `price`, `created_at`, `updated_at`, `date`, `stock_id`, `portfolio_id`) VALUES(10.0, 100, 80.0, '2010-03-10 21:28:00', '2010-03-10 21:28:00', '2010-03-10', 1, 1)[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mOwnedStock Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `owned_stocks`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/portfolios/1
Completed in 13ms (DB: 1) | 302 Found [http://www.example.com/transactions]
REQUESTING PAGE: GET http://www.example.com/portfolios/1 with {} and HTTP headers {"HTTP_REFERER"=>"/transactions"}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 16:28:00) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mPortfolio Load (0.2ms)[0m   [0;1mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mOwnedStock Load (0.1ms)[0m   [0;1mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
Completed in 5ms (View: 3, DB: 1) | 200 OK [http://www.example.com/portfolios/1]
  [4;35;1mSQL (5.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_2', '2010-03-10 21:28:00', '2010-03-10 21:28:00')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mPortfolio Create (0.1ms)[0m   [0;1mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 21:28:01', '2010-03-10 21:28:01', 11)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_3', '2010-03-10 21:28:01', '2010-03-10 21:28:01')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 12) [0m
  [4;35;1mPortfolio Create (0.1ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 21:28:01', '2010-03-10 21:28:01', 12)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_4', '2010-03-10 21:28:01', '2010-03-10 21:28:01')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mPortfolio Create (0.1ms)[0m   [0;1mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 21:28:01', '2010-03-10 21:28:01', 13)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'Dani' AND `users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPortfolio Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `portfolios`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `stocks`[0m
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'TEVA') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_1', '2010-03-10 21:28:16', '2010-03-10 21:28:16')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 14) [0m
  [4;35;1mPortfolio Create (0.1ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 21:28:16', '2010-03-10 21:28:16', 14)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
REQUESTING PAGE: GET /portfolios/1 with {} and HTTP headers {}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 16:28:16) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.3ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
Completed in 14ms (View: 9, DB: 4) | 200 OK [http://www.example.com/portfolios/1]
REQUESTING PAGE: GET /transactions/new?portfolio_id=1&type=BUY with {} and HTTP headers {"HTTP_REFERER"=>"/portfolios/1"}


Processing TransactionsController#new (for 127.0.0.1 at 2010-03-10 16:28:16) [GET]
  Parameters: {"type"=>"BUY", "portfolio_id"=>"1"}
  [4;36;1mTransaction Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `transactions`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/transactions
Rendering transactions/new
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` [0m
Rendered transactions/_buy_transaction (26.3ms)
Completed in 35ms (View: 29, DB: 1) | 200 OK [http://www.example.com/transactions/new?portfolio_id=1&type=BUY]
REQUESTING PAGE: POST /transactions with {"commit"=>"Add purchase details", "transaction"=>{"comission"=>"10", "shares"=>"100", "price"=>"80", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"10", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}} and HTTP headers {"HTTP_REFERER"=>"/transactions/new?portfolio_id=1&type=BUY"}


Processing TransactionsController#create (for 127.0.0.1 at 2010-03-10 16:28:16) [POST]
  Parameters: {"commit"=>"Add purchase details", "transaction"=>{"price"=>"80", "shares"=>"100", "comission"=>"10", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"10", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}}
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTransaction Create (0.3ms)[0m   [0;1mINSERT INTO `transactions` (`comission`, `shares`, `price`, `created_at`, `updated_at`, `date`, `stock_id`, `portfolio_id`) VALUES(10.0, 100, 80.0, '2010-03-10 21:28:16', '2010-03-10 21:28:16', '2010-03-10', 1, 1)[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mOwnedStock Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `owned_stocks`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/portfolios/1
Completed in 13ms (DB: 1) | 302 Found [http://www.example.com/transactions]
REQUESTING PAGE: GET http://www.example.com/portfolios/1 with {} and HTTP headers {"HTTP_REFERER"=>"/transactions"}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 16:28:16) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mPortfolio Load (0.2ms)[0m   [0;1mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mOwnedStock Load (0.1ms)[0m   [0;1mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
Completed in 5ms (View: 3, DB: 0) | 200 OK [http://www.example.com/portfolios/1]
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.user_id = 14) LIMIT 1[0m
  [4;36;1mStock Load (0.2ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') LIMIT 1[0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 14) [0m
  [4;36;1mSQL (7.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_2', '2010-03-10 21:28:16', '2010-03-10 21:28:16')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 15) [0m
  [4;35;1mPortfolio Create (0.1ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 21:28:16', '2010-03-10 21:28:16', 15)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_3', '2010-03-10 21:28:16', '2010-03-10 21:28:16')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 16) [0m
  [4;36;1mPortfolio Create (0.1ms)[0m   [0;1mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 21:28:16', '2010-03-10 21:28:16', 16)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_4', '2010-03-10 21:28:16', '2010-03-10 21:28:16')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 17) [0m
  [4;35;1mPortfolio Create (0.1ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 21:28:16', '2010-03-10 21:28:16', 17)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'Dani' AND `users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPortfolio Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `portfolios`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `stocks`[0m
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'TEVA') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_1', '2010-03-10 21:30:40', '2010-03-10 21:30:40')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 18) [0m
  [4;35;1mPortfolio Create (0.1ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 21:30:40', '2010-03-10 21:30:40', 18)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
REQUESTING PAGE: GET /portfolios/1 with {} and HTTP headers {}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 16:30:40) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.3ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
Completed in 14ms (View: 9, DB: 4) | 200 OK [http://www.example.com/portfolios/1]
REQUESTING PAGE: GET /transactions/new?portfolio_id=1&type=BUY with {} and HTTP headers {"HTTP_REFERER"=>"/portfolios/1"}


Processing TransactionsController#new (for 127.0.0.1 at 2010-03-10 16:30:40) [GET]
  Parameters: {"type"=>"BUY", "portfolio_id"=>"1"}
  [4;36;1mTransaction Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `transactions`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/transactions
Rendering transactions/new
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` [0m
Rendered transactions/_buy_transaction (26.5ms)
Completed in 35ms (View: 29, DB: 1) | 200 OK [http://www.example.com/transactions/new?portfolio_id=1&type=BUY]
REQUESTING PAGE: POST /transactions with {"commit"=>"Add purchase details", "transaction"=>{"comission"=>"10", "shares"=>"100", "price"=>"80", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"10", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}} and HTTP headers {"HTTP_REFERER"=>"/transactions/new?portfolio_id=1&type=BUY"}


Processing TransactionsController#create (for 127.0.0.1 at 2010-03-10 16:30:40) [POST]
  Parameters: {"commit"=>"Add purchase details", "transaction"=>{"price"=>"80", "shares"=>"100", "comission"=>"10", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"10", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}}
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTransaction Create (0.2ms)[0m   [0;1mINSERT INTO `transactions` (`comission`, `shares`, `price`, `created_at`, `updated_at`, `date`, `stock_id`, `portfolio_id`) VALUES(10.0, 100, 80.0, '2010-03-10 21:30:40', '2010-03-10 21:30:40', '2010-03-10', 1, 1)[0m
  [4;35;1mPortfolio Load (0.3ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mOwnedStock Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `owned_stocks`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/portfolios/1
Completed in 13ms (DB: 1) | 302 Found [http://www.example.com/transactions]
REQUESTING PAGE: GET http://www.example.com/portfolios/1 with {} and HTTP headers {"HTTP_REFERER"=>"/transactions"}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 16:30:40) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mPortfolio Load (0.3ms)[0m   [0;1mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mOwnedStock Load (0.1ms)[0m   [0;1mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
Completed in 5ms (View: 3, DB: 0) | 200 OK [http://www.example.com/portfolios/1]
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.user_id = 18) LIMIT 1[0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') LIMIT 1[0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 18) [0m
  [4;36;1mSQL (4.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_2', '2010-03-10 21:30:41', '2010-03-10 21:30:41')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 19) [0m
  [4;35;1mPortfolio Create (0.2ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 21:30:41', '2010-03-10 21:30:41', 19)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_3', '2010-03-10 21:30:41', '2010-03-10 21:30:41')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 20) [0m
  [4;36;1mPortfolio Create (0.2ms)[0m   [0;1mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 21:30:41', '2010-03-10 21:30:41', 20)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_4', '2010-03-10 21:30:41', '2010-03-10 21:30:41')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 21) [0m
  [4;35;1mPortfolio Create (0.1ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 21:30:41', '2010-03-10 21:30:41', 21)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'Dani' AND `users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mPortfolio Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `portfolios`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `stocks`[0m
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'TEVA') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_1', '2010-03-10 21:31:42', '2010-03-10 21:31:42')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 22) [0m
  [4;35;1mPortfolio Create (0.1ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 21:31:42', '2010-03-10 21:31:42', 22)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
REQUESTING PAGE: GET /portfolios/1 with {} and HTTP headers {}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 16:31:42) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.3ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
Completed in 93ms (View: 9, DB: 4) | 200 OK [http://www.example.com/portfolios/1]
REQUESTING PAGE: GET /transactions/new?portfolio_id=1&type=BUY with {} and HTTP headers {"HTTP_REFERER"=>"/portfolios/1"}


Processing TransactionsController#new (for 127.0.0.1 at 2010-03-10 16:31:43) [GET]
  Parameters: {"type"=>"BUY", "portfolio_id"=>"1"}
  [4;36;1mTransaction Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `transactions`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/transactions
Rendering transactions/new
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` [0m
Rendered transactions/_buy_transaction (26.5ms)
Completed in 35ms (View: 29, DB: 1) | 200 OK [http://www.example.com/transactions/new?portfolio_id=1&type=BUY]
REQUESTING PAGE: POST /transactions with {"commit"=>"Add purchase details", "transaction"=>{"comission"=>"10", "shares"=>"100", "price"=>"80", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"10", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}} and HTTP headers {"HTTP_REFERER"=>"/transactions/new?portfolio_id=1&type=BUY"}


Processing TransactionsController#create (for 127.0.0.1 at 2010-03-10 16:31:43) [POST]
  Parameters: {"commit"=>"Add purchase details", "transaction"=>{"price"=>"80", "shares"=>"100", "comission"=>"10", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"10", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}}
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTransaction Create (0.2ms)[0m   [0;1mINSERT INTO `transactions` (`comission`, `shares`, `price`, `created_at`, `updated_at`, `date`, `stock_id`, `portfolio_id`) VALUES(10.0, 100, 80.0, '2010-03-10 21:31:43', '2010-03-10 21:31:43', '2010-03-10', 1, 1)[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mOwnedStock Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `owned_stocks`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/portfolios/1
Completed in 13ms (DB: 1) | 302 Found [http://www.example.com/transactions]
REQUESTING PAGE: GET http://www.example.com/portfolios/1 with {} and HTTP headers {"HTTP_REFERER"=>"/transactions"}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 16:31:43) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mPortfolio Load (0.2ms)[0m   [0;1mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mOwnedStock Load (0.1ms)[0m   [0;1mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
Completed in 5ms (View: 3, DB: 0) | 200 OK [http://www.example.com/portfolios/1]
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.user_id = 22) LIMIT 1[0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') LIMIT 1[0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 22) [0m
  [4;36;1mSQL (4.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_2', '2010-03-10 21:31:43', '2010-03-10 21:31:43')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 23) [0m
  [4;35;1mPortfolio Create (0.1ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 21:31:43', '2010-03-10 21:31:43', 23)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_3', '2010-03-10 21:31:43', '2010-03-10 21:31:43')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 24) [0m
  [4;36;1mPortfolio Create (0.1ms)[0m   [0;1mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 21:31:43', '2010-03-10 21:31:43', 24)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_4', '2010-03-10 21:31:43', '2010-03-10 21:31:43')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 25) [0m
  [4;35;1mPortfolio Create (0.1ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 21:31:43', '2010-03-10 21:31:43', 25)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'Dani' AND `users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mPortfolio Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `portfolios`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `stocks`[0m
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'TEVA') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_1', '2010-03-10 21:32:16', '2010-03-10 21:32:16')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 26) [0m
  [4;35;1mPortfolio Create (0.1ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 21:32:16', '2010-03-10 21:32:16', 26)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
REQUESTING PAGE: GET /portfolios/1 with {} and HTTP headers {}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 16:32:16) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.3ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
Completed in 93ms (View: 9, DB: 4) | 200 OK [http://www.example.com/portfolios/1]
REQUESTING PAGE: GET /transactions/new?portfolio_id=1&type=BUY with {} and HTTP headers {"HTTP_REFERER"=>"/portfolios/1"}


Processing TransactionsController#new (for 127.0.0.1 at 2010-03-10 16:32:17) [GET]
  Parameters: {"type"=>"BUY", "portfolio_id"=>"1"}
  [4;36;1mTransaction Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `transactions`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/transactions
Rendering transactions/new
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` [0m
Rendered transactions/_buy_transaction (35.8ms)
Completed in 44ms (View: 39, DB: 1) | 200 OK [http://www.example.com/transactions/new?portfolio_id=1&type=BUY]
REQUESTING PAGE: POST /transactions with {"commit"=>"Add purchase details", "transaction"=>{"comission"=>"10", "shares"=>"100", "price"=>"80", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"10", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}} and HTTP headers {"HTTP_REFERER"=>"/transactions/new?portfolio_id=1&type=BUY"}


Processing TransactionsController#create (for 127.0.0.1 at 2010-03-10 16:32:17) [POST]
  Parameters: {"commit"=>"Add purchase details", "transaction"=>{"price"=>"80", "shares"=>"100", "comission"=>"10", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"10", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}}
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTransaction Create (0.2ms)[0m   [0;1mINSERT INTO `transactions` (`comission`, `shares`, `price`, `created_at`, `updated_at`, `date`, `stock_id`, `portfolio_id`) VALUES(10.0, 100, 80.0, '2010-03-10 21:32:17', '2010-03-10 21:32:17', '2010-03-10', 1, 1)[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mOwnedStock Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `owned_stocks`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/portfolios/1
Completed in 37ms (DB: 1) | 302 Found [http://www.example.com/transactions]
REQUESTING PAGE: GET http://www.example.com/portfolios/1 with {} and HTTP headers {"HTTP_REFERER"=>"/transactions"}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 16:32:17) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mPortfolio Load (0.2ms)[0m   [0;1mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mOwnedStock Load (0.1ms)[0m   [0;1mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
Completed in 5ms (View: 3, DB: 0) | 200 OK [http://www.example.com/portfolios/1]
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.user_id = 26) LIMIT 1[0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') LIMIT 1[0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 26) [0m
  [4;36;1mStock Load (0.5ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') LIMIT 1[0m
  [4;35;1mPortfolio Load (0.5ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.user_id = 26) LIMIT 1[0m
  [4;36;1mPortfolio Load (0.5ms)[0m   [0;1mSELECT * FROM `portfolios` WHERE (`portfolios`.user_id = 26) LIMIT 1[0m
  [4;35;1mOwnedStock Load (0.2ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 26) [0m
  [4;36;1mOwnedStock Load (0.5ms)[0m   [0;1mSELECT * FROM `owned_stocks` [0m
  [4;35;1mTransaction Load (0.5ms)[0m   [0mSELECT * FROM `transactions` [0m
  [4;36;1mSQL (2.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_2', '2010-03-10 23:02:14', '2010-03-10 23:02:14')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 27) [0m
  [4;35;1mPortfolio Create (0.3ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 23:02:14', '2010-03-10 23:02:14', 27)[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_3', '2010-03-10 23:02:14', '2010-03-10 23:02:14')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 28) [0m
  [4;36;1mPortfolio Create (0.4ms)[0m   [0;1mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 23:02:14', '2010-03-10 23:02:14', 28)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_4', '2010-03-10 23:02:14', '2010-03-10 23:02:14')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 29) [0m
  [4;35;1mPortfolio Create (0.8ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 23:02:14', '2010-03-10 23:02:14', 29)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (4.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'Dani' AND `users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mPortfolio Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `portfolios`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `stocks`[0m
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'TEVA') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_1', '2010-03-10 23:02:20', '2010-03-10 23:02:20')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 30) [0m
  [4;35;1mPortfolio Create (0.1ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 23:02:20', '2010-03-10 23:02:20', 30)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
REQUESTING PAGE: GET /portfolios/1 with {} and HTTP headers {}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 18:02:20) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.3ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
Completed in 93ms (View: 9, DB: 4) | 200 OK [http://www.example.com/portfolios/1]
REQUESTING PAGE: GET /transactions/new?portfolio_id=1&type=BUY with {} and HTTP headers {"HTTP_REFERER"=>"/portfolios/1"}


Processing TransactionsController#new (for 127.0.0.1 at 2010-03-10 18:02:20) [GET]
  Parameters: {"type"=>"BUY", "portfolio_id"=>"1"}
  [4;36;1mTransaction Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `transactions`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/transactions
Rendering transactions/new
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` [0m
Rendered transactions/_buy_transaction (26.0ms)
Completed in 34ms (View: 29, DB: 1) | 200 OK [http://www.example.com/transactions/new?portfolio_id=1&type=BUY]
REQUESTING PAGE: POST /transactions with {"commit"=>"Add purchase details", "transaction"=>{"comission"=>"10", "shares"=>"100", "price"=>"80", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"10", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}} and HTTP headers {"HTTP_REFERER"=>"/transactions/new?portfolio_id=1&type=BUY"}


Processing TransactionsController#create (for 127.0.0.1 at 2010-03-10 18:02:20) [POST]
  Parameters: {"commit"=>"Add purchase details", "transaction"=>{"price"=>"80", "shares"=>"100", "comission"=>"10", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"10", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}}
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTransaction Create (0.2ms)[0m   [0;1mINSERT INTO `transactions` (`comission`, `shares`, `price`, `created_at`, `updated_at`, `date`, `stock_id`, `portfolio_id`) VALUES(10.0, 100, 80.0, '2010-03-10 23:02:20', '2010-03-10 23:02:20', '2010-03-10', 1, 1)[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mOwnedStock Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `owned_stocks`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m


Processing ApplicationController#create (for 127.0.0.1 at 2010-03-10 18:02:20) [POST]
  Parameters: {"commit"=>"Add purchase details", "transaction"=>{"price"=>"80", "shares"=>"100", "comission"=>"10", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"10", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}}
  [4;36;1mSQL (13.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_2', '2010-03-10 23:02:20', '2010-03-10 23:02:20')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 31) [0m
  [4;35;1mPortfolio Create (0.2ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 23:02:20', '2010-03-10 23:02:20', 31)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_3', '2010-03-10 23:02:20', '2010-03-10 23:02:20')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 32) [0m
  [4;36;1mPortfolio Create (0.2ms)[0m   [0;1mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 23:02:20', '2010-03-10 23:02:20', 32)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_4', '2010-03-10 23:02:20', '2010-03-10 23:02:20')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 33) [0m
  [4;35;1mPortfolio Create (0.1ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 23:02:20', '2010-03-10 23:02:20', 33)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'Dani' AND `users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPortfolio Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `portfolios`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `stocks`[0m
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'TEVA') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_1', '2010-03-10 23:03:22', '2010-03-10 23:03:22')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 34) [0m
  [4;35;1mPortfolio Create (0.1ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 23:03:22', '2010-03-10 23:03:22', 34)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
REQUESTING PAGE: GET /portfolios/1 with {} and HTTP headers {}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 18:03:22) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.3ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
Completed in 93ms (View: 9, DB: 4) | 200 OK [http://www.example.com/portfolios/1]
REQUESTING PAGE: GET /transactions/new?portfolio_id=1&type=BUY with {} and HTTP headers {"HTTP_REFERER"=>"/portfolios/1"}


Processing TransactionsController#new (for 127.0.0.1 at 2010-03-10 18:03:22) [GET]
  Parameters: {"type"=>"BUY", "portfolio_id"=>"1"}
  [4;36;1mTransaction Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `transactions`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/transactions
Rendering transactions/new
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` [0m
Rendered transactions/_buy_transaction (25.7ms)
Completed in 34ms (View: 29, DB: 1) | 200 OK [http://www.example.com/transactions/new?portfolio_id=1&type=BUY]
REQUESTING PAGE: POST /transactions with {"commit"=>"Add purchase details", "transaction"=>{"comission"=>"10", "shares"=>"100", "price"=>"80", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"10", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}} and HTTP headers {"HTTP_REFERER"=>"/transactions/new?portfolio_id=1&type=BUY"}


Processing TransactionsController#create (for 127.0.0.1 at 2010-03-10 18:03:22) [POST]
  Parameters: {"commit"=>"Add purchase details", "transaction"=>{"price"=>"80", "shares"=>"100", "comission"=>"10", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"10", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}}
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTransaction Create (0.2ms)[0m   [0;1mINSERT INTO `transactions` (`comission`, `shares`, `price`, `created_at`, `updated_at`, `date`, `stock_id`, `portfolio_id`) VALUES(10.0, 100, 80.0, '2010-03-10 23:03:22', '2010-03-10 23:03:22', '2010-03-10', 1, 1)[0m
  [4;35;1mPortfolio Load (0.3ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mOwnedStock Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `owned_stocks`[0m
  [4;35;1mOwnedStock Create (0.3ms)[0m   [0mINSERT INTO `owned_stocks` (`shares`, `created_at`, `updated_at`, `stock_id`, `portfolio_id`) VALUES(100, '2010-03-10 23:03:22', '2010-03-10 23:03:22', 1, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/portfolios/1
Completed in 14ms (DB: 2) | 302 Found [http://www.example.com/transactions]
REQUESTING PAGE: GET http://www.example.com/portfolios/1 with {} and HTTP headers {"HTTP_REFERER"=>"/transactions"}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 18:03:22) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
Rendered owned_stocks/_owned_stock (1.8ms)
Completed in 7ms (View: 6, DB: 1) | 200 OK [http://www.example.com/portfolios/1]
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.user_id = 34) LIMIT 1[0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') LIMIT 1[0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 34) [0m
  [4;36;1mSQL (5.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_2', '2010-03-10 23:03:22', '2010-03-10 23:03:22')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 35) [0m
  [4;35;1mPortfolio Create (0.2ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 23:03:22', '2010-03-10 23:03:22', 35)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_3', '2010-03-10 23:03:22', '2010-03-10 23:03:22')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 36) [0m
  [4;36;1mPortfolio Create (0.2ms)[0m   [0;1mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 23:03:22', '2010-03-10 23:03:22', 36)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_4', '2010-03-10 23:03:22', '2010-03-10 23:03:22')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 37) [0m
  [4;35;1mPortfolio Create (0.2ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 23:03:22', '2010-03-10 23:03:22', 37)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'Dani' AND `users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPortfolio Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `portfolios`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `stocks`[0m
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'TEVA') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_1', '2010-03-10 23:04:27', '2010-03-10 23:04:27')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 38) [0m
  [4;35;1mPortfolio Create (0.1ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 23:04:27', '2010-03-10 23:04:27', 38)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
REQUESTING PAGE: GET /portfolios/1 with {} and HTTP headers {}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 18:04:27) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.3ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.2ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
Completed in 93ms (View: 9, DB: 4) | 200 OK [http://www.example.com/portfolios/1]
REQUESTING PAGE: GET /transactions/new?portfolio_id=1&type=BUY with {} and HTTP headers {"HTTP_REFERER"=>"/portfolios/1"}


Processing TransactionsController#new (for 127.0.0.1 at 2010-03-10 18:04:28) [GET]
  Parameters: {"type"=>"BUY", "portfolio_id"=>"1"}
  [4;36;1mTransaction Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `transactions`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/transactions
Rendering transactions/new
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` [0m
Rendered transactions/_buy_transaction (25.7ms)
Completed in 34ms (View: 29, DB: 1) | 200 OK [http://www.example.com/transactions/new?portfolio_id=1&type=BUY]
REQUESTING PAGE: POST /transactions with {"commit"=>"Add purchase details", "transaction"=>{"comission"=>"10", "shares"=>"100", "price"=>"80", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"10", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}} and HTTP headers {"HTTP_REFERER"=>"/transactions/new?portfolio_id=1&type=BUY"}


Processing TransactionsController#create (for 127.0.0.1 at 2010-03-10 18:04:28) [POST]
  Parameters: {"commit"=>"Add purchase details", "transaction"=>{"price"=>"80", "shares"=>"100", "comission"=>"10", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"10", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}}
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTransaction Create (0.2ms)[0m   [0;1mINSERT INTO `transactions` (`comission`, `shares`, `price`, `created_at`, `updated_at`, `date`, `stock_id`, `portfolio_id`) VALUES(10.0, 100, 80.0, '2010-03-10 23:04:28', '2010-03-10 23:04:28', '2010-03-10', 1, 1)[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mStock Load (0.3ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mOwnedStock Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `owned_stocks`[0m
  [4;35;1mOwnedStock Create (0.2ms)[0m   [0mINSERT INTO `owned_stocks` (`shares`, `created_at`, `updated_at`, `stock_id`, `portfolio_id`) VALUES(100, '2010-03-10 23:04:28', '2010-03-10 23:04:28', 1, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/portfolios/1
Completed in 15ms (DB: 2) | 302 Found [http://www.example.com/transactions]
REQUESTING PAGE: GET http://www.example.com/portfolios/1 with {} and HTTP headers {"HTTP_REFERER"=>"/transactions"}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 18:04:28) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
Rendered owned_stocks/_owned_stock (1.8ms)
Completed in 7ms (View: 6, DB: 1) | 200 OK [http://www.example.com/portfolios/1]
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.user_id = 38) LIMIT 1[0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') LIMIT 1[0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 38) [0m
  [4;36;1mSQL (4.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_2', '2010-03-10 23:04:28', '2010-03-10 23:04:28')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 39) [0m
  [4;35;1mPortfolio Create (0.2ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 23:04:28', '2010-03-10 23:04:28', 39)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_3', '2010-03-10 23:04:28', '2010-03-10 23:04:28')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 40) [0m
  [4;36;1mPortfolio Create (0.2ms)[0m   [0;1mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 23:04:28', '2010-03-10 23:04:28', 40)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_4', '2010-03-10 23:04:28', '2010-03-10 23:04:28')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 41) [0m
  [4;35;1mPortfolio Create (0.2ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 23:04:28', '2010-03-10 23:04:28', 41)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'Dani' AND `users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPortfolio Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `portfolios`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `stocks`[0m
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'TEVA') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_1', '2010-03-10 23:04:49', '2010-03-10 23:04:49')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 42) [0m
  [4;35;1mPortfolio Create (0.1ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 23:04:49', '2010-03-10 23:04:49', 42)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
REQUESTING PAGE: GET /portfolios/1 with {} and HTTP headers {}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 18:04:49) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.3ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.2ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
Completed in 93ms (View: 9, DB: 4) | 200 OK [http://www.example.com/portfolios/1]
REQUESTING PAGE: GET /transactions/new?portfolio_id=1&type=BUY with {} and HTTP headers {"HTTP_REFERER"=>"/portfolios/1"}


Processing TransactionsController#new (for 127.0.0.1 at 2010-03-10 18:04:49) [GET]
  Parameters: {"type"=>"BUY", "portfolio_id"=>"1"}
  [4;36;1mTransaction Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `transactions`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/transactions
Rendering transactions/new
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` [0m
Rendered transactions/_buy_transaction (25.6ms)
Completed in 34ms (View: 29, DB: 1) | 200 OK [http://www.example.com/transactions/new?portfolio_id=1&type=BUY]
REQUESTING PAGE: POST /transactions with {"commit"=>"Add purchase details", "transaction"=>{"comission"=>"10", "shares"=>"100", "price"=>"80", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"10", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}} and HTTP headers {"HTTP_REFERER"=>"/transactions/new?portfolio_id=1&type=BUY"}


Processing TransactionsController#create (for 127.0.0.1 at 2010-03-10 18:04:49) [POST]
  Parameters: {"commit"=>"Add purchase details", "transaction"=>{"price"=>"80", "shares"=>"100", "comission"=>"10", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"10", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}}
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTransaction Create (0.4ms)[0m   [0;1mINSERT INTO `transactions` (`comission`, `shares`, `price`, `created_at`, `updated_at`, `date`, `stock_id`, `portfolio_id`) VALUES(10.0, 100, 80.0, '2010-03-10 23:04:49', '2010-03-10 23:04:49', '2010-03-10', 1, 1)[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mStock Load (0.3ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mOwnedStock Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `owned_stocks`[0m
  [4;35;1mOwnedStock Create (0.2ms)[0m   [0mINSERT INTO `owned_stocks` (`shares`, `created_at`, `updated_at`, `stock_id`, `portfolio_id`) VALUES(100, '2010-03-10 23:04:49', '2010-03-10 23:04:49', 1, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/portfolios/1
Completed in 15ms (DB: 2) | 302 Found [http://www.example.com/transactions]
REQUESTING PAGE: GET http://www.example.com/portfolios/1 with {} and HTTP headers {"HTTP_REFERER"=>"/transactions"}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 18:04:49) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
Rendered owned_stocks/_owned_stock (1.8ms)
Completed in 7ms (View: 6, DB: 1) | 200 OK [http://www.example.com/portfolios/1]
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.user_id = 42) LIMIT 1[0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') LIMIT 1[0m
  [4;35;1mOwnedStock Load (0.2ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 42) [0m
  [4;36;1mPortfolio Load (0.5ms)[0m   [0;1mSELECT * FROM `portfolios` WHERE (`portfolios`.user_id = 42) LIMIT 1[0m
  [4;35;1mPortfolio Load (0.5ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.user_id = 42) LIMIT 1[0m
  [4;36;1mOwnedStock Load (0.3ms)[0m   [0;1mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 42) [0m
  [4;35;1mOwnedStock Load (0.7ms)[0m   [0mSELECT * FROM `owned_stocks` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'Dani' AND `users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mPortfolio Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `portfolios`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `stocks`[0m
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'TEVA') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_1', '2010-03-10 23:06:52', '2010-03-10 23:06:52')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 43) [0m
  [4;35;1mPortfolio Create (0.1ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 23:06:52', '2010-03-10 23:06:52', 43)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
REQUESTING PAGE: GET /portfolios/1 with {} and HTTP headers {}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 18:06:52) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.3ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.3ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
Completed in 92ms (View: 9, DB: 5) | 200 OK [http://www.example.com/portfolios/1]
REQUESTING PAGE: GET /transactions/new?portfolio_id=1&type=BUY with {} and HTTP headers {"HTTP_REFERER"=>"/portfolios/1"}


Processing TransactionsController#new (for 127.0.0.1 at 2010-03-10 18:06:52) [GET]
  Parameters: {"type"=>"BUY", "portfolio_id"=>"1"}
  [4;36;1mTransaction Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `transactions`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/transactions
Rendering transactions/new
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` [0m
Rendered transactions/_buy_transaction (25.1ms)
Completed in 33ms (View: 28, DB: 1) | 200 OK [http://www.example.com/transactions/new?portfolio_id=1&type=BUY]
REQUESTING PAGE: POST /transactions with {"commit"=>"Add purchase details", "transaction"=>{"comission"=>"10", "shares"=>"100", "price"=>"80", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"10", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}} and HTTP headers {"HTTP_REFERER"=>"/transactions/new?portfolio_id=1&type=BUY"}


Processing TransactionsController#create (for 127.0.0.1 at 2010-03-10 18:06:52) [POST]
  Parameters: {"commit"=>"Add purchase details", "transaction"=>{"price"=>"80", "shares"=>"100", "comission"=>"10", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"10", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}}
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTransaction Create (0.2ms)[0m   [0;1mINSERT INTO `transactions` (`comission`, `shares`, `price`, `created_at`, `updated_at`, `date`, `stock_id`, `portfolio_id`) VALUES(10.0, 100, 80.0, '2010-03-10 23:06:52', '2010-03-10 23:06:52', '2010-03-10', 1, 1)[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mOwnedStock Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `owned_stocks`[0m
  [4;35;1mOwnedStock Create (0.2ms)[0m   [0mINSERT INTO `owned_stocks` (`shares`, `created_at`, `updated_at`, `stock_id`, `portfolio_id`) VALUES(100, '2010-03-10 23:06:52', '2010-03-10 23:06:52', 1, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/portfolios/1
Completed in 15ms (DB: 1) | 302 Found [http://www.example.com/transactions]
REQUESTING PAGE: GET http://www.example.com/portfolios/1 with {} and HTTP headers {"HTTP_REFERER"=>"/transactions"}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 18:06:52) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
Rendered owned_stocks/_owned_stock (1.8ms)
Completed in 7ms (View: 6, DB: 1) | 200 OK [http://www.example.com/portfolios/1]
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.user_id = 43) LIMIT 1[0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') LIMIT 1[0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 43) [0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_2', '2010-03-10 23:06:57', '2010-03-10 23:06:57')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 44) [0m
  [4;35;1mPortfolio Create (0.4ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 23:06:57', '2010-03-10 23:06:57', 44)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_3', '2010-03-10 23:06:57', '2010-03-10 23:06:57')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 45) [0m
  [4;36;1mPortfolio Create (0.3ms)[0m   [0;1mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 23:06:57', '2010-03-10 23:06:57', 45)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_4', '2010-03-10 23:06:57', '2010-03-10 23:06:57')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 46) [0m
  [4;35;1mPortfolio Create (0.3ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 23:06:57', '2010-03-10 23:06:57', 46)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'Dani' AND `users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPortfolio Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `portfolios`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `stocks`[0m
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'TEVA') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_1', '2010-03-10 23:11:18', '2010-03-10 23:11:18')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 47) [0m
  [4;35;1mPortfolio Create (0.1ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 23:11:18', '2010-03-10 23:11:18', 47)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
REQUESTING PAGE: GET /portfolios/1 with {} and HTTP headers {}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 18:11:18) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.3ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.2ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
Completed in 93ms (View: 9, DB: 4) | 200 OK [http://www.example.com/portfolios/1]
REQUESTING PAGE: GET /transactions/new?portfolio_id=1&type=BUY with {} and HTTP headers {"HTTP_REFERER"=>"/portfolios/1"}


Processing TransactionsController#new (for 127.0.0.1 at 2010-03-10 18:11:18) [GET]
  Parameters: {"type"=>"BUY", "portfolio_id"=>"1"}
  [4;36;1mTransaction Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `transactions`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/transactions
Rendering transactions/new
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` [0m
Rendered transactions/_buy_transaction (25.8ms)
Completed in 34ms (View: 29, DB: 1) | 200 OK [http://www.example.com/transactions/new?portfolio_id=1&type=BUY]
REQUESTING PAGE: POST /transactions with {"commit"=>"Add purchase details", "transaction"=>{"comission"=>"10", "shares"=>"100", "price"=>"80", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"10", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}} and HTTP headers {"HTTP_REFERER"=>"/transactions/new?portfolio_id=1&type=BUY"}


Processing TransactionsController#create (for 127.0.0.1 at 2010-03-10 18:11:18) [POST]
  Parameters: {"commit"=>"Add purchase details", "transaction"=>{"price"=>"80", "shares"=>"100", "comission"=>"10", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"10", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}}
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTransaction Create (0.2ms)[0m   [0;1mINSERT INTO `transactions` (`comission`, `shares`, `price`, `created_at`, `updated_at`, `date`, `stock_id`, `portfolio_id`) VALUES(10.0, 100, 80.0, '2010-03-10 23:11:18', '2010-03-10 23:11:18', '2010-03-10', 1, 1)[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mOwnedStock Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `owned_stocks`[0m
  [4;35;1mOwnedStock Create (0.3ms)[0m   [0mINSERT INTO `owned_stocks` (`shares`, `created_at`, `updated_at`, `stock_id`, `portfolio_id`) VALUES(100, '2010-03-10 23:11:18', '2010-03-10 23:11:18', 1, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/portfolios/1
Completed in 16ms (DB: 2) | 302 Found [http://www.example.com/transactions]
REQUESTING PAGE: GET http://www.example.com/portfolios/1 with {} and HTTP headers {"HTTP_REFERER"=>"/transactions"}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 18:11:18) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
Rendered owned_stocks/_owned_stock (1.8ms)
Completed in 7ms (View: 6, DB: 1) | 200 OK [http://www.example.com/portfolios/1]
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') LIMIT 1[0m
  [4;36;1mOwnedStock Load (0.2ms)[0m   [0;1mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.`stock_id` = 1 AND `owned_stocks`.`portfolio_id` = 1) LIMIT 1[0m
  [4;35;1mSQL (7.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_2', '2010-03-10 23:11:20', '2010-03-10 23:11:20')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 48) [0m
  [4;36;1mPortfolio Create (0.4ms)[0m   [0;1mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 23:11:20', '2010-03-10 23:11:20', 48)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_3', '2010-03-10 23:11:20', '2010-03-10 23:11:20')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 49) [0m
  [4;35;1mPortfolio Create (0.5ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 23:11:20', '2010-03-10 23:11:20', 49)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_4', '2010-03-10 23:11:20', '2010-03-10 23:11:20')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 50) [0m
  [4;36;1mPortfolio Create (0.4ms)[0m   [0;1mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 23:11:20', '2010-03-10 23:11:20', 50)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'Dani' AND `users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mPortfolio Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `portfolios`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `stocks`[0m
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Load (0.0ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'TEVA') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_1', '2010-03-10 23:17:03', '2010-03-10 23:17:03')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 51) [0m
  [4;35;1mPortfolio Create (0.1ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 23:17:03', '2010-03-10 23:17:03', 51)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
REQUESTING PAGE: GET /portfolios/1 with {} and HTTP headers {}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 18:17:03) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.3ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.2ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
Completed in 94ms (View: 9, DB: 4) | 200 OK [http://www.example.com/portfolios/1]
REQUESTING PAGE: GET /transactions/new?portfolio_id=1&type=BUY with {} and HTTP headers {"HTTP_REFERER"=>"/portfolios/1"}


Processing TransactionsController#new (for 127.0.0.1 at 2010-03-10 18:17:03) [GET]
  Parameters: {"type"=>"BUY", "portfolio_id"=>"1"}
  [4;36;1mTransaction Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `transactions`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/transactions
Rendering transactions/new
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` [0m
Rendered transactions/_buy_transaction (26.6ms)
Completed in 35ms (View: 29, DB: 1) | 200 OK [http://www.example.com/transactions/new?portfolio_id=1&type=BUY]
REQUESTING PAGE: POST /transactions with {"commit"=>"Add purchase details", "transaction"=>{"comission"=>"10", "shares"=>"100", "price"=>"80", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"10", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}} and HTTP headers {"HTTP_REFERER"=>"/transactions/new?portfolio_id=1&type=BUY"}


Processing TransactionsController#create (for 127.0.0.1 at 2010-03-10 18:17:03) [POST]
  Parameters: {"commit"=>"Add purchase details", "transaction"=>{"price"=>"80", "shares"=>"100", "comission"=>"10", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"10", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}}
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTransaction Create (0.3ms)[0m   [0;1mINSERT INTO `transactions` (`comission`, `shares`, `price`, `created_at`, `updated_at`, `date`, `stock_id`, `portfolio_id`) VALUES(10.0, 100, 80.0, '2010-03-10 23:17:03', '2010-03-10 23:17:03', '2010-03-10', 1, 1)[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mOwnedStock Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `owned_stocks`[0m
  [4;35;1mOwnedStock Create (0.3ms)[0m   [0mINSERT INTO `owned_stocks` (`shares`, `created_at`, `updated_at`, `stock_id`, `portfolio_id`) VALUES(100, '2010-03-10 23:17:03', '2010-03-10 23:17:03', 1, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/portfolios/1
Completed in 16ms (DB: 2) | 302 Found [http://www.example.com/transactions]
REQUESTING PAGE: GET http://www.example.com/portfolios/1 with {} and HTTP headers {"HTTP_REFERER"=>"/transactions"}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 18:17:03) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
Rendered owned_stocks/_owned_stock (1.6ms)
Completed in 7ms (View: 6, DB: 1) | 200 OK [http://www.example.com/portfolios/1]
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') LIMIT 1[0m
  [4;36;1mOwnedStock Load (0.2ms)[0m   [0;1mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.`stock_id` = 1 AND `owned_stocks`.`portfolio_id` = 1) LIMIT 1[0m
  [4;35;1mSQL (4.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_2', '2010-03-10 23:17:05', '2010-03-10 23:17:05')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 52) [0m
  [4;36;1mPortfolio Create (0.3ms)[0m   [0;1mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 23:17:05', '2010-03-10 23:17:05', 52)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_3', '2010-03-10 23:17:05', '2010-03-10 23:17:05')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 53) [0m
  [4;35;1mPortfolio Create (0.3ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 23:17:05', '2010-03-10 23:17:05', 53)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (6.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_4', '2010-03-10 23:17:05', '2010-03-10 23:17:05')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 54) [0m
  [4;36;1mPortfolio Create (0.3ms)[0m   [0;1mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 23:17:05', '2010-03-10 23:17:05', 54)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'Dani' AND `users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mPortfolio Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `portfolios`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `stocks`[0m
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Load (0.0ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'TEVA') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_1', '2010-03-10 23:18:08', '2010-03-10 23:18:08')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 55) [0m
  [4;35;1mPortfolio Create (0.1ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 23:18:08', '2010-03-10 23:18:08', 55)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
REQUESTING PAGE: GET /portfolios/1 with {} and HTTP headers {}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 18:18:08) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.3ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.2ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
Completed in 14ms (View: 9, DB: 4) | 200 OK [http://www.example.com/portfolios/1]
REQUESTING PAGE: GET /transactions/new?portfolio_id=1&type=BUY with {} and HTTP headers {"HTTP_REFERER"=>"/portfolios/1"}


Processing TransactionsController#new (for 127.0.0.1 at 2010-03-10 18:18:08) [GET]
  Parameters: {"type"=>"BUY", "portfolio_id"=>"1"}
  [4;36;1mTransaction Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `transactions`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/transactions
Rendering transactions/new
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` [0m
Rendered transactions/_buy_transaction (26.2ms)
Completed in 35ms (View: 29, DB: 1) | 200 OK [http://www.example.com/transactions/new?portfolio_id=1&type=BUY]
REQUESTING PAGE: POST /transactions with {"commit"=>"Add purchase details", "transaction"=>{"comission"=>"10", "shares"=>"100", "price"=>"80", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"10", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}} and HTTP headers {"HTTP_REFERER"=>"/transactions/new?portfolio_id=1&type=BUY"}


Processing TransactionsController#create (for 127.0.0.1 at 2010-03-10 18:18:08) [POST]
  Parameters: {"commit"=>"Add purchase details", "transaction"=>{"price"=>"80", "shares"=>"100", "comission"=>"10", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"10", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}}
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTransaction Create (0.2ms)[0m   [0;1mINSERT INTO `transactions` (`comission`, `shares`, `price`, `created_at`, `updated_at`, `date`, `stock_id`, `portfolio_id`) VALUES(10.0, 100, 80.0, '2010-03-10 23:18:08', '2010-03-10 23:18:08', '2010-03-10', 1, 1)[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mOwnedStock Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `owned_stocks`[0m
  [4;35;1mOwnedStock Create (0.2ms)[0m   [0mINSERT INTO `owned_stocks` (`shares`, `created_at`, `updated_at`, `stock_id`, `portfolio_id`) VALUES(100, '2010-03-10 23:18:08', '2010-03-10 23:18:08', 1, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/portfolios/1
Completed in 16ms (DB: 2) | 302 Found [http://www.example.com/transactions]
REQUESTING PAGE: GET http://www.example.com/portfolios/1 with {} and HTTP headers {"HTTP_REFERER"=>"/transactions"}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 18:18:08) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
Rendered owned_stocks/_owned_stock (1.7ms)
Completed in 7ms (View: 6, DB: 1) | 200 OK [http://www.example.com/portfolios/1]
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') LIMIT 1[0m
  [4;36;1mOwnedStock Load (0.2ms)[0m   [0;1mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.`stock_id` = 1 AND `owned_stocks`.`portfolio_id` = 1) LIMIT 1[0m
  [4;35;1mSQL (5.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_2', '2010-03-10 23:18:08', '2010-03-10 23:18:08')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 56) [0m
  [4;36;1mPortfolio Create (0.1ms)[0m   [0;1mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 23:18:08', '2010-03-10 23:18:08', 56)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_3', '2010-03-10 23:18:08', '2010-03-10 23:18:08')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 57) [0m
  [4;35;1mPortfolio Create (0.2ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 23:18:08', '2010-03-10 23:18:08', 57)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_4', '2010-03-10 23:18:08', '2010-03-10 23:18:08')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 58) [0m
  [4;36;1mPortfolio Create (0.2ms)[0m   [0;1mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 23:18:08', '2010-03-10 23:18:08', 58)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'Dani' AND `users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`, `id`) VALUES('Dani', '2010-03-10 23:18:31', '2010-03-10 23:18:31', 1)[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPortfolio Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `portfolios`[0m
  [4;36;1mPortfolio Load (0.2ms)[0m   [0;1mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mPortfolio Create (0.1ms)[0m   [0;1mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `id`, `user_id`) VALUES('A', '2010-03-10 23:18:31', '2010-03-10 23:18:31', 1, 1)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `stocks`[0m
  [4;35;1mStock Load (0.2ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStock Create (0.2ms)[0m   [0mINSERT INTO `stocks` (`name`, `created_at`, `updated_at`, `ticker`) VALUES('Berkshire Hathaway', '2010-03-10 23:18:31', '2010-03-10 23:18:31', 'BRK')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mStock Load (0.2ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'TEVA') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStock Create (0.1ms)[0m   [0mINSERT INTO `stocks` (`name`, `created_at`, `updated_at`, `ticker`) VALUES('Teva Pharmasutical industries.', '2010-03-10 23:18:31', '2010-03-10 23:18:31', 'TEVA')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_1', '2010-03-10 23:18:32', '2010-03-10 23:18:32')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 2) [0m
  [4;35;1mPortfolio Create (0.1ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 23:18:32', '2010-03-10 23:18:32', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
REQUESTING PAGE: GET /portfolios/1 with {} and HTTP headers {}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 18:18:32) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.3ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.3ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
Completed in 14ms (View: 9, DB: 7) | 200 OK [http://www.example.com/portfolios/1]
REQUESTING PAGE: GET /transactions/new?portfolio_id=1&type=BUY with {} and HTTP headers {"HTTP_REFERER"=>"/portfolios/1"}


Processing TransactionsController#new (for 127.0.0.1 at 2010-03-10 18:18:32) [GET]
  Parameters: {"type"=>"BUY", "portfolio_id"=>"1"}
  [4;36;1mTransaction Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `transactions`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/transactions
Rendering transactions/new
  [4;36;1mStock Load (0.2ms)[0m   [0;1mSELECT * FROM `stocks` [0m
Rendered transactions/_buy_transaction (25.7ms)
Completed in 38ms (View: 28, DB: 1) | 200 OK [http://www.example.com/transactions/new?portfolio_id=1&type=BUY]
REQUESTING PAGE: POST /transactions with {"commit"=>"Add purchase details", "transaction"=>{"comission"=>"10", "shares"=>"100", "price"=>"80", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"10", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}} and HTTP headers {"HTTP_REFERER"=>"/transactions/new?portfolio_id=1&type=BUY"}


Processing TransactionsController#create (for 127.0.0.1 at 2010-03-10 18:18:32) [POST]
  Parameters: {"commit"=>"Add purchase details", "transaction"=>{"price"=>"80", "shares"=>"100", "comission"=>"10", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"10", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}}
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTransaction Create (0.3ms)[0m   [0;1mINSERT INTO `transactions` (`comission`, `shares`, `price`, `created_at`, `updated_at`, `date`, `stock_id`, `portfolio_id`) VALUES(10.0, 100, 80.0, '2010-03-10 23:18:32', '2010-03-10 23:18:32', '2010-03-10', 1, 1)[0m
  [4;35;1mPortfolio Load (0.3ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mStock Load (0.2ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mOwnedStock Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `owned_stocks`[0m
  [4;35;1mOwnedStock Create (0.2ms)[0m   [0mINSERT INTO `owned_stocks` (`shares`, `created_at`, `updated_at`, `stock_id`, `portfolio_id`) VALUES(100, '2010-03-10 23:18:32', '2010-03-10 23:18:32', 1, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/portfolios/1
Completed in 16ms (DB: 2) | 302 Found [http://www.example.com/transactions]
REQUESTING PAGE: GET http://www.example.com/portfolios/1 with {} and HTTP headers {"HTTP_REFERER"=>"/transactions"}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 18:18:32) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.3ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.3ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
Rendered owned_stocks/_owned_stock (1.8ms)
Completed in 8ms (View: 6, DB: 1) | 200 OK [http://www.example.com/portfolios/1]
  [4;35;1mStock Load (0.5ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') LIMIT 1[0m
  [4;36;1mOwnedStock Load (0.2ms)[0m   [0;1mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.`stock_id` = 1 AND `owned_stocks`.`portfolio_id` = 1) LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_2', '2010-03-10 23:18:32', '2010-03-10 23:18:32')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 3) [0m
  [4;36;1mPortfolio Create (0.1ms)[0m   [0;1mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 23:18:32', '2010-03-10 23:18:32', 3)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_3', '2010-03-10 23:18:32', '2010-03-10 23:18:32')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 4) [0m
  [4;35;1mPortfolio Create (0.2ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 23:18:32', '2010-03-10 23:18:32', 4)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_4', '2010-03-10 23:18:32', '2010-03-10 23:18:32')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 5) [0m
  [4;36;1mPortfolio Create (0.1ms)[0m   [0;1mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 23:18:32', '2010-03-10 23:18:32', 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'Dani' AND `users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mPortfolio Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `portfolios`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `stocks`[0m
  [4;35;1mStock Load (0.2ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Load (0.2ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'TEVA') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_1', '2010-03-10 23:19:25', '2010-03-10 23:19:25')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 6) [0m
  [4;35;1mPortfolio Create (0.1ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 23:19:25', '2010-03-10 23:19:25', 6)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
REQUESTING PAGE: GET /portfolios/1 with {} and HTTP headers {}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 18:19:25) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.3ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.2ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
Completed in 13ms (View: 9, DB: 4) | 200 OK [http://www.example.com/portfolios/1]
REQUESTING PAGE: GET /transactions/new?portfolio_id=1&type=BUY with {} and HTTP headers {"HTTP_REFERER"=>"/portfolios/1"}


Processing TransactionsController#new (for 127.0.0.1 at 2010-03-10 18:19:25) [GET]
  Parameters: {"type"=>"BUY", "portfolio_id"=>"1"}
  [4;36;1mTransaction Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `transactions`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/transactions
Rendering transactions/new
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` [0m
Rendered transactions/_buy_transaction (25.8ms)
Completed in 34ms (View: 29, DB: 1) | 200 OK [http://www.example.com/transactions/new?portfolio_id=1&type=BUY]
REQUESTING PAGE: POST /transactions with {"commit"=>"Add purchase details", "transaction"=>{"comission"=>"10", "shares"=>"100", "price"=>"80", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"10", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}} and HTTP headers {"HTTP_REFERER"=>"/transactions/new?portfolio_id=1&type=BUY"}


Processing TransactionsController#create (for 127.0.0.1 at 2010-03-10 18:19:25) [POST]
  Parameters: {"commit"=>"Add purchase details", "transaction"=>{"price"=>"80", "shares"=>"100", "comission"=>"10", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"10", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}}
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTransaction Create (0.2ms)[0m   [0;1mINSERT INTO `transactions` (`comission`, `shares`, `price`, `created_at`, `updated_at`, `date`, `stock_id`, `portfolio_id`) VALUES(10.0, 100, 80.0, '2010-03-10 23:19:25', '2010-03-10 23:19:25', '2010-03-10', 1, 1)[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mOwnedStock Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `owned_stocks`[0m
  [4;35;1mOwnedStock Create (0.2ms)[0m   [0mINSERT INTO `owned_stocks` (`shares`, `created_at`, `updated_at`, `stock_id`, `portfolio_id`) VALUES(100, '2010-03-10 23:19:25', '2010-03-10 23:19:25', 1, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/portfolios/1
Completed in 16ms (DB: 1) | 302 Found [http://www.example.com/transactions]
REQUESTING PAGE: GET http://www.example.com/portfolios/1 with {} and HTTP headers {"HTTP_REFERER"=>"/transactions"}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 18:19:25) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
Rendered owned_stocks/_owned_stock (1.7ms)
Completed in 7ms (View: 6, DB: 1) | 200 OK [http://www.example.com/portfolios/1]
  [4;35;1mSQL (2.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_2', '2010-03-10 23:19:26', '2010-03-10 23:19:26')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 7) [0m
  [4;36;1mPortfolio Create (0.1ms)[0m   [0;1mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 23:19:26', '2010-03-10 23:19:26', 7)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_3', '2010-03-10 23:19:26', '2010-03-10 23:19:26')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 8) [0m
  [4;35;1mPortfolio Create (0.1ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 23:19:26', '2010-03-10 23:19:26', 8)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_4', '2010-03-10 23:19:26', '2010-03-10 23:19:26')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 9) [0m
  [4;36;1mPortfolio Create (0.1ms)[0m   [0;1mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 23:19:26', '2010-03-10 23:19:26', 9)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'Dani' AND `users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mPortfolio Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `portfolios`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `stocks`[0m
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Load (0.0ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'TEVA') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_1', '2010-03-10 23:19:48', '2010-03-10 23:19:48')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 10) [0m
  [4;35;1mPortfolio Create (0.1ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 23:19:48', '2010-03-10 23:19:48', 10)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
REQUESTING PAGE: GET /portfolios/1 with {} and HTTP headers {}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 18:19:48) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.2ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
Completed in 13ms (View: 9, DB: 4) | 200 OK [http://www.example.com/portfolios/1]
REQUESTING PAGE: GET /transactions/new?portfolio_id=1&type=BUY with {} and HTTP headers {"HTTP_REFERER"=>"/portfolios/1"}


Processing TransactionsController#new (for 127.0.0.1 at 2010-03-10 18:19:48) [GET]
  Parameters: {"type"=>"BUY", "portfolio_id"=>"1"}
  [4;36;1mTransaction Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `transactions`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/transactions
Rendering transactions/new
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` [0m
Rendered transactions/_buy_transaction (25.7ms)
Completed in 34ms (View: 29, DB: 1) | 200 OK [http://www.example.com/transactions/new?portfolio_id=1&type=BUY]
REQUESTING PAGE: POST /transactions with {"commit"=>"Add purchase details", "transaction"=>{"comission"=>"10", "shares"=>"100", "price"=>"80", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"10", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}} and HTTP headers {"HTTP_REFERER"=>"/transactions/new?portfolio_id=1&type=BUY"}


Processing TransactionsController#create (for 127.0.0.1 at 2010-03-10 18:19:48) [POST]
  Parameters: {"commit"=>"Add purchase details", "transaction"=>{"price"=>"80", "shares"=>"100", "comission"=>"10", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"10", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}}
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTransaction Create (0.3ms)[0m   [0;1mINSERT INTO `transactions` (`comission`, `shares`, `price`, `created_at`, `updated_at`, `date`, `stock_id`, `portfolio_id`) VALUES(10.0, 100, 80.0, '2010-03-10 23:19:48', '2010-03-10 23:19:48', '2010-03-10', 1, 1)[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mOwnedStock Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `owned_stocks`[0m
  [4;35;1mOwnedStock Create (0.2ms)[0m   [0mINSERT INTO `owned_stocks` (`shares`, `created_at`, `updated_at`, `stock_id`, `portfolio_id`) VALUES(100, '2010-03-10 23:19:48', '2010-03-10 23:19:48', 1, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/portfolios/1
Completed in 16ms (DB: 2) | 302 Found [http://www.example.com/transactions]
REQUESTING PAGE: GET http://www.example.com/portfolios/1 with {} and HTTP headers {"HTTP_REFERER"=>"/transactions"}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 18:19:48) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
Rendered owned_stocks/_owned_stock (1.7ms)
Completed in 7ms (View: 6, DB: 1) | 200 OK [http://www.example.com/portfolios/1]
  [4;35;1mSQL (4.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_2', '2010-03-10 23:19:48', '2010-03-10 23:19:48')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 11) [0m
  [4;36;1mPortfolio Create (0.1ms)[0m   [0;1mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 23:19:48', '2010-03-10 23:19:48', 11)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_3', '2010-03-10 23:19:48', '2010-03-10 23:19:48')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 12) [0m
  [4;35;1mPortfolio Create (0.1ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 23:19:48', '2010-03-10 23:19:48', 12)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_4', '2010-03-10 23:19:48', '2010-03-10 23:19:48')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 13) [0m
  [4;36;1mPortfolio Create (0.2ms)[0m   [0;1mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 23:19:48', '2010-03-10 23:19:48', 13)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'Dani' AND `users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mPortfolio Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `portfolios`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `stocks`[0m
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'TEVA') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_1', '2010-03-10 23:21:16', '2010-03-10 23:21:16')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 14) [0m
  [4;35;1mPortfolio Create (0.1ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 23:21:16', '2010-03-10 23:21:16', 14)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
REQUESTING PAGE: GET /portfolios/1 with {} and HTTP headers {}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 18:21:16) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.3ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.2ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
Completed in 94ms (View: 9, DB: 4) | 200 OK [http://www.example.com/portfolios/1]
REQUESTING PAGE: GET /transactions/new?portfolio_id=1&type=BUY with {} and HTTP headers {"HTTP_REFERER"=>"/portfolios/1"}


Processing TransactionsController#new (for 127.0.0.1 at 2010-03-10 18:21:16) [GET]
  Parameters: {"type"=>"BUY", "portfolio_id"=>"1"}
  [4;36;1mTransaction Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `transactions`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/transactions
Rendering transactions/new
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` [0m
Rendered transactions/_buy_transaction (29.6ms)
Completed in 38ms (View: 33, DB: 1) | 200 OK [http://www.example.com/transactions/new?portfolio_id=1&type=BUY]
REQUESTING PAGE: POST /transactions with {"commit"=>"Add purchase details", "transaction"=>{"comission"=>"10", "shares"=>"100", "price"=>"80", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"10", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}} and HTTP headers {"HTTP_REFERER"=>"/transactions/new?portfolio_id=1&type=BUY"}


Processing TransactionsController#create (for 127.0.0.1 at 2010-03-10 18:21:17) [POST]
  Parameters: {"commit"=>"Add purchase details", "transaction"=>{"price"=>"80", "shares"=>"100", "comission"=>"10", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"10", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}}
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTransaction Create (0.2ms)[0m   [0;1mINSERT INTO `transactions` (`comission`, `shares`, `price`, `created_at`, `updated_at`, `date`, `stock_id`, `portfolio_id`) VALUES(10.0, 100, 80.0, '2010-03-10 23:21:17', '2010-03-10 23:21:17', '2010-03-10', 1, 1)[0m
  [4;35;1mPortfolio Load (0.3ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mOwnedStock Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `owned_stocks`[0m
  [4;35;1mOwnedStock Create (0.2ms)[0m   [0mINSERT INTO `owned_stocks` (`shares`, `created_at`, `updated_at`, `stock_id`, `portfolio_id`) VALUES(100, '2010-03-10 23:21:17', '2010-03-10 23:21:17', 1, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/portfolios/1
Completed in 16ms (DB: 2) | 302 Found [http://www.example.com/transactions]
REQUESTING PAGE: GET http://www.example.com/portfolios/1 with {} and HTTP headers {"HTTP_REFERER"=>"/transactions"}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 18:21:17) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
Rendered owned_stocks/_owned_stock (1.7ms)
Completed in 7ms (View: 6, DB: 1) | 200 OK [http://www.example.com/portfolios/1]
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') LIMIT 1[0m
  [4;36;1mOwnedStock Load (0.2ms)[0m   [0;1mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.`stock_id` = 1 AND `owned_stocks`.`portfolio_id` = 1) LIMIT 1[0m
  [4;35;1mSQL (5.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_2', '2010-03-10 23:21:17', '2010-03-10 23:21:17')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 15) [0m
  [4;36;1mPortfolio Create (0.1ms)[0m   [0;1mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 23:21:17', '2010-03-10 23:21:17', 15)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (5.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_3', '2010-03-10 23:21:17', '2010-03-10 23:21:17')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 16) [0m
  [4;35;1mPortfolio Create (0.1ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 23:21:17', '2010-03-10 23:21:17', 16)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_4', '2010-03-10 23:21:17', '2010-03-10 23:21:17')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 17) [0m
  [4;36;1mPortfolio Create (0.1ms)[0m   [0;1mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 23:21:17', '2010-03-10 23:21:17', 17)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (2.8ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'Dani' AND `users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mPortfolio Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `portfolios`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `stocks`[0m
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'TEVA') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_1', '2010-03-10 23:21:34', '2010-03-10 23:21:34')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 18) [0m
  [4;35;1mPortfolio Create (0.1ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 23:21:34', '2010-03-10 23:21:34', 18)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
REQUESTING PAGE: GET /portfolios/1 with {} and HTTP headers {}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 18:21:34) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.3ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.2ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
Completed in 94ms (View: 9, DB: 4) | 200 OK [http://www.example.com/portfolios/1]
REQUESTING PAGE: GET /transactions/new?portfolio_id=1&type=BUY with {} and HTTP headers {"HTTP_REFERER"=>"/portfolios/1"}


Processing TransactionsController#new (for 127.0.0.1 at 2010-03-10 18:21:34) [GET]
  Parameters: {"type"=>"BUY", "portfolio_id"=>"1"}
  [4;36;1mTransaction Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `transactions`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/transactions
Rendering transactions/new
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` [0m
Rendered transactions/_buy_transaction (26.0ms)
Completed in 35ms (View: 29, DB: 1) | 200 OK [http://www.example.com/transactions/new?portfolio_id=1&type=BUY]
REQUESTING PAGE: POST /transactions with {"commit"=>"Add purchase details", "transaction"=>{"comission"=>"10", "shares"=>"100", "price"=>"80", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"10", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}} and HTTP headers {"HTTP_REFERER"=>"/transactions/new?portfolio_id=1&type=BUY"}


Processing TransactionsController#create (for 127.0.0.1 at 2010-03-10 18:21:35) [POST]
  Parameters: {"commit"=>"Add purchase details", "transaction"=>{"price"=>"80", "shares"=>"100", "comission"=>"10", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"10", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}}
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTransaction Create (0.2ms)[0m   [0;1mINSERT INTO `transactions` (`comission`, `shares`, `price`, `created_at`, `updated_at`, `date`, `stock_id`, `portfolio_id`) VALUES(10.0, 100, 80.0, '2010-03-10 23:21:35', '2010-03-10 23:21:35', '2010-03-10', 1, 1)[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mOwnedStock Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `owned_stocks`[0m
  [4;35;1mOwnedStock Create (0.2ms)[0m   [0mINSERT INTO `owned_stocks` (`shares`, `created_at`, `updated_at`, `stock_id`, `portfolio_id`) VALUES(100, '2010-03-10 23:21:35', '2010-03-10 23:21:35', 1, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/portfolios/1
Completed in 16ms (DB: 1) | 302 Found [http://www.example.com/transactions]
REQUESTING PAGE: GET http://www.example.com/portfolios/1 with {} and HTTP headers {"HTTP_REFERER"=>"/transactions"}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 18:21:35) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
Rendered owned_stocks/_owned_stock (1.7ms)
Completed in 7ms (View: 6, DB: 1) | 200 OK [http://www.example.com/portfolios/1]
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') LIMIT 1[0m
  [4;36;1mOwnedStock Load (0.2ms)[0m   [0;1mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.`stock_id` = 1 AND `owned_stocks`.`portfolio_id` = 1) LIMIT 1[0m
  [4;35;1mSQL (3.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_2', '2010-03-10 23:21:35', '2010-03-10 23:21:35')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 19) [0m
  [4;36;1mPortfolio Create (0.1ms)[0m   [0;1mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 23:21:35', '2010-03-10 23:21:35', 19)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_3', '2010-03-10 23:21:35', '2010-03-10 23:21:35')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 20) [0m
  [4;35;1mPortfolio Create (0.2ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 23:21:35', '2010-03-10 23:21:35', 20)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_4', '2010-03-10 23:21:35', '2010-03-10 23:21:35')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 21) [0m
  [4;36;1mPortfolio Create (0.1ms)[0m   [0;1mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 23:21:35', '2010-03-10 23:21:35', 21)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'Dani' AND `users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mPortfolio Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `portfolios`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `stocks`[0m
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'TEVA') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_1', '2010-03-10 23:22:09', '2010-03-10 23:22:09')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 22) [0m
  [4;35;1mPortfolio Create (0.1ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 23:22:09', '2010-03-10 23:22:09', 22)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
REQUESTING PAGE: GET /portfolios/1 with {} and HTTP headers {}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 18:22:09) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.3ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.2ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
Completed in 14ms (View: 9, DB: 4) | 200 OK [http://www.example.com/portfolios/1]
REQUESTING PAGE: GET /transactions/new?portfolio_id=1&type=BUY with {} and HTTP headers {"HTTP_REFERER"=>"/portfolios/1"}


Processing TransactionsController#new (for 127.0.0.1 at 2010-03-10 18:22:09) [GET]
  Parameters: {"type"=>"BUY", "portfolio_id"=>"1"}
  [4;36;1mTransaction Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `transactions`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/transactions
Rendering transactions/new
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` [0m
Rendered transactions/_buy_transaction (26.4ms)
Completed in 35ms (View: 29, DB: 1) | 200 OK [http://www.example.com/transactions/new?portfolio_id=1&type=BUY]
REQUESTING PAGE: POST /transactions with {"commit"=>"Add purchase details", "transaction"=>{"comission"=>"10", "shares"=>"100", "price"=>"80", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"10", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}} and HTTP headers {"HTTP_REFERER"=>"/transactions/new?portfolio_id=1&type=BUY"}


Processing TransactionsController#create (for 127.0.0.1 at 2010-03-10 18:22:09) [POST]
  Parameters: {"commit"=>"Add purchase details", "transaction"=>{"price"=>"80", "shares"=>"100", "comission"=>"10", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"10", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}}
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTransaction Create (0.5ms)[0m   [0;1mINSERT INTO `transactions` (`comission`, `shares`, `price`, `created_at`, `updated_at`, `date`, `stock_id`, `portfolio_id`) VALUES(10.0, 100, 80.0, '2010-03-10 23:22:09', '2010-03-10 23:22:09', '2010-03-10', 1, 1)[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mOwnedStock Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `owned_stocks`[0m
  [4;35;1mOwnedStock Create (0.3ms)[0m   [0mINSERT INTO `owned_stocks` (`shares`, `created_at`, `updated_at`, `stock_id`, `portfolio_id`) VALUES(100, '2010-03-10 23:22:09', '2010-03-10 23:22:09', 1, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/portfolios/1
Completed in 16ms (DB: 2) | 302 Found [http://www.example.com/transactions]
REQUESTING PAGE: GET http://www.example.com/portfolios/1 with {} and HTTP headers {"HTTP_REFERER"=>"/transactions"}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 18:22:09) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
Rendered owned_stocks/_owned_stock (1.6ms)
Completed in 7ms (View: 6, DB: 1) | 200 OK [http://www.example.com/portfolios/1]
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') LIMIT 1[0m
  [4;36;1mOwnedStock Load (0.2ms)[0m   [0;1mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.`stock_id` = 1 AND `owned_stocks`.`portfolio_id` = 1) LIMIT 1[0m
  [4;35;1mSQL (5.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_2', '2010-03-10 23:22:09', '2010-03-10 23:22:09')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 23) [0m
  [4;36;1mPortfolio Create (0.1ms)[0m   [0;1mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 23:22:09', '2010-03-10 23:22:09', 23)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_3', '2010-03-10 23:22:09', '2010-03-10 23:22:09')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 24) [0m
  [4;35;1mPortfolio Create (0.2ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 23:22:09', '2010-03-10 23:22:09', 24)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_4', '2010-03-10 23:22:09', '2010-03-10 23:22:09')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 25) [0m
  [4;36;1mPortfolio Create (0.1ms)[0m   [0;1mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 23:22:09', '2010-03-10 23:22:09', 25)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'Dani' AND `users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mPortfolio Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `portfolios`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `stocks`[0m
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Load (0.0ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'TEVA') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_1', '2010-03-10 23:29:09', '2010-03-10 23:29:09')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 26) [0m
  [4;35;1mPortfolio Create (0.1ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 23:29:09', '2010-03-10 23:29:09', 26)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
REQUESTING PAGE: GET /portfolios/1 with {} and HTTP headers {}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 18:29:09) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.3ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.2ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
Completed in 101ms (View: 9, DB: 4) | 200 OK [http://www.example.com/portfolios/1]
REQUESTING PAGE: GET /transactions/new?portfolio_id=1&type=BUY with {} and HTTP headers {"HTTP_REFERER"=>"/portfolios/1"}


Processing TransactionsController#new (for 127.0.0.1 at 2010-03-10 18:29:09) [GET]
  Parameters: {"type"=>"BUY", "portfolio_id"=>"1"}
  [4;36;1mTransaction Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `transactions`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/transactions
Rendering transactions/new
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` [0m
Rendered transactions/_buy_transaction (26.5ms)
Completed in 35ms (View: 30, DB: 1) | 200 OK [http://www.example.com/transactions/new?portfolio_id=1&type=BUY]
REQUESTING PAGE: POST /transactions with {"commit"=>"Add purchase details", "transaction"=>{"comission"=>"10", "shares"=>"100", "price"=>"80", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"10", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}} and HTTP headers {"HTTP_REFERER"=>"/transactions/new?portfolio_id=1&type=BUY"}


Processing TransactionsController#create (for 127.0.0.1 at 2010-03-10 18:29:09) [POST]
  Parameters: {"commit"=>"Add purchase details", "transaction"=>{"price"=>"80", "shares"=>"100", "comission"=>"10", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"10", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}}
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTransaction Create (0.4ms)[0m   [0;1mINSERT INTO `transactions` (`comission`, `shares`, `price`, `created_at`, `updated_at`, `date`, `stock_id`, `portfolio_id`) VALUES(10.0, 100, 80.0, '2010-03-10 23:29:09', '2010-03-10 23:29:09', '2010-03-10', 1, 1)[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mOwnedStock Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `owned_stocks`[0m
  [4;35;1mOwnedStock Create (0.2ms)[0m   [0mINSERT INTO `owned_stocks` (`shares`, `created_at`, `updated_at`, `stock_id`, `portfolio_id`) VALUES(100, '2010-03-10 23:29:09', '2010-03-10 23:29:09', 1, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/portfolios/1
Completed in 17ms (DB: 2) | 302 Found [http://www.example.com/transactions]
REQUESTING PAGE: GET http://www.example.com/portfolios/1 with {} and HTTP headers {"HTTP_REFERER"=>"/transactions"}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 18:29:09) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
Rendered owned_stocks/_owned_stock (1.7ms)
Completed in 7ms (View: 5, DB: 1) | 200 OK [http://www.example.com/portfolios/1]
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') LIMIT 1[0m
  [4;36;1mOwnedStock Load (0.2ms)[0m   [0;1mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.`stock_id` = 1 AND `owned_stocks`.`portfolio_id` = 1) LIMIT 1[0m
  [4;35;1mSQL (1.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_2', '2010-03-10 23:29:09', '2010-03-10 23:29:09')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 27) [0m
  [4;36;1mPortfolio Create (0.1ms)[0m   [0;1mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 23:29:09', '2010-03-10 23:29:09', 27)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_3', '2010-03-10 23:29:09', '2010-03-10 23:29:09')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 28) [0m
  [4;35;1mPortfolio Create (0.2ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 23:29:09', '2010-03-10 23:29:09', 28)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_4', '2010-03-10 23:29:09', '2010-03-10 23:29:09')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 29) [0m
  [4;36;1mPortfolio Create (0.2ms)[0m   [0;1mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-10 23:29:09', '2010-03-10 23:29:09', 29)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'Dani' AND `users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mPortfolio Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `portfolios`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `stocks`[0m
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'TEVA') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_1', '2010-03-11 02:34:21', '2010-03-11 02:34:21')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 30) [0m
  [4;35;1mPortfolio Create (0.1ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-11 02:34:21', '2010-03-11 02:34:21', 30)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
REQUESTING PAGE: GET /portfolios/1 with {} and HTTP headers {}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 21:34:21) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.3ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.2ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
Completed in 102ms (View: 10, DB: 4) | 200 OK [http://www.example.com/portfolios/1]
REQUESTING PAGE: GET /transactions/new?portfolio_id=1&type=BUY with {} and HTTP headers {"HTTP_REFERER"=>"/portfolios/1"}


Processing TransactionsController#new (for 127.0.0.1 at 2010-03-10 21:34:21) [GET]
  Parameters: {"type"=>"BUY", "portfolio_id"=>"1"}
  [4;36;1mTransaction Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `transactions`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/transactions
Rendering transactions/new
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` [0m
Rendered transactions/_buy_transaction (26.8ms)
Completed in 36ms (View: 30, DB: 1) | 200 OK [http://www.example.com/transactions/new?portfolio_id=1&type=BUY]
REQUESTING PAGE: POST /transactions with {"commit"=>"Add purchase details", "transaction"=>{"comission"=>"10", "shares"=>"100", "price"=>"80", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"11", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}} and HTTP headers {"HTTP_REFERER"=>"/transactions/new?portfolio_id=1&type=BUY"}


Processing TransactionsController#create (for 127.0.0.1 at 2010-03-10 21:34:21) [POST]
  Parameters: {"commit"=>"Add purchase details", "transaction"=>{"price"=>"80", "shares"=>"100", "comission"=>"10", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"11", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}}
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTransaction Create (0.2ms)[0m   [0;1mINSERT INTO `transactions` (`comission`, `shares`, `price`, `created_at`, `updated_at`, `date`, `stock_id`, `portfolio_id`) VALUES(10.0, 100, 80.0, '2010-03-11 02:34:21', '2010-03-11 02:34:21', '2010-03-11', 1, 1)[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mOwnedStock Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `owned_stocks`[0m
  [4;35;1mOwnedStock Create (0.2ms)[0m   [0mINSERT INTO `owned_stocks` (`shares`, `created_at`, `updated_at`, `stock_id`, `portfolio_id`) VALUES(100, '2010-03-11 02:34:21', '2010-03-11 02:34:21', 1, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/portfolios/1
Completed in 16ms (DB: 2) | 302 Found [http://www.example.com/transactions]
REQUESTING PAGE: GET http://www.example.com/portfolios/1 with {} and HTTP headers {"HTTP_REFERER"=>"/transactions"}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 21:34:21) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
Rendered owned_stocks/_owned_stock (1.7ms)
Completed in 7ms (View: 6, DB: 1) | 200 OK [http://www.example.com/portfolios/1]
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') LIMIT 1[0m
  [4;36;1mOwnedStock Load (0.2ms)[0m   [0;1mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.`stock_id` = 1 AND `owned_stocks`.`portfolio_id` = 1) LIMIT 1[0m
  [4;35;1mSQL (3.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_2', '2010-03-11 02:34:21', '2010-03-11 02:34:21')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 31) [0m
  [4;36;1mPortfolio Create (0.2ms)[0m   [0;1mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-11 02:34:21', '2010-03-11 02:34:21', 31)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (4.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_3', '2010-03-11 02:34:21', '2010-03-11 02:34:21')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 32) [0m
  [4;35;1mPortfolio Create (0.1ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-11 02:34:21', '2010-03-11 02:34:21', 32)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_4', '2010-03-11 02:34:21', '2010-03-11 02:34:21')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 33) [0m
  [4;36;1mPortfolio Create (0.1ms)[0m   [0;1mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-11 02:34:21', '2010-03-11 02:34:21', 33)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'Dani' AND `users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mPortfolio Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `portfolios`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `stocks`[0m
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Load (0.0ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'TEVA') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_1', '2010-03-11 02:34:52', '2010-03-11 02:34:52')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 34) [0m
  [4;35;1mPortfolio Create (0.2ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-11 02:34:52', '2010-03-11 02:34:52', 34)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
REQUESTING PAGE: GET /portfolios/1 with {} and HTTP headers {}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 21:34:52) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.3ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.2ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
Completed in 18ms (View: 13, DB: 4) | 200 OK [http://www.example.com/portfolios/1]
REQUESTING PAGE: GET /transactions/new?portfolio_id=1&type=BUY with {} and HTTP headers {"HTTP_REFERER"=>"/portfolios/1"}


Processing TransactionsController#new (for 127.0.0.1 at 2010-03-10 21:34:52) [GET]
  Parameters: {"type"=>"BUY", "portfolio_id"=>"1"}
  [4;36;1mTransaction Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `transactions`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/transactions
Rendering transactions/new
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` [0m
Rendered transactions/_buy_transaction (26.5ms)
Completed in 35ms (View: 30, DB: 1) | 200 OK [http://www.example.com/transactions/new?portfolio_id=1&type=BUY]
REQUESTING PAGE: POST /transactions with {"commit"=>"Add purchase details", "transaction"=>{"comission"=>"10", "shares"=>"100", "price"=>"80", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"11", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}} and HTTP headers {"HTTP_REFERER"=>"/transactions/new?portfolio_id=1&type=BUY"}


Processing TransactionsController#create (for 127.0.0.1 at 2010-03-10 21:34:52) [POST]
  Parameters: {"commit"=>"Add purchase details", "transaction"=>{"price"=>"80", "shares"=>"100", "comission"=>"10", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"11", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}}
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTransaction Create (0.2ms)[0m   [0;1mINSERT INTO `transactions` (`comission`, `shares`, `price`, `created_at`, `updated_at`, `date`, `stock_id`, `portfolio_id`) VALUES(10.0, 100, 80.0, '2010-03-11 02:34:52', '2010-03-11 02:34:52', '2010-03-11', 1, 1)[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mOwnedStock Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `owned_stocks`[0m
  [4;35;1mOwnedStock Create (0.2ms)[0m   [0mINSERT INTO `owned_stocks` (`shares`, `created_at`, `updated_at`, `stock_id`, `portfolio_id`) VALUES(100, '2010-03-11 02:34:52', '2010-03-11 02:34:52', 1, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/portfolios/1
Completed in 16ms (DB: 2) | 302 Found [http://www.example.com/transactions]
REQUESTING PAGE: GET http://www.example.com/portfolios/1 with {} and HTTP headers {"HTTP_REFERER"=>"/transactions"}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 21:34:52) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.3ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
Rendered owned_stocks/_owned_stock (1.7ms)
Completed in 7ms (View: 6, DB: 1) | 200 OK [http://www.example.com/portfolios/1]
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') LIMIT 1[0m
  [4;36;1mOwnedStock Load (0.2ms)[0m   [0;1mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.`stock_id` = 1 AND `owned_stocks`.`portfolio_id` = 1) LIMIT 1[0m
  [4;35;1mSQL (5.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_2', '2010-03-11 02:34:52', '2010-03-11 02:34:52')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 35) [0m
  [4;36;1mPortfolio Create (0.1ms)[0m   [0;1mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-11 02:34:52', '2010-03-11 02:34:52', 35)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (4.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_3', '2010-03-11 02:34:52', '2010-03-11 02:34:52')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 36) [0m
  [4;35;1mPortfolio Create (0.2ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-11 02:34:52', '2010-03-11 02:34:52', 36)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_4', '2010-03-11 02:34:52', '2010-03-11 02:34:52')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 37) [0m
  [4;36;1mPortfolio Create (0.2ms)[0m   [0;1mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-11 02:34:52', '2010-03-11 02:34:52', 37)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'Dani' AND `users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mPortfolio Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `portfolios`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `stocks`[0m
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'TEVA') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_1', '2010-03-11 02:48:48', '2010-03-11 02:48:48')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 38) [0m
  [4;35;1mPortfolio Create (0.1ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-11 02:48:48', '2010-03-11 02:48:48', 38)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
REQUESTING PAGE: GET /portfolios/1 with {} and HTTP headers {}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 21:48:48) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (1.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.2ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
Completed in 93ms (View: 9, DB: 5) | 200 OK [http://www.example.com/portfolios/1]
REQUESTING PAGE: GET /transactions/new?portfolio_id=1&type=BUY with {} and HTTP headers {"HTTP_REFERER"=>"/portfolios/1"}


Processing TransactionsController#new (for 127.0.0.1 at 2010-03-10 21:48:48) [GET]
  Parameters: {"type"=>"BUY", "portfolio_id"=>"1"}
  [4;36;1mTransaction Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `transactions`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/transactions
Rendering transactions/new
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` [0m
Rendered transactions/_buy_transaction (25.4ms)
Completed in 34ms (View: 28, DB: 1) | 200 OK [http://www.example.com/transactions/new?portfolio_id=1&type=BUY]
REQUESTING PAGE: POST /transactions with {"commit"=>"Add purchase details", "transaction"=>{"comission"=>"10", "shares"=>"100", "price"=>"80", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"11", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}} and HTTP headers {"HTTP_REFERER"=>"/transactions/new?portfolio_id=1&type=BUY"}


Processing TransactionsController#create (for 127.0.0.1 at 2010-03-10 21:48:48) [POST]
  Parameters: {"commit"=>"Add purchase details", "transaction"=>{"price"=>"80", "shares"=>"100", "comission"=>"10", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"11", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}}
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTransaction Create (0.2ms)[0m   [0;1mINSERT INTO `transactions` (`comission`, `shares`, `price`, `created_at`, `updated_at`, `date`, `stock_id`, `portfolio_id`) VALUES(10.0, 100, 80.0, '2010-03-11 02:48:48', '2010-03-11 02:48:48', '2010-03-11', 1, 1)[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mOwnedStock Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `owned_stocks`[0m
  [4;35;1mOwnedStock Create (0.2ms)[0m   [0mINSERT INTO `owned_stocks` (`shares`, `created_at`, `updated_at`, `stock_id`, `portfolio_id`) VALUES(100, '2010-03-11 02:48:48', '2010-03-11 02:48:48', 1, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/portfolios/1
Completed in 15ms (DB: 1) | 302 Found [http://www.example.com/transactions]
REQUESTING PAGE: GET http://www.example.com/portfolios/1 with {} and HTTP headers {"HTTP_REFERER"=>"/transactions"}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 21:48:48) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
Rendered owned_stocks/_owned_stock (1.7ms)
Completed in 7ms (View: 6, DB: 1) | 200 OK [http://www.example.com/portfolios/1]
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') LIMIT 1[0m
  [4;36;1mOwnedStock Load (0.2ms)[0m   [0;1mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.`stock_id` = 1 AND `owned_stocks`.`portfolio_id` = 1) LIMIT 1[0m
  [4;35;1mSQL (3.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_2', '2010-03-11 02:48:48', '2010-03-11 02:48:48')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 39) [0m
  [4;36;1mPortfolio Create (0.1ms)[0m   [0;1mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-11 02:48:48', '2010-03-11 02:48:48', 39)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_3', '2010-03-11 02:48:48', '2010-03-11 02:48:48')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 40) [0m
  [4;35;1mPortfolio Create (0.1ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-11 02:48:48', '2010-03-11 02:48:48', 40)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_4', '2010-03-11 02:48:48', '2010-03-11 02:48:48')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 41) [0m
  [4;36;1mPortfolio Create (0.1ms)[0m   [0;1mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-11 02:48:48', '2010-03-11 02:48:48', 41)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'Dani' AND `users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mPortfolio Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `portfolios`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `stocks`[0m
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Load (0.0ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'TEVA') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_1', '2010-03-11 02:49:01', '2010-03-11 02:49:01')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 42) [0m
  [4;35;1mPortfolio Create (0.1ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-11 02:49:01', '2010-03-11 02:49:01', 42)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
REQUESTING PAGE: GET /portfolios/1 with {} and HTTP headers {}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 21:49:01) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.3ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.2ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
Completed in 98ms (View: 9, DB: 4) | 200 OK [http://www.example.com/portfolios/1]
REQUESTING PAGE: GET /transactions/new?portfolio_id=1&type=BUY with {} and HTTP headers {"HTTP_REFERER"=>"/portfolios/1"}


Processing TransactionsController#new (for 127.0.0.1 at 2010-03-10 21:49:01) [GET]
  Parameters: {"type"=>"BUY", "portfolio_id"=>"1"}
  [4;36;1mTransaction Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `transactions`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/transactions
Rendering transactions/new
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` [0m
Rendered transactions/_buy_transaction (26.7ms)
Completed in 36ms (View: 30, DB: 1) | 200 OK [http://www.example.com/transactions/new?portfolio_id=1&type=BUY]
REQUESTING PAGE: POST /transactions with {"commit"=>"Add purchase details", "transaction"=>{"comission"=>"10", "shares"=>"100", "price"=>"80", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"11", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}} and HTTP headers {"HTTP_REFERER"=>"/transactions/new?portfolio_id=1&type=BUY"}


Processing TransactionsController#create (for 127.0.0.1 at 2010-03-10 21:49:01) [POST]
  Parameters: {"commit"=>"Add purchase details", "transaction"=>{"price"=>"80", "shares"=>"100", "comission"=>"10", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"11", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}}
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTransaction Create (0.2ms)[0m   [0;1mINSERT INTO `transactions` (`comission`, `shares`, `price`, `created_at`, `updated_at`, `date`, `stock_id`, `portfolio_id`) VALUES(10.0, 100, 80.0, '2010-03-11 02:49:01', '2010-03-11 02:49:01', '2010-03-11', 1, 1)[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mOwnedStock Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `owned_stocks`[0m
  [4;35;1mOwnedStock Create (0.2ms)[0m   [0mINSERT INTO `owned_stocks` (`shares`, `created_at`, `updated_at`, `stock_id`, `portfolio_id`) VALUES(100, '2010-03-11 02:49:01', '2010-03-11 02:49:01', 1, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/portfolios/1
Completed in 16ms (DB: 1) | 302 Found [http://www.example.com/transactions]
REQUESTING PAGE: GET http://www.example.com/portfolios/1 with {} and HTTP headers {"HTTP_REFERER"=>"/transactions"}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 21:49:01) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
Rendered owned_stocks/_owned_stock (1.8ms)
Completed in 7ms (View: 6, DB: 1) | 200 OK [http://www.example.com/portfolios/1]
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') LIMIT 1[0m
  [4;36;1mOwnedStock Load (0.2ms)[0m   [0;1mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.`stock_id` = 1 AND `owned_stocks`.`portfolio_id` = 1) LIMIT 1[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.user_id = 42) LIMIT 1[0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` IS NULL) LIMIT 1[0m
  [4;35;1mOwnedStock Load (0.2ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 42) [0m
  [4;36;1mSQL (5.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_2', '2010-03-11 02:49:01', '2010-03-11 02:49:01')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 43) [0m
  [4;35;1mPortfolio Create (0.2ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-11 02:49:01', '2010-03-11 02:49:01', 43)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Create (0.3ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_3', '2010-03-11 02:49:01', '2010-03-11 02:49:01')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 44) [0m
  [4;36;1mPortfolio Create (0.2ms)[0m   [0;1mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-11 02:49:01', '2010-03-11 02:49:01', 44)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.3ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_4', '2010-03-11 02:49:01', '2010-03-11 02:49:01')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 45) [0m
  [4;35;1mPortfolio Create (0.1ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-11 02:49:01', '2010-03-11 02:49:01', 45)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'Dani' AND `users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mPortfolio Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `portfolios`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `stocks`[0m
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Load (0.0ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'TEVA') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_1', '2010-03-11 02:49:30', '2010-03-11 02:49:30')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 46) [0m
  [4;35;1mPortfolio Create (0.2ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-11 02:49:30', '2010-03-11 02:49:30', 46)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
REQUESTING PAGE: GET /portfolios/1 with {} and HTTP headers {}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 21:49:30) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.3ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.2ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
Completed in 96ms (View: 9, DB: 4) | 200 OK [http://www.example.com/portfolios/1]
REQUESTING PAGE: GET /transactions/new?portfolio_id=1&type=BUY with {} and HTTP headers {"HTTP_REFERER"=>"/portfolios/1"}


Processing TransactionsController#new (for 127.0.0.1 at 2010-03-10 21:49:30) [GET]
  Parameters: {"type"=>"BUY", "portfolio_id"=>"1"}
  [4;36;1mTransaction Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `transactions`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/transactions
Rendering transactions/new
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` [0m
Rendered transactions/_buy_transaction (26.0ms)
Completed in 34ms (View: 29, DB: 1) | 200 OK [http://www.example.com/transactions/new?portfolio_id=1&type=BUY]
REQUESTING PAGE: POST /transactions with {"commit"=>"Add purchase details", "transaction"=>{"comission"=>"10", "shares"=>"100", "price"=>"80", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"11", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}} and HTTP headers {"HTTP_REFERER"=>"/transactions/new?portfolio_id=1&type=BUY"}


Processing TransactionsController#create (for 127.0.0.1 at 2010-03-10 21:49:30) [POST]
  Parameters: {"commit"=>"Add purchase details", "transaction"=>{"price"=>"80", "shares"=>"100", "comission"=>"10", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"11", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}}
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTransaction Create (0.2ms)[0m   [0;1mINSERT INTO `transactions` (`comission`, `shares`, `price`, `created_at`, `updated_at`, `date`, `stock_id`, `portfolio_id`) VALUES(10.0, 100, 80.0, '2010-03-11 02:49:30', '2010-03-11 02:49:30', '2010-03-11', 1, 1)[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mOwnedStock Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `owned_stocks`[0m
  [4;35;1mOwnedStock Create (0.2ms)[0m   [0mINSERT INTO `owned_stocks` (`shares`, `created_at`, `updated_at`, `stock_id`, `portfolio_id`) VALUES(100, '2010-03-11 02:49:30', '2010-03-11 02:49:30', 1, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/portfolios/1
Completed in 16ms (DB: 1) | 302 Found [http://www.example.com/transactions]
REQUESTING PAGE: GET http://www.example.com/portfolios/1 with {} and HTTP headers {"HTTP_REFERER"=>"/transactions"}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 21:49:30) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
Rendered owned_stocks/_owned_stock (1.9ms)
Completed in 7ms (View: 6, DB: 1) | 200 OK [http://www.example.com/portfolios/1]
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') LIMIT 1[0m
  [4;36;1mOwnedStock Load (0.2ms)[0m   [0;1mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.`stock_id` = 1 AND `owned_stocks`.`portfolio_id` = 1) LIMIT 1[0m
  [4;35;1mPortfolio Load (0.5ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.user_id = 46) LIMIT 1[0m
  [4;36;1mPortfolio Load (0.5ms)[0m   [0;1mSELECT * FROM `portfolios` WHERE (`portfolios`.user_id = 46) LIMIT 1[0m
  [4;35;1mStock Load (0.5ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` IS NULL) LIMIT 1[0m
  [4;36;1mOwnedStock Load (0.4ms)[0m   [0;1mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 46) [0m
  [4;35;1mPortfolio Load (0.5ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.user_id = 46) LIMIT 1[0m
  [4;36;1mStock Load (0.2ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') LIMIT 1[0m
  [4;35;1mOwnedStock Load (0.4ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 46) [0m
  [4;36;1mPortfolio Load (0.2ms)[0m   [0;1mSELECT * FROM `portfolios` WHERE (`portfolios`.user_id = 46) LIMIT 1[0m
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') LIMIT 1[0m
  [4;36;1mOwnedStock Load (0.2ms)[0m   [0;1mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 46) [0m
  [4;35;1mPortfolio Load (0.6ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.user_id = 46) LIMIT 1[0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') LIMIT 1[0m
  [4;35;1mOwnedStock Load (1.9ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 46) [0m
  [4;36;1mStock Load (0.2ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') LIMIT 1[0m
  [4;35;1mPortfolio Load (0.5ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.user_id = 46) LIMIT 1[0m
  [4;36;1mPortfolio Load (0.5ms)[0m   [0;1mSELECT * FROM `portfolios` WHERE (`portfolios`.user_id = 46) LIMIT 1[0m
  [4;35;1mPortfolio Load (0.5ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.user_id = 46) LIMIT 1[0m
  [4;36;1mOwnedStock Load (0.3ms)[0m   [0;1mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 46) [0m
  [4;35;1mOwnedStock Load (0.5ms)[0m   [0mSELECT * FROM `owned_stocks` [0m
  [4;36;1mPortfolio Load (0.5ms)[0m   [0;1mSELECT * FROM `portfolios` WHERE (`portfolios`.user_id = 46) LIMIT 1[0m
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` IS NULL) LIMIT 1[0m
  [4;36;1mOwnedStock Load (0.6ms)[0m   [0;1mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 46) [0m
  [4;35;1mSQL (4.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_2', '2010-03-11 02:58:39', '2010-03-11 02:58:39')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 47) [0m
  [4;36;1mPortfolio Create (0.4ms)[0m   [0;1mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-11 02:58:39', '2010-03-11 02:58:39', 47)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_3', '2010-03-11 02:58:39', '2010-03-11 02:58:39')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 48) [0m
  [4;35;1mPortfolio Create (0.4ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-11 02:58:39', '2010-03-11 02:58:39', 48)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (2.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_4', '2010-03-11 02:58:40', '2010-03-11 02:58:40')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 49) [0m
  [4;36;1mPortfolio Create (0.2ms)[0m   [0;1mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-11 02:58:40', '2010-03-11 02:58:40', 49)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (2.7ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'Dani' AND `users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mPortfolio Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `portfolios`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `stocks`[0m
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'TEVA') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_1', '2010-03-11 02:58:48', '2010-03-11 02:58:48')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 50) [0m
  [4;35;1mPortfolio Create (0.1ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-11 02:58:48', '2010-03-11 02:58:48', 50)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
REQUESTING PAGE: GET /portfolios/1 with {} and HTTP headers {}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 21:58:48) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.3ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.2ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
Completed in 95ms (View: 9, DB: 4) | 200 OK [http://www.example.com/portfolios/1]
REQUESTING PAGE: GET /transactions/new?portfolio_id=1&type=BUY with {} and HTTP headers {"HTTP_REFERER"=>"/portfolios/1"}


Processing TransactionsController#new (for 127.0.0.1 at 2010-03-10 21:58:48) [GET]
  Parameters: {"type"=>"BUY", "portfolio_id"=>"1"}
  [4;36;1mTransaction Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `transactions`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/transactions
Rendering transactions/new
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` [0m
Rendered transactions/_buy_transaction (26.2ms)
Completed in 35ms (View: 29, DB: 1) | 200 OK [http://www.example.com/transactions/new?portfolio_id=1&type=BUY]
REQUESTING PAGE: POST /transactions with {"commit"=>"Add purchase details", "transaction"=>{"comission"=>"10", "shares"=>"100", "price"=>"80", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"11", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}} and HTTP headers {"HTTP_REFERER"=>"/transactions/new?portfolio_id=1&type=BUY"}


Processing TransactionsController#create (for 127.0.0.1 at 2010-03-10 21:58:48) [POST]
  Parameters: {"commit"=>"Add purchase details", "transaction"=>{"price"=>"80", "shares"=>"100", "comission"=>"10", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"11", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}}
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTransaction Create (0.2ms)[0m   [0;1mINSERT INTO `transactions` (`comission`, `shares`, `price`, `created_at`, `updated_at`, `date`, `stock_id`, `portfolio_id`) VALUES(10.0, 100, 80.0, '2010-03-11 02:58:48', '2010-03-11 02:58:48', '2010-03-11', 1, 1)[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mOwnedStock Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `owned_stocks`[0m
  [4;35;1mOwnedStock Create (0.2ms)[0m   [0mINSERT INTO `owned_stocks` (`shares`, `created_at`, `updated_at`, `stock_id`, `portfolio_id`) VALUES(100, '2010-03-11 02:58:48', '2010-03-11 02:58:48', 1, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/portfolios/1
Completed in 16ms (DB: 2) | 302 Found [http://www.example.com/transactions]
REQUESTING PAGE: GET http://www.example.com/portfolios/1 with {} and HTTP headers {"HTTP_REFERER"=>"/transactions"}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 21:58:48) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
Rendered owned_stocks/_owned_stock (1.8ms)
Completed in 7ms (View: 6, DB: 1) | 200 OK [http://www.example.com/portfolios/1]
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') LIMIT 1[0m
  [4;36;1mOwnedStock Load (0.2ms)[0m   [0;1mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.`stock_id` = 1 AND `owned_stocks`.`portfolio_id` = 1) LIMIT 1[0m
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') LIMIT 1[0m
  [4;36;1mOwnedStock Load (0.2ms)[0m   [0;1mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.`id` = '--- :fist\n' AND (`owned_stocks`.`stock_id` = 1 AND `owned_stocks`.`portfolio_id` = 1)) [0m
  [4;35;1mSQL (1.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_2', '2010-03-11 02:58:48', '2010-03-11 02:58:48')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 51) [0m
  [4;36;1mPortfolio Create (0.1ms)[0m   [0;1mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-11 02:58:48', '2010-03-11 02:58:48', 51)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_3', '2010-03-11 02:58:48', '2010-03-11 02:58:48')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 52) [0m
  [4;35;1mPortfolio Create (0.2ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-11 02:58:48', '2010-03-11 02:58:48', 52)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_4', '2010-03-11 02:58:48', '2010-03-11 02:58:48')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 53) [0m
  [4;36;1mPortfolio Create (0.1ms)[0m   [0;1mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-11 02:58:48', '2010-03-11 02:58:48', 53)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'Dani' AND `users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mPortfolio Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `portfolios`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `stocks`[0m
  [4;35;1mStock Load (0.0ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Load (0.0ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'TEVA') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_1', '2010-03-11 02:59:14', '2010-03-11 02:59:14')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 54) [0m
  [4;35;1mPortfolio Create (0.1ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-11 02:59:14', '2010-03-11 02:59:14', 54)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
REQUESTING PAGE: GET /portfolios/1 with {} and HTTP headers {}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 21:59:14) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.3ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.2ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
Completed in 97ms (View: 9, DB: 4) | 200 OK [http://www.example.com/portfolios/1]
REQUESTING PAGE: GET /transactions/new?portfolio_id=1&type=BUY with {} and HTTP headers {"HTTP_REFERER"=>"/portfolios/1"}


Processing TransactionsController#new (for 127.0.0.1 at 2010-03-10 21:59:14) [GET]
  Parameters: {"type"=>"BUY", "portfolio_id"=>"1"}
  [4;36;1mTransaction Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `transactions`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/transactions
Rendering transactions/new
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` [0m
Rendered transactions/_buy_transaction (26.9ms)
Completed in 36ms (View: 30, DB: 1) | 200 OK [http://www.example.com/transactions/new?portfolio_id=1&type=BUY]
REQUESTING PAGE: POST /transactions with {"commit"=>"Add purchase details", "transaction"=>{"comission"=>"10", "shares"=>"100", "price"=>"80", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"11", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}} and HTTP headers {"HTTP_REFERER"=>"/transactions/new?portfolio_id=1&type=BUY"}


Processing TransactionsController#create (for 127.0.0.1 at 2010-03-10 21:59:14) [POST]
  Parameters: {"commit"=>"Add purchase details", "transaction"=>{"price"=>"80", "shares"=>"100", "comission"=>"10", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"11", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}}
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTransaction Create (0.2ms)[0m   [0;1mINSERT INTO `transactions` (`comission`, `shares`, `price`, `created_at`, `updated_at`, `date`, `stock_id`, `portfolio_id`) VALUES(10.0, 100, 80.0, '2010-03-11 02:59:14', '2010-03-11 02:59:14', '2010-03-11', 1, 1)[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mOwnedStock Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `owned_stocks`[0m
  [4;35;1mOwnedStock Create (0.2ms)[0m   [0mINSERT INTO `owned_stocks` (`shares`, `created_at`, `updated_at`, `stock_id`, `portfolio_id`) VALUES(100, '2010-03-11 02:59:14', '2010-03-11 02:59:14', 1, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/portfolios/1
Completed in 16ms (DB: 2) | 302 Found [http://www.example.com/transactions]
REQUESTING PAGE: GET http://www.example.com/portfolios/1 with {} and HTTP headers {"HTTP_REFERER"=>"/transactions"}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 21:59:14) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
Rendered owned_stocks/_owned_stock (2.0ms)
Completed in 7ms (View: 6, DB: 1) | 200 OK [http://www.example.com/portfolios/1]
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') LIMIT 1[0m
  [4;36;1mOwnedStock Load (0.2ms)[0m   [0;1mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.`stock_id` = 1 AND `owned_stocks`.`portfolio_id` = 1) LIMIT 1[0m
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') LIMIT 1[0m
  [4;36;1mOwnedStock Load (0.2ms)[0m   [0;1mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.`stock_id` = 1 AND `owned_stocks`.`portfolio_id` = 1) LIMIT 1[0m
  [4;35;1mSQL (5.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_2', '2010-03-11 02:59:14', '2010-03-11 02:59:14')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 55) [0m
  [4;36;1mPortfolio Create (0.2ms)[0m   [0;1mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-11 02:59:14', '2010-03-11 02:59:14', 55)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (6.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_3', '2010-03-11 02:59:14', '2010-03-11 02:59:14')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 56) [0m
  [4;35;1mPortfolio Create (0.2ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-11 02:59:14', '2010-03-11 02:59:14', 56)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_4', '2010-03-11 02:59:14', '2010-03-11 02:59:14')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 57) [0m
  [4;36;1mPortfolio Create (0.2ms)[0m   [0;1mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-11 02:59:14', '2010-03-11 02:59:14', 57)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'Dani' AND `users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mPortfolio Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `portfolios`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `stocks`[0m
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Load (0.0ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'TEVA') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_1', '2010-03-11 02:59:44', '2010-03-11 02:59:44')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 58) [0m
  [4;35;1mPortfolio Create (0.2ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-11 02:59:44', '2010-03-11 02:59:44', 58)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
REQUESTING PAGE: GET /portfolios/1 with {} and HTTP headers {}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 21:59:44) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.3ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.2ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
Completed in 98ms (View: 10, DB: 4) | 200 OK [http://www.example.com/portfolios/1]
REQUESTING PAGE: GET /transactions/new?portfolio_id=1&type=BUY with {} and HTTP headers {"HTTP_REFERER"=>"/portfolios/1"}


Processing TransactionsController#new (for 127.0.0.1 at 2010-03-10 21:59:44) [GET]
  Parameters: {"type"=>"BUY", "portfolio_id"=>"1"}
  [4;36;1mTransaction Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `transactions`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/transactions
Rendering transactions/new
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` [0m
Rendered transactions/_buy_transaction (26.6ms)
Completed in 35ms (View: 30, DB: 1) | 200 OK [http://www.example.com/transactions/new?portfolio_id=1&type=BUY]
REQUESTING PAGE: POST /transactions with {"commit"=>"Add purchase details", "transaction"=>{"comission"=>"10", "shares"=>"100", "price"=>"80", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"11", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}} and HTTP headers {"HTTP_REFERER"=>"/transactions/new?portfolio_id=1&type=BUY"}


Processing TransactionsController#create (for 127.0.0.1 at 2010-03-10 21:59:45) [POST]
  Parameters: {"commit"=>"Add purchase details", "transaction"=>{"price"=>"80", "shares"=>"100", "comission"=>"10", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"11", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}}
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTransaction Create (0.2ms)[0m   [0;1mINSERT INTO `transactions` (`comission`, `shares`, `price`, `created_at`, `updated_at`, `date`, `stock_id`, `portfolio_id`) VALUES(10.0, 100, 80.0, '2010-03-11 02:59:45', '2010-03-11 02:59:45', '2010-03-11', 1, 1)[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mOwnedStock Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `owned_stocks`[0m
  [4;35;1mOwnedStock Create (0.2ms)[0m   [0mINSERT INTO `owned_stocks` (`shares`, `created_at`, `updated_at`, `stock_id`, `portfolio_id`) VALUES(100, '2010-03-11 02:59:45', '2010-03-11 02:59:45', 1, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/portfolios/1
Completed in 16ms (DB: 2) | 302 Found [http://www.example.com/transactions]
REQUESTING PAGE: GET http://www.example.com/portfolios/1 with {} and HTTP headers {"HTTP_REFERER"=>"/transactions"}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 21:59:45) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.3ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.2ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
Rendered owned_stocks/_owned_stock (2.2ms)
Completed in 8ms (View: 7, DB: 1) | 200 OK [http://www.example.com/portfolios/1]
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') LIMIT 1[0m
  [4;36;1mOwnedStock Load (0.2ms)[0m   [0;1mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.`stock_id` = 1 AND `owned_stocks`.`portfolio_id` = 1) LIMIT 1[0m
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') LIMIT 1[0m
  [4;36;1mOwnedStock Load (0.4ms)[0m   [0;1mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.`stock_id` = 1 AND `owned_stocks`.`portfolio_id` = 1) LIMIT 1[0m
  [4;35;1mSQL (4.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_2', '2010-03-11 02:59:45', '2010-03-11 02:59:45')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 59) [0m
  [4;36;1mPortfolio Create (0.1ms)[0m   [0;1mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-11 02:59:45', '2010-03-11 02:59:45', 59)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_3', '2010-03-11 02:59:45', '2010-03-11 02:59:45')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 60) [0m
  [4;35;1mPortfolio Create (0.2ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-11 02:59:45', '2010-03-11 02:59:45', 60)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_4', '2010-03-11 02:59:45', '2010-03-11 02:59:45')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 61) [0m
  [4;36;1mPortfolio Create (0.1ms)[0m   [0;1mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-11 02:59:45', '2010-03-11 02:59:45', 61)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'Dani' AND `users`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mPortfolio Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `portfolios`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `stocks`[0m
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'TEVA') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_1', '2010-03-11 03:04:43', '2010-03-11 03:04:43')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 62) [0m
  [4;35;1mPortfolio Create (0.2ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-11 03:04:43', '2010-03-11 03:04:43', 62)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
REQUESTING PAGE: GET /portfolios/1 with {} and HTTP headers {}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 22:04:43) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.3ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.2ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
Completed in 13ms (View: 9, DB: 4) | 200 OK [http://www.example.com/portfolios/1]
REQUESTING PAGE: GET /transactions/new?portfolio_id=1&type=BUY with {} and HTTP headers {"HTTP_REFERER"=>"/portfolios/1"}


Processing TransactionsController#new (for 127.0.0.1 at 2010-03-10 22:04:43) [GET]
  Parameters: {"type"=>"BUY", "portfolio_id"=>"1"}
  [4;36;1mTransaction Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `transactions`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/transactions
Rendering transactions/new
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` [0m
Rendered transactions/_buy_transaction (24.9ms)
Completed in 33ms (View: 28, DB: 1) | 200 OK [http://www.example.com/transactions/new?portfolio_id=1&type=BUY]
REQUESTING PAGE: POST /transactions with {"commit"=>"Add purchase details", "transaction"=>{"comission"=>"10", "shares"=>"100", "price"=>"80", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"11", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}} and HTTP headers {"HTTP_REFERER"=>"/transactions/new?portfolio_id=1&type=BUY"}


Processing TransactionsController#create (for 127.0.0.1 at 2010-03-10 22:04:43) [POST]
  Parameters: {"commit"=>"Add purchase details", "transaction"=>{"price"=>"80", "shares"=>"100", "comission"=>"10", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"11", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}}
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTransaction Create (0.2ms)[0m   [0;1mINSERT INTO `transactions` (`comission`, `shares`, `price`, `created_at`, `updated_at`, `date`, `stock_id`, `portfolio_id`) VALUES(10.0, 100, 80.0, '2010-03-11 03:04:43', '2010-03-11 03:04:43', '2010-03-11', 1, 1)[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mOwnedStock Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `owned_stocks`[0m
  [4;35;1mOwnedStock Create (0.2ms)[0m   [0mINSERT INTO `owned_stocks` (`shares`, `created_at`, `updated_at`, `stock_id`, `portfolio_id`) VALUES(100, '2010-03-11 03:04:43', '2010-03-11 03:04:43', 1, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/portfolios/1
Completed in 92ms (DB: 1) | 302 Found [http://www.example.com/transactions]
REQUESTING PAGE: GET http://www.example.com/portfolios/1 with {} and HTTP headers {"HTTP_REFERER"=>"/transactions"}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 22:04:43) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
Rendered owned_stocks/_owned_stock (1.7ms)
Completed in 7ms (View: 6, DB: 1) | 200 OK [http://www.example.com/portfolios/1]
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') LIMIT 1[0m
  [4;36;1mOwnedStock Load (0.2ms)[0m   [0;1mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.`stock_id` = 1 AND `owned_stocks`.`portfolio_id` = 1) LIMIT 1[0m
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') LIMIT 1[0m
  [4;36;1mOwnedStock Load (0.2ms)[0m   [0;1mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.`stock_id` = 1 AND `owned_stocks`.`portfolio_id` = 1) LIMIT 1[0m
REQUESTING PAGE: GET /transactions/new?portfolio_id=1&type=BUY with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/portfolios/1"}


Processing TransactionsController#new (for 127.0.0.1 at 2010-03-10 22:04:43) [GET]
  Parameters: {"type"=>"BUY", "portfolio_id"=>"1"}
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/transactions
Rendering transactions/new
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` [0m
Rendered transactions/_buy_transaction (9.0ms)
Completed in 12ms (View: 10, DB: 1) | 200 OK [http://www.example.com/transactions/new?portfolio_id=1&type=BUY]
REQUESTING PAGE: POST /transactions with {"commit"=>"Add purchase details", "transaction"=>{"comission"=>"10", "shares"=>"100", "price"=>"80", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"11", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}} and HTTP headers {"HTTP_REFERER"=>"/transactions/new?portfolio_id=1&type=BUY"}


Processing TransactionsController#create (for 127.0.0.1 at 2010-03-10 22:04:43) [POST]
  Parameters: {"commit"=>"Add purchase details", "transaction"=>{"price"=>"80", "shares"=>"100", "comission"=>"10", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"11", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}}
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTransaction Create (0.2ms)[0m   [0;1mINSERT INTO `transactions` (`comission`, `shares`, `price`, `created_at`, `updated_at`, `date`, `stock_id`, `portfolio_id`) VALUES(10.0, 100, 80.0, '2010-03-11 03:04:43', '2010-03-11 03:04:43', '2010-03-11', 1, 1)[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mStock Load (0.0ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
  [4;35;1mOwnedStock Update (0.3ms)[0m   [0mUPDATE `owned_stocks` SET `updated_at` = '2010-03-11 03:04:43', `shares` = 200 WHERE `id` = 16[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/portfolios/1
Completed in 11ms (DB: 1) | 302 Found [http://www.example.com/transactions]
REQUESTING PAGE: GET http://www.example.com/portfolios/1 with {} and HTTP headers {"HTTP_REFERER"=>"/transactions"}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 22:04:43) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
Rendered owned_stocks/_owned_stock (0.9ms)
Completed in 6ms (View: 4, DB: 1) | 200 OK [http://www.example.com/portfolios/1]
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') LIMIT 1[0m
  [4;36;1mOwnedStock Load (0.2ms)[0m   [0;1mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.`stock_id` = 1 AND `owned_stocks`.`portfolio_id` = 1) LIMIT 1[0m
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') LIMIT 1[0m
  [4;36;1mOwnedStock Load (0.2ms)[0m   [0;1mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.`stock_id` = 1 AND `owned_stocks`.`portfolio_id` = 1) LIMIT 1[0m
REQUESTING PAGE: GET /transactions/new?portfolio_id=1&type=BUY with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/portfolios/1"}


Processing TransactionsController#new (for 127.0.0.1 at 2010-03-10 22:04:43) [GET]
  Parameters: {"type"=>"BUY", "portfolio_id"=>"1"}
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/transactions
Rendering transactions/new
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` [0m
Rendered transactions/_buy_transaction (9.3ms)
Completed in 12ms (View: 11, DB: 1) | 200 OK [http://www.example.com/transactions/new?portfolio_id=1&type=BUY]
REQUESTING PAGE: POST /transactions with {"commit"=>"Add purchase details", "transaction"=>{"comission"=>"10", "shares"=>"99", "price"=>"65", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"11", "type"=>"ActionView::Base", "stock_id"=>"2", "portfolio_id"=>"1"}} and HTTP headers {"HTTP_REFERER"=>"/transactions/new?portfolio_id=1&type=BUY"}


Processing TransactionsController#create (for 127.0.0.1 at 2010-03-10 22:04:43) [POST]
  Parameters: {"commit"=>"Add purchase details", "transaction"=>{"price"=>"65", "shares"=>"99", "comission"=>"10", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"11", "type"=>"ActionView::Base", "stock_id"=>"2", "portfolio_id"=>"1"}}
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTransaction Create (0.2ms)[0m   [0;1mINSERT INTO `transactions` (`comission`, `shares`, `price`, `created_at`, `updated_at`, `date`, `stock_id`, `portfolio_id`) VALUES(10.0, 99, 65.0, '2010-03-11 03:04:43', '2010-03-11 03:04:43', '2010-03-11', 2, 1)[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 2) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
  [4;35;1mOwnedStock Create (0.2ms)[0m   [0mINSERT INTO `owned_stocks` (`shares`, `created_at`, `updated_at`, `stock_id`, `portfolio_id`) VALUES(99, '2010-03-11 03:04:43', '2010-03-11 03:04:43', 2, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/portfolios/1
Completed in 13ms (DB: 1) | 302 Found [http://www.example.com/transactions]
REQUESTING PAGE: GET http://www.example.com/portfolios/1 with {} and HTTP headers {"HTTP_REFERER"=>"/transactions"}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 22:04:43) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
Rendered owned_stocks/_owned_stock (0.9ms)
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 2) [0m
Rendered owned_stocks/_owned_stock (0.7ms)
Completed in 7ms (View: 5, DB: 1) | 200 OK [http://www.example.com/portfolios/1]
  [4;36;1mSQL (44.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_2', '2010-03-11 03:04:44', '2010-03-11 03:04:44')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 63) [0m
  [4;35;1mPortfolio Create (0.1ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-11 03:04:44', '2010-03-11 03:04:44', 63)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_3', '2010-03-11 03:04:44', '2010-03-11 03:04:44')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 64) [0m
  [4;36;1mPortfolio Create (0.1ms)[0m   [0;1mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-11 03:04:44', '2010-03-11 03:04:44', 64)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'Dani' AND `users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mPortfolio Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `portfolios`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `stocks`[0m
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'TEVA') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_1', '2010-03-11 03:05:07', '2010-03-11 03:05:07')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 65) [0m
  [4;35;1mPortfolio Create (0.1ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-11 03:05:07', '2010-03-11 03:05:07', 65)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
REQUESTING PAGE: GET /portfolios/1 with {} and HTTP headers {}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 22:05:07) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.3ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.2ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
Completed in 15ms (View: 10, DB: 5) | 200 OK [http://www.example.com/portfolios/1]
REQUESTING PAGE: GET /transactions/new?portfolio_id=1&type=BUY with {} and HTTP headers {"HTTP_REFERER"=>"/portfolios/1"}


Processing TransactionsController#new (for 127.0.0.1 at 2010-03-10 22:05:07) [GET]
  Parameters: {"type"=>"BUY", "portfolio_id"=>"1"}
  [4;36;1mTransaction Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `transactions`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/transactions
Rendering transactions/new
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` [0m
Rendered transactions/_buy_transaction (26.6ms)
Completed in 35ms (View: 29, DB: 1) | 200 OK [http://www.example.com/transactions/new?portfolio_id=1&type=BUY]
REQUESTING PAGE: POST /transactions with {"commit"=>"Add purchase details", "transaction"=>{"comission"=>"10", "shares"=>"100", "price"=>"80", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"11", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}} and HTTP headers {"HTTP_REFERER"=>"/transactions/new?portfolio_id=1&type=BUY"}


Processing TransactionsController#create (for 127.0.0.1 at 2010-03-10 22:05:07) [POST]
  Parameters: {"commit"=>"Add purchase details", "transaction"=>{"price"=>"80", "shares"=>"100", "comission"=>"10", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"11", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}}
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTransaction Create (0.2ms)[0m   [0;1mINSERT INTO `transactions` (`comission`, `shares`, `price`, `created_at`, `updated_at`, `date`, `stock_id`, `portfolio_id`) VALUES(10.0, 100, 80.0, '2010-03-11 03:05:07', '2010-03-11 03:05:07', '2010-03-11', 1, 1)[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mOwnedStock Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `owned_stocks`[0m
  [4;35;1mOwnedStock Create (0.3ms)[0m   [0mINSERT INTO `owned_stocks` (`shares`, `created_at`, `updated_at`, `stock_id`, `portfolio_id`) VALUES(100, '2010-03-11 03:05:07', '2010-03-11 03:05:07', 1, 1)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/portfolios/1
Completed in 99ms (DB: 2) | 302 Found [http://www.example.com/transactions]
REQUESTING PAGE: GET http://www.example.com/portfolios/1 with {} and HTTP headers {"HTTP_REFERER"=>"/transactions"}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 22:05:08) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
Rendered owned_stocks/_owned_stock (1.7ms)
Completed in 7ms (View: 6, DB: 1) | 200 OK [http://www.example.com/portfolios/1]
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') LIMIT 1[0m
  [4;36;1mOwnedStock Load (0.2ms)[0m   [0;1mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.`stock_id` = 1 AND `owned_stocks`.`portfolio_id` = 1) LIMIT 1[0m
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') LIMIT 1[0m
  [4;36;1mOwnedStock Load (0.2ms)[0m   [0;1mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.`stock_id` = 1 AND `owned_stocks`.`portfolio_id` = 1) LIMIT 1[0m
REQUESTING PAGE: GET /transactions/new?portfolio_id=1&type=BUY with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/portfolios/1"}


Processing TransactionsController#new (for 127.0.0.1 at 2010-03-10 22:05:08) [GET]
  Parameters: {"type"=>"BUY", "portfolio_id"=>"1"}
  [4;35;1mPortfolio Load (0.3ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/transactions
Rendering transactions/new
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` [0m
Rendered transactions/_buy_transaction (9.5ms)
Completed in 13ms (View: 11, DB: 1) | 200 OK [http://www.example.com/transactions/new?portfolio_id=1&type=BUY]
REQUESTING PAGE: POST /transactions with {"commit"=>"Add purchase details", "transaction"=>{"comission"=>"10", "shares"=>"100", "price"=>"80", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"11", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}} and HTTP headers {"HTTP_REFERER"=>"/transactions/new?portfolio_id=1&type=BUY"}


Processing TransactionsController#create (for 127.0.0.1 at 2010-03-10 22:05:08) [POST]
  Parameters: {"commit"=>"Add purchase details", "transaction"=>{"price"=>"80", "shares"=>"100", "comission"=>"10", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"11", "type"=>"ActionView::Base", "stock_id"=>"1", "portfolio_id"=>"1"}}
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTransaction Create (0.2ms)[0m   [0;1mINSERT INTO `transactions` (`comission`, `shares`, `price`, `created_at`, `updated_at`, `date`, `stock_id`, `portfolio_id`) VALUES(10.0, 100, 80.0, '2010-03-11 03:05:08', '2010-03-11 03:05:08', '2010-03-11', 1, 1)[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.2ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
  [4;35;1mOwnedStock Update (0.4ms)[0m   [0mUPDATE `owned_stocks` SET `updated_at` = '2010-03-11 03:05:08', `shares` = 200 WHERE `id` = 18[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/portfolios/1
Completed in 12ms (DB: 1) | 302 Found [http://www.example.com/transactions]
REQUESTING PAGE: GET http://www.example.com/portfolios/1 with {} and HTTP headers {"HTTP_REFERER"=>"/transactions"}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 22:05:08) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.3ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.2ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
Rendered owned_stocks/_owned_stock (1.1ms)
Completed in 7ms (View: 5, DB: 1) | 200 OK [http://www.example.com/portfolios/1]
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') LIMIT 1[0m
  [4;36;1mOwnedStock Load (0.2ms)[0m   [0;1mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.`stock_id` = 1 AND `owned_stocks`.`portfolio_id` = 1) LIMIT 1[0m
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') LIMIT 1[0m
  [4;36;1mOwnedStock Load (0.2ms)[0m   [0;1mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.`stock_id` = 1 AND `owned_stocks`.`portfolio_id` = 1) LIMIT 1[0m
REQUESTING PAGE: GET /transactions/new?portfolio_id=1&type=BUY with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/portfolios/1"}


Processing TransactionsController#new (for 127.0.0.1 at 2010-03-10 22:05:08) [GET]
  Parameters: {"type"=>"BUY", "portfolio_id"=>"1"}
  [4;35;1mPortfolio Load (0.3ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/transactions
Rendering transactions/new
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` [0m
Rendered transactions/_buy_transaction (9.6ms)
Completed in 13ms (View: 11, DB: 1) | 200 OK [http://www.example.com/transactions/new?portfolio_id=1&type=BUY]
REQUESTING PAGE: POST /transactions with {"commit"=>"Add purchase details", "transaction"=>{"comission"=>"10", "shares"=>"99", "price"=>"65", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"11", "type"=>"ActionView::Base", "stock_id"=>"2", "portfolio_id"=>"1"}} and HTTP headers {"HTTP_REFERER"=>"/transactions/new?portfolio_id=1&type=BUY"}


Processing TransactionsController#create (for 127.0.0.1 at 2010-03-10 22:05:08) [POST]
  Parameters: {"commit"=>"Add purchase details", "transaction"=>{"price"=>"65", "shares"=>"99", "comission"=>"10", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"11", "type"=>"ActionView::Base", "stock_id"=>"2", "portfolio_id"=>"1"}}
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTransaction Create (0.2ms)[0m   [0;1mINSERT INTO `transactions` (`comission`, `shares`, `price`, `created_at`, `updated_at`, `date`, `stock_id`, `portfolio_id`) VALUES(10.0, 99, 65.0, '2010-03-11 03:05:08', '2010-03-11 03:05:08', '2010-03-11', 2, 1)[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 2) [0m
  [4;35;1mOwnedStock Load (0.2ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
  [4;35;1mOwnedStock Create (0.4ms)[0m   [0mINSERT INTO `owned_stocks` (`shares`, `created_at`, `updated_at`, `stock_id`, `portfolio_id`) VALUES(99, '2010-03-11 03:05:08', '2010-03-11 03:05:08', 2, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/portfolios/1
Completed in 14ms (DB: 1) | 302 Found [http://www.example.com/transactions]
REQUESTING PAGE: GET http://www.example.com/portfolios/1 with {} and HTTP headers {"HTTP_REFERER"=>"/transactions"}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 22:05:08) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
Rendered owned_stocks/_owned_stock (1.0ms)
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 2) [0m
Rendered owned_stocks/_owned_stock (1.0ms)
Completed in 8ms (View: 6, DB: 1) | 200 OK [http://www.example.com/portfolios/1]
  [4;36;1mStock Load (0.3ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'TEVA') LIMIT 1[0m
  [4;35;1mOwnedStock Load (0.2ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.`stock_id` = 2 AND `owned_stocks`.`portfolio_id` = 1) LIMIT 1[0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'TEVA') LIMIT 1[0m
  [4;35;1mOwnedStock Load (0.2ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.`stock_id` = 2 AND `owned_stocks`.`portfolio_id` = 1) LIMIT 1[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_2', '2010-03-11 03:05:08', '2010-03-11 03:05:08')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 66) [0m
  [4;35;1mPortfolio Create (0.1ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-11 03:05:08', '2010-03-11 03:05:08', 66)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_3', '2010-03-11 03:05:08', '2010-03-11 03:05:08')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 67) [0m
  [4;36;1mPortfolio Create (0.1ms)[0m   [0;1mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-11 03:05:08', '2010-03-11 03:05:08', 67)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`name` = 'Dani' AND `users`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mPortfolio Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `portfolios`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `stocks`[0m
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'TEVA') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_1', '2010-03-11 03:09:42', '2010-03-11 03:09:42')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 68) [0m
  [4;35;1mPortfolio Create (0.1ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-11 03:09:42', '2010-03-11 03:09:42', 68)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
REQUESTING PAGE: GET /portfolios/1 with {} and HTTP headers {}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 22:09:42) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.2ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
Completed in 13ms (View: 9, DB: 4) | 200 OK [http://www.example.com/portfolios/1]
REQUESTING PAGE: GET /transactions/new?portfolio_id=1&type=BUY with {} and HTTP headers {"HTTP_REFERER"=>"/portfolios/1"}


Processing TransactionsController#new (for 127.0.0.1 at 2010-03-10 22:09:42) [GET]
  Parameters: {"type"=>"BUY", "portfolio_id"=>"1"}
  [4;36;1mTransaction Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `transactions`[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/transactions
Rendering transactions/new
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` [0m
Rendered transactions/_buy_transaction (24.5ms)
Completed in 33ms (View: 27, DB: 1) | 200 OK [http://www.example.com/transactions/new?portfolio_id=1&type=BUY]
REQUESTING PAGE: POST /transactions with {"commit"=>"Add purchase details", "transaction"=>{"comission"=>"10", "shares"=>"100", "price"=>"80", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"11", "type"=>"BUY", "stock_id"=>"1", "portfolio_id"=>"1"}} and HTTP headers {"HTTP_REFERER"=>"/transactions/new?portfolio_id=1&type=BUY"}


Processing TransactionsController#create (for 127.0.0.1 at 2010-03-10 22:09:42) [POST]
  Parameters: {"commit"=>"Add purchase details", "transaction"=>{"price"=>"80", "shares"=>"100", "comission"=>"10", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"11", "type"=>"BUY", "stock_id"=>"1", "portfolio_id"=>"1"}}
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTransaction Create (0.2ms)[0m   [0;1mINSERT INTO `transactions` (`comission`, `shares`, `price`, `created_at`, `updated_at`, `date`, `stock_id`, `portfolio_id`) VALUES(10.0, 100, 80.0, '2010-03-11 03:09:42', '2010-03-11 03:09:42', '2010-03-11', 1, 1)[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mOwnedStock Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `owned_stocks`[0m
  [4;35;1mOwnedStock Create (0.2ms)[0m   [0mINSERT INTO `owned_stocks` (`shares`, `created_at`, `updated_at`, `stock_id`, `portfolio_id`) VALUES(100, '2010-03-11 03:09:42', '2010-03-11 03:09:42', 1, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/portfolios/1
Completed in 94ms (DB: 1) | 302 Found [http://www.example.com/transactions]
REQUESTING PAGE: GET http://www.example.com/portfolios/1 with {} and HTTP headers {"HTTP_REFERER"=>"/transactions"}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 22:09:42) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
Rendered owned_stocks/_owned_stock (1.7ms)
Completed in 7ms (View: 6, DB: 1) | 200 OK [http://www.example.com/portfolios/1]
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') LIMIT 1[0m
  [4;36;1mOwnedStock Load (0.2ms)[0m   [0;1mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.`stock_id` = 1 AND `owned_stocks`.`portfolio_id` = 1) LIMIT 1[0m
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') LIMIT 1[0m
  [4;36;1mOwnedStock Load (0.2ms)[0m   [0;1mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.`stock_id` = 1 AND `owned_stocks`.`portfolio_id` = 1) LIMIT 1[0m
REQUESTING PAGE: GET /transactions/new?portfolio_id=1&type=BUY with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/portfolios/1"}


Processing TransactionsController#new (for 127.0.0.1 at 2010-03-10 22:09:42) [GET]
  Parameters: {"type"=>"BUY", "portfolio_id"=>"1"}
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/transactions
Rendering transactions/new
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` [0m
Rendered transactions/_buy_transaction (9.5ms)
Completed in 13ms (View: 11, DB: 1) | 200 OK [http://www.example.com/transactions/new?portfolio_id=1&type=BUY]
REQUESTING PAGE: POST /transactions with {"commit"=>"Add purchase details", "transaction"=>{"comission"=>"10", "shares"=>"100", "price"=>"80", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"11", "type"=>"BUY", "stock_id"=>"1", "portfolio_id"=>"1"}} and HTTP headers {"HTTP_REFERER"=>"/transactions/new?portfolio_id=1&type=BUY"}


Processing TransactionsController#create (for 127.0.0.1 at 2010-03-10 22:09:42) [POST]
  Parameters: {"commit"=>"Add purchase details", "transaction"=>{"price"=>"80", "shares"=>"100", "comission"=>"10", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"11", "type"=>"BUY", "stock_id"=>"1", "portfolio_id"=>"1"}}
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTransaction Create (0.2ms)[0m   [0;1mINSERT INTO `transactions` (`comission`, `shares`, `price`, `created_at`, `updated_at`, `date`, `stock_id`, `portfolio_id`) VALUES(10.0, 100, 80.0, '2010-03-11 03:09:42', '2010-03-11 03:09:42', '2010-03-11', 1, 1)[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
  [4;35;1mOwnedStock Update (0.2ms)[0m   [0mUPDATE `owned_stocks` SET `updated_at` = '2010-03-11 03:09:42', `shares` = 200 WHERE `id` = 20[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/portfolios/1
Completed in 11ms (DB: 1) | 302 Found [http://www.example.com/transactions]
REQUESTING PAGE: GET http://www.example.com/portfolios/1 with {} and HTTP headers {"HTTP_REFERER"=>"/transactions"}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 22:09:42) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.2ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
Rendered owned_stocks/_owned_stock (1.0ms)
Completed in 7ms (View: 6, DB: 1) | 200 OK [http://www.example.com/portfolios/1]
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') LIMIT 1[0m
  [4;36;1mOwnedStock Load (0.2ms)[0m   [0;1mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.`stock_id` = 1 AND `owned_stocks`.`portfolio_id` = 1) LIMIT 1[0m
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'BRK') LIMIT 1[0m
  [4;36;1mOwnedStock Load (0.2ms)[0m   [0;1mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.`stock_id` = 1 AND `owned_stocks`.`portfolio_id` = 1) LIMIT 1[0m
REQUESTING PAGE: GET /transactions/new?portfolio_id=1&type=BUY with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/portfolios/1"}


Processing TransactionsController#new (for 127.0.0.1 at 2010-03-10 22:09:42) [GET]
  Parameters: {"type"=>"BUY", "portfolio_id"=>"1"}
  [4;35;1mPortfolio Load (0.3ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/transactions
Rendering transactions/new
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` [0m
Rendered transactions/_buy_transaction (9.5ms)
Completed in 13ms (View: 11, DB: 1) | 200 OK [http://www.example.com/transactions/new?portfolio_id=1&type=BUY]
REQUESTING PAGE: POST /transactions with {"commit"=>"Add purchase details", "transaction"=>{"comission"=>"10", "shares"=>"99", "price"=>"65", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"11", "type"=>"BUY", "stock_id"=>"2", "portfolio_id"=>"1"}} and HTTP headers {"HTTP_REFERER"=>"/transactions/new?portfolio_id=1&type=BUY"}


Processing TransactionsController#create (for 127.0.0.1 at 2010-03-10 22:09:42) [POST]
  Parameters: {"commit"=>"Add purchase details", "transaction"=>{"price"=>"65", "shares"=>"99", "comission"=>"10", "date(1i)"=>"2010", "date(2i)"=>"3", "date(3i)"=>"11", "type"=>"BUY", "stock_id"=>"2", "portfolio_id"=>"1"}}
WARNING: Can't mass-assign these protected attributes: type
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTransaction Create (0.2ms)[0m   [0;1mINSERT INTO `transactions` (`comission`, `shares`, `price`, `created_at`, `updated_at`, `date`, `stock_id`, `portfolio_id`) VALUES(10.0, 99, 65.0, '2010-03-11 03:09:42', '2010-03-11 03:09:42', '2010-03-11', 2, 1)[0m
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
  [4;36;1mStock Load (0.0ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 2) [0m
  [4;35;1mOwnedStock Load (0.2ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
  [4;35;1mOwnedStock Create (0.2ms)[0m   [0mINSERT INTO `owned_stocks` (`shares`, `created_at`, `updated_at`, `stock_id`, `portfolio_id`) VALUES(99, '2010-03-11 03:09:43', '2010-03-11 03:09:43', 2, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/portfolios/1
Completed in 13ms (DB: 1) | 302 Found [http://www.example.com/transactions]
REQUESTING PAGE: GET http://www.example.com/portfolios/1 with {} and HTTP headers {"HTTP_REFERER"=>"/transactions"}


Processing PortfoliosController#show (for 127.0.0.1 at 2010-03-10 22:09:43) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mPortfolio Load (0.2ms)[0m   [0mSELECT * FROM `portfolios` WHERE (`portfolios`.`id` = 1) [0m
Rendering template within layouts/portfolios
Rendering portfolios/show
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mOwnedStock Load (0.1ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.portfolio_id = 1) [0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 1) [0m
Rendered owned_stocks/_owned_stock (1.0ms)
  [4;35;1mStock Load (0.1ms)[0m   [0mSELECT * FROM `stocks` WHERE (`stocks`.`id` = 2) [0m
Rendered owned_stocks/_owned_stock (0.7ms)
Completed in 7ms (View: 6, DB: 1) | 200 OK [http://www.example.com/portfolios/1]
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'TEVA') LIMIT 1[0m
  [4;35;1mOwnedStock Load (0.2ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.`stock_id` = 2 AND `owned_stocks`.`portfolio_id` = 1) LIMIT 1[0m
  [4;36;1mStock Load (0.1ms)[0m   [0;1mSELECT * FROM `stocks` WHERE (`stocks`.`ticker` = 'TEVA') LIMIT 1[0m
  [4;35;1mOwnedStock Load (0.2ms)[0m   [0mSELECT * FROM `owned_stocks` WHERE (`owned_stocks`.`stock_id` = 2 AND `owned_stocks`.`portfolio_id` = 1) LIMIT 1[0m
  [4;36;1mSQL (5.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Create (0.2ms)[0m   [0mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_2', '2010-03-11 03:09:43', '2010-03-11 03:09:43')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 69) [0m
  [4;35;1mPortfolio Create (0.1ms)[0m   [0mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-11 03:09:43', '2010-03-11 03:09:43', 69)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mUser Create (0.2ms)[0m   [0;1mINSERT INTO `users` (`name`, `created_at`, `updated_at`) VALUES('Person_3', '2010-03-11 03:09:43', '2010-03-11 03:09:43')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 70) [0m
  [4;36;1mPortfolio Create (0.1ms)[0m   [0;1mINSERT INTO `portfolios` (`name`, `created_at`, `updated_at`, `user_id`) VALUES('A', '2010-03-11 03:09:43', '2010-03-11 03:09:43', 70)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
