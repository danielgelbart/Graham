Feature: Managing a user's portfolio

  In order to to advertise my property listings on goliveit
  As a landlord
  I want to be able to usr payal's payment pro plan

Background:
    Given I am logged in as a "landlord"
    And I have a property at "123 Magic lane" in "Cardiff"

Scenario: Paying using paypal pro
    Given paypal pro gateway is mocked and always returns "success"
    When I follow "Portfolio"
    And I follow "Advertise this property"
    And I select "Advertise property 7 days for Â£3.0" from "payment_property_payment_plan_attributes_payment_plan_id"
    And I select "Visa" from "payment_card_type"
    And I fill in "payment_card_number" with "4024007148673576"
    And I fill in "payment_card_verification" with "123"
    And I select "2012" from "payment_card_expiration_1i"
    And I select "3 - March" from "payment_card_expiration_2i"
    #Billing info:
    And I fill in "payment_billing_info_attributes_billing_address" with "123 Main road"
    And I select "Cardiff" from "payment_billing_info_attributes_city_id"
    And I select "United Kingdom" from "payment_billing_info_attributes_country_id"
    And press "submit"
